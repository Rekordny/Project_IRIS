#每周增加点数
lottery_points_on_weekly_add = {
    add_to_variable = {
        lottery_points = 7
    }
}
#增加星辉
starlight_add_1 = {
    set_variable = {
        IRIS_start_extracting_variable = -1
    }
    add_to_variable = {
        starlight = 70
    }
}
#增加星辉
starlight_add_2 = {
    set_variable = {
        IRIS_start_extracting_variable = -2
    }
    add_to_variable = {
        starlight = 40
    }
}
#增加星辉
starlight_add_3 = {
    set_variable = {
        IRIS_start_extracting_variable = -3
    }
    add_to_variable = {
        starlight = 15
    }
}
#信仰值变星辉
belief_value_convert_lottery_points = {
    multiply_variable = {
        belief_value = 0.5
    }
    add_to_variable = {
        starlight = belief_value
    }
    belief_value_del = yes
}
#清空信仰值
belief_value_del = {
    clear_variable = belief_value
    set_variable = {
        belief_value = 0
    }
}
#减少点数
lottery_points_del = {
    add_to_variable = {
        lottery_points = -35
    }
}
#增加信仰值
belief_value_add = {
    add_to_variable = {
        belief_value = 1
    }
}
#启动
IRIS_role_firing_icon_click_firing = {
    if = {
        limit = {
            has_country_flag = IRIS_role_firing_icon_click_firing_flag
        }
        clr_country_flag = IRIS_role_firing_icon_click_firing_flag
    }
    else = {
        set_country_flag = IRIS_role_firing_icon_click_firing_flag
    }
}

#启动商店
start_store = {
    if = {
        limit = {
            has_country_flag = start_store_flag
        }
        clr_country_flag = start_store_flag
    }
    else = {
        set_country_flag = start_store_flag
    }
}
IRIS_role_pool_specific_rule_flag_switch = {
    # clear_array = IRIS_illustrated_handbook_icon_array
    for_loop_effect = {
        end = 40
        value = temp
        if = {
            limit = {
                NOT = {
                    check_variable = { temp = 4 }
                    check_variable = { temp = 5 }
                    check_variable = { temp = 6 }
                    check_variable = { temp = 7 }
                    check_variable = { temp = 19 }
                    check_variable = { temp = 20 }
                    check_variable = { temp = 21 }
                    check_variable = { temp = 22 }
                    check_variable = { temp = 24 }
                    check_variable = { temp = 25 }
                    check_variable = { temp = 26 }
                    check_variable = { temp = 27 }
                    check_variable = { temp = 30 }
                    check_variable = { temp = 34 }
                    check_variable = { temp = 35 }
                }
            }
            add_to_array = { IRIS_illustrated_handbook_icon_array = temp }
        }
    }

    remove_from_array = { IRIS_illustrated_handbook_icon_array = 1 }

    if = {
        limit = {
            has_country_flag = IRIS_illustrated_handbook_flag
        }
        clr_country_flag = IRIS_illustrated_handbook_flag
        clear_array = IRIS_illustrated_handbook_icon_array
    }
    else = {
        set_country_flag = IRIS_illustrated_handbook_flag
    }
}
#查看所有大奖池角色
characters_in_grand_prize_pool_button = {
    if = {
        limit = {
            has_country_flag = characters_in_grand_prize_pool_button_flag
        }
        clr_country_flag = characters_in_grand_prize_pool_button_flag
    }
    else = {
        set_country_flag = characters_in_grand_prize_pool_button_flag
    }
}
#减少星辉
starlight_del_95 = {
    add_to_variable = {
        starlight = -95
    }
}
#减少星辉
starlight_del_125 = {
    add_to_variable = {
        starlight = -125
    }
}

#开始抽取
IRIS_start_extracting = {
    lottery_points_del = yes
    belief_value_add = yes
    clear_variable = IRIS_start_extracting_variable #显示抽奖角色变量去除
    if = {
        limit = {
            check_variable = {
                belief_value > 99
            }
        }
        if = {
            limit = {
                has_country_flag = IRIS_role_pool_specific_vocaloid_1
            }
            if = {
                limit = {
                    NOT = {
                        has_country_flag = has_miku_flag
                    }
                }
                add_role_miku = yes
            }
            else = {
                starlight_add_1 = yes
            }
        }
        if = {
            limit = {
                has_country_flag = IRIS_role_pool_specific_jiuweixumei
            }
            if = {
                limit = {
                    NOT = {
                        has_country_flag = has_nogi_sonoko_flag
                    }
                }
                add_nogi_sonoko = yes
            }
            else = {
                starlight_add_1 = yes
            }
        }
        if = {
            limit = {
                has_country_flag = IRIS_role_pool_specific_icey
            }
            if = {
                limit = {
                    NOT = {
                        has_country_flag = has_icey_flag
                    }
                }
                add_ICEY = yes
            }
            else = {
                starlight_add_1 = yes
            }
        }
        belief_value_del = yes
    }
    else = {
        random_list = {
            5 = {
                if = {
                    limit = {
                        has_country_flag = IRIS_role_pool_specific_vocaloid_1
                    }
                    random_list = {
                        10 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_miku_flag
                                    }
                                }
                                add_role_miku = yes
                            }
                            else = {
                                starlight_add_1 = yes
                            }
                        }
                        30 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_Megurine_Luka_flag
                                    }
                                }
                                add_Megurine_Luka = yes
                            }
                            else = {
                                starlight_add_2 = yes
                            }
                        }
                        30 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_Kagamine_Len_flag
                                    }
                                }
                                add_Kagamine_Len = yes
                            }
                            else = {
                                starlight_add_2 = yes
                            }
                        }
                        30 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_Kagamine_Rin_flag
                                    }
                                }
                                add_Kagamine_Rin = yes
                            }
                            else = {
                                starlight_add_2 = yes
                            }
                        }
                    }
                }
                if = {
                    limit = {
                        has_country_flag = IRIS_role_pool_specific_jiuweixumei
                    }
                    random_list = {
                        10 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_nogi_sonoko_flag
                                    }
                                }
                                add_nogi_sonoko = yes
                            }
                            else = {
                                starlight_add_1 = yes
                            }
                        }
                        30 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_yuki_yuna_flag
                                    }
                                }
                                add_yuki_yuna = yes
                            }
                            else = {
                                starlight_add_2 = yes
                            }
                        }
                        30 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_togo_mimori_flag
                                    }
                                }
                                add_togo_mimori = yes
                            }
                            else = {
                                starlight_add_2 = yes
                            }
                        }
                        30 = {
                            if = {
                                limit = {
                                    NOT = {
                                        has_country_flag = has_minowa_gin_flag
                                    }
                                }
                                add_minowa_gin = yes
                            }
                            else = {
                                starlight_add_2 = yes
                            }
                        }
                    }
                }
                if = {
                    limit = {
                        has_country_flag = IRIS_role_pool_specific_icey
                    }
                    if = {
                        limit = {
                            NOT = {
                                has_country_flag = has_icey_flag
                            }
                        }
                        add_ICEY = yes
                    }
                    else = {
                        starlight_add_1 = yes
                    }
                }
            }
            35 = {
                random_list = {
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_steel_lady_nanase_flag
                                }
                            }
                            add_steel_lady_nanase = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_yumihara_saki_flag
                                }
                            }
                            add_yumihara_saki = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_nanase_karin_flag
                                }
                            }
                            add_nanase_karin = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_takatsuke_terada_flag
                                }
                            }
                            add_takatsuke_terada = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_sakuragawa_rikka_flag
                                }
                            }
                            add_sakuragawa_rikka = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_iwanaga_Kotoko_flag
                                }
                            }
                            add_iwanaga_Kotoko = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_sakuragawa_kurou_flag
                                }
                            }
                            add_sakuragawa_kurou = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Yuki_Onna_flag
                                }
                            }
                            add_Yuki_Onna = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Takeya_Yuki_flag
                                }
                            }
                            add_Takeya_Yuki = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Ebisuzawa_Kurumi_flag
                                }
                            }
                            add_Ebisuzawa_Kurumi = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Naoki_Miki_flag
                                }
                            }
                            add_Naoki_Miki = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Sakura_Megumi_flag
                                }
                            }
                            add_Sakura_Megumi = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Wakasa_Yuri_flag
                                }
                            }
                            add_Wakasa_Yuri = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Minamoto_Sakura_flag
                    #             }
                    #         }
                    #         add_Minamoto_Sakura = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Minamoto_Sakura_flag
                    #             }
                    #         }
                    #         add_Minamoto_Sakura_2 = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Nikaido_Saki_flag
                    #             }
                    #         }
                    #         add_Nikaido_Saki = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Nikaido_Saki_flag
                    #             }
                    #         }
                    #         add_Nikaido_Saki_2 = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Mizuno_Ai_flag
                    #             }
                    #         }
                    #         add_Mizuno_Ai = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Mizuno_Ai_flag
                    #             }
                    #         }
                    #         add_Mizuno_Ai_2 = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Konno_Junko_flag
                    #             }
                    #         }
                    #         add_Konno_Junko = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Konno_Junko_flag
                    #             }
                    #         }
                    #         add_Konno_Junko_2 = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Yuugiri_flag
                    #             }
                    #         }
                    #         add_Yuugiri = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Yuugiri_flag
                    #             }
                    #         }
                    #         add_Yuugiri_2 = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Hoshikawa_Lily_flag
                    #             }
                    #         }
                    #         add_Hoshikawa_Lily = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Hoshikawa_Lily_flag
                    #             }
                    #         }
                    #         add_Hoshikawa_Lily_2 = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Yamada_Tae_flag
                    #             }
                    #         }
                    #         add_Yamada_Tae = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    # 10 = {
                    #     if = {
                    #         limit = {
                    #             NOT = {
                    #                 has_country_flag = has_Yamada_Tae_flag
                    #             }
                    #         }
                    #         add_Yamada_Tae_2 = yes
                    #     }
                    #     else = {
                    #         starlight_add_3 = yes
                    #     }
                    # }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Tatsumi_Kotarou_flag
                                }
                            }
                            add_Tatsumi_Kotarou = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Sylvie_flag
                                }
                            }
                            add_Sylvie = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                    10 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_country_flag = has_Sylvie_flag
                                }
                            }
                            add_Sylvie = yes
                        }
                        else = {
                            starlight_add_3 = yes
                        }
                    }
                }
            }
            60 = {
                if = {
                    limit = {
                        NOT = {
                            has_country_flag = has_Norgrich_flag
                        }
                        tag = DOC
                    }
                    add_Norgrich = yes
                }
                random_list = {
                    0 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_idea = lottery_only_ideas_KFC
                                }
                            }
                            set_variable = {
                                IRIS_start_extracting_variable = 10001
                            }
                            add_timed_idea = {
                                idea = lottery_only_ideas_KFC days = 10
                            }
                        }
                        else = {
                            set_variable = {
                                IRIS_start_extracting_variable = 10011
                            }
                            add_political_power = 5
                        }
                    }
                    0 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_idea = lottery_only_ideas_industrial_inspiration
                                }
                            }
                            set_variable = {
                                IRIS_start_extracting_variable = 10002
                            }
                            add_timed_idea = {
                                idea = lottery_only_ideas_industrial_inspiration days = 10
                            }
                        }
                        else = {
                            set_variable = {
                                IRIS_start_extracting_variable = 10011
                            }
                            add_political_power = 5
                        }
                    }
                    0 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_idea = lottery_only_ideas_production_inspiration
                                }
                            }
                            set_variable = {
                                IRIS_start_extracting_variable = 10003
                            }
                            add_timed_idea = {
                                idea = lottery_only_ideas_production_inspiration days = 10
                            }
                        }
                        else = {
                            set_variable = {
                                IRIS_start_extracting_variable = 10011
                            }
                            add_political_power = 5
                        }
                    }
                    0 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_idea = lottery_only_ideas_navy_inspiration
                                }
                            }
                            set_variable = {
                                IRIS_start_extracting_variable = 10004
                            }
                            add_timed_idea = {
                                idea = lottery_only_ideas_navy_inspiration days = 10
                            }
                        }
                        else = {
                            set_variable = {
                                IRIS_start_extracting_variable = 10011
                            }
                            add_political_power = 5
                        }
                    }
                    0 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_idea = lottery_only_ideas_army_inspiration
                                }
                            }
                            set_variable = {
                                IRIS_start_extracting_variable = 10005
                            }
                            add_timed_idea = {
                                idea = lottery_only_ideas_army_inspiration days = 10
                            }
                        }
                        else = {
                            set_variable = {
                                IRIS_start_extracting_variable = 10011
                            }
                            add_political_power = 5
                        }
                    }
                    0 = {
                        if = {
                            limit = {
                                NOT = {
                                    has_idea = lottery_only_ideas_politics_inspiration
                                }
                            }
                            set_variable = {
                                IRIS_start_extracting_variable = 10006
                            }
                            add_timed_idea = {
                                idea = lottery_only_ideas_politics_inspiration days = 10
                            }
                        }
                        else = {
                            set_variable = {
                                IRIS_start_extracting_variable = 10011
                            }
                            add_political_power = 5
                        }
                    }
                    10 = {
                        set_variable = {
                            IRIS_start_extracting_variable = 10007
                        }
                        air_experience = 2
                    }
                    10 = {
                        set_variable = {
                            IRIS_start_extracting_variable = 10008
                        }
                        navy_experience = 2
                    }
                    10 = {
                        set_variable = {
                            IRIS_start_extracting_variable = 10009
                        }
                        army_experience = 2
                    }
                    10 = {
                        set_variable = {
                            IRIS_start_extracting_variable = 10010
                        }
                        add_political_power = 15
                    }
                }
            }
        }
    }
    set_country_flag = IRIS_Obtain_items_flag
}

#角色（ 大）
add_role_miku = {
    create_field_marshal = {
        name = "role_miku"
        traits = {
            inspirational_leader
        }
        portrait_path = GFX_role_miku
        skill = 3
        attack_skill = 7
        defense_skill = 5
        planning_skill = 4
        logistics_skill = 8
    }
    set_variable = {
        IRIS_start_extracting_variable = 1
    }
    set_country_flag = has_miku_flag
}
add_Megurine_Luka = {
    create_field_marshal = {
        name = "Megurine_Luka"
        traits = {
            inspirational_leader
        }
        portrait_path = GFX_Megurine_Luka
        skill = 3
        attack_skill = 5
        defense_skill = 4
        planning_skill = 4
        logistics_skill = 6
    }
    set_variable = {
        IRIS_start_extracting_variable = 2
    }
    set_country_flag = has_Megurine_Luka_flag
}
add_Kagamine_Len = {
    create_field_marshal = {
        name = "Kagamine_Len"
        traits = {
            yuanqi inspirational_leader
        }
        portrait_path = GFX_Kagamine_Len
        skill = 3
        attack_skill = 6
        defense_skill = 2
        planning_skill = 4
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 3
    }
    set_country_flag = has_Kagamine_Len_flag
}
add_Kagamine_Rin = {
    create_field_marshal = {
        name = "Kagamine_Rin"
        traits = {
            yuanqi inspirational_leader
        }
        portrait_path = GFX_Kagamine_Rin
        skill = 3
        attack_skill = 3
        defense_skill = 5
        planning_skill = 4
        logistics_skill = 6
    }
    set_variable = {
        IRIS_start_extracting_variable = 4
    }
    set_country_flag = has_Kagamine_Rin_flag
}

add_ICEY = {
    create_field_marshal = {
        name = "ICEY"
        traits = {
            wudechongpei defensive_doctrine offensive_doctrine
        }
        portrait_path = GFX_ICEY
        skill = 3
        attack_skill = 8
        defense_skill = 6
        planning_skill = 4
        logistics_skill = 4
    }
    set_variable = {
        IRIS_start_extracting_variable = 5
    }
    set_country_flag = has_icey_flag
}

add_nogi_sonoko = {
    create_field_marshal = {
        name = "nogi_sonoko"
        traits = {
            luoli tianrandai
        }
        portrait_path = GFX_nogi_sonoko
        skill = 3
        attack_skill = 7
        defense_skill = 6
        planning_skill = 5
        logistics_skill = 3
    }
    set_variable = {
        IRIS_start_extracting_variable = 6
    }
    set_country_flag = has_nogi_sonoko_flag
}
add_yuki_yuna = {
    create_field_marshal = {
        name = "yuki_yuna"
        traits = {
            luoli yuanqi
        }
        portrait_path = GFX_yuki_yuna
        skill = 3
        attack_skill = 5
        defense_skill = 5
        planning_skill = 2
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 7
    }
    set_country_flag = has_yuki_yuna_flag
}
add_togo_mimori = {
    create_field_marshal = {
        name = "togo_mimori"
        traits = {
            luoli bingjiao
        }
        portrait_path = GFX_togo_mimori
        skill = 3
        attack_skill = 6
        defense_skill = 1
        planning_skill = 3
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 8
    }
    set_country_flag = has_togo_mimori_flag
}
add_minowa_gin = {
    create_field_marshal = {
        name = "minowa_gin"
        traits = {
            luoli yuanqi bendan wudechongpei
        }
        portrait_path = GFX_minowa_gin
        skill = 3
        attack_skill = 4
        defense_skill = 4
        planning_skill = 2
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 9
    }
    set_country_flag = has_minowa_gin_flag
}
#这里是诗旎专属
add_Norgrich = {
    add_field_marshal_role = {
        Character = DOC_Norgrich
        traits = {
            winter_specialist Mana_leader DOC_Unstable_Heroes DOC_executioner_misfortune
        }
        desc = DOC_Norgrich_desc
        skill = 6
        attack_skill = 8
        defense_skill = 8
        planning_skill = 8
        logistics_skill = 8
    }
    add_advisor_role = {
        character = DOC_Norgrich
        advisor = {
            slot = political_advisor
            cost = 75
            desc = DOC_Norgrich_desc
            idea_token = DOC_Norgrich
            traits = {
                DOC_first_ancestor
            }
        }
    }
    set_variable = {
        IRIS_start_extracting_variable = 10
    }
    set_country_flag = has_Norgrich_flag
}

#角色（ 小）
add_steel_lady_nanase = {
    create_corps_commander = {
        name = "steel_lady_nanase"
        portrait_path = GFX_nanase_karin
        traits = {
            kuangqi
        }
        skill = 2
        attack_skill = 4
        defense_skill = 3
        planning_skill = 1
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1001
    }
    set_country_flag = has_steel_lady_nanase_flag
}
add_nanase_karin = {
    create_corps_commander = {
        name = "nanase_karin"
        portrait_path = GFX_steel_lady_nanase
        traits = {}
        skill = 2
        attack_skill = 2
        defense_skill = 1
        planning_skill = 1
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1002
    }
    set_country_flag = has_nanase_karin_flag
}
add_yumihara_saki = {
    create_corps_commander = {
        name = "yumihara_saki"
        portrait_path = GFX_yumihara_saki
        traits = {
            wudechongpei
        }
        skill = 2
        attack_skill = 3
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1003
    }
    set_country_flag = has_yumihara_saki_flag
}
add_takatsuke_terada = {
    create_corps_commander = {
        name = "takatsuke_terada"
        portrait_path = GFX_takatsuke_terada
        traits = {
            wudechongpei
        }
        skill = 2
        attack_skill = 3
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1004
    }
    set_country_flag = has_takatsuke_terada_flag
}
add_sakuragawa_rikka = {
    create_corps_commander = {
        name = "sakuragawa_rikka"
        portrait_path = GFX_sakuragawa_rikka
        traits = {}
        skill = 2
        attack_skill = 2
        defense_skill = 1
        planning_skill = 1
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1005
    }
    set_country_flag = has_sakuragawa_rikka_flag
}
add_iwanaga_Kotoko = {
    create_corps_commander = {
        name = "iwanaga_Kotoko"
        portrait_path = GFX_iwanaga_Kotoko
        traits = {}
        skill = 2
        attack_skill = 3
        defense_skill = 1
        planning_skill = 1
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1006
    }
    set_country_flag = has_iwanaga_Kotoko_flag
}
add_sakuragawa_kurou = {
    create_corps_commander = {
        name = "sakuragawa_kurou"
        portrait_path = GFX_sakuragawa_kurou
        traits = {}
        skill = 2
        attack_skill = 2
        defense_skill = 2
        planning_skill = 1
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1007
    }
    set_country_flag = has_sakuragawa_kurou_flag
}
add_Yuki_Onna = {
    create_corps_commander = {
        name = "Yuki_Onna"
        portrait_path = GFX_Yuki_Onna
        traits = {
            lenjiao winter_specialist
        }
        skill = 2
        attack_skill = 2
        defense_skill = 2
        planning_skill = 1
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1008
    }
    set_country_flag = has_Yuki_Onna_flag
}

add_Takeya_Yuki = {
    create_corps_commander = {
        name = "Takeya_Yuki"
        portrait_path = GFX_Takeya_Yuki
        traits = {
            luoli yuanqi
        }
        skill = 2
        attack_skill = 2
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1009
    }
    set_country_flag = has_Takeya_Yuki_flag
}
add_Ebisuzawa_Kurumi = {
    create_corps_commander = {
        name = "Ebisuzawa_Kurumi"
        portrait_path = GFX_Ebisuzawa_Kurumi
        traits = {
            wudechongpei
        }
        skill = 2
        attack_skill = 4
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1010
    }
    set_country_flag = has_Ebisuzawa_Kurumi_flag
}
add_Wakasa_Yuri = {
    create_corps_commander = {
        name = "Wakasa_Yuri"
        portrait_path = GFX_Wakasa_Yuri
        traits = {
            gongzuokuang
        }
        skill = 2
        attack_skill = 1
        defense_skill = 2
        planning_skill = 3
        logistics_skill = 3
    }
    set_variable = {
        IRIS_start_extracting_variable = 1011
    }
    set_country_flag = has_Wakasa_Yuri_flag
}
add_Naoki_Miki = {
    create_corps_commander = {
        name = "Naoki_Miki"
        portrait_path = GFX_Naoki_Miki
        traits = {
            tiancai luoli
        }
        skill = 2
        attack_skill = 3
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1012
    }
    set_country_flag = has_Naoki_Miki_flag
}
add_Sakura_Megumi = {
    create_corps_commander = {
        name = "Sakura_Megumi"
        portrait_path = GFX_Sakura_Megumi
        traits = {}
        skill = 2
        attack_skill = 1
        defense_skill = 3
        planning_skill = 3
        logistics_skill = 3
    }
    set_variable = {
        IRIS_start_extracting_variable = 1013
    }
    set_country_flag = has_Sakura_Megumi_flag
}
add_Minamoto_Sakura = {
    create_corps_commander = {
        name = "Minamoto_Sakura"
        portrait_path = GFX_Minamoto_Sakura
        traits = {}
        skill = 2
        attack_skill = 2
        defense_skill = 4
        planning_skill = 1
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1014
    }
    set_country_flag = has_Minamoto_Sakura_flag
}
add_Minamoto_Sakura_2 = {
    create_corps_commander = {
        name = "Minamoto_Sakura"
        portrait_path = GFX_Minamoto_Sakura_2
        traits = {}
        skill = 2
        attack_skill = 2
        defense_skill = 4
        planning_skill = 1
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1015
    }
    set_country_flag = has_Minamoto_Sakura_flag
}
add_Nikaido_Saki = {
    create_corps_commander = {
        name = "Nikaido_Saki"
        portrait_path = GFX_Nikaido_Saki
        traits = {
            wudechongpei
        }
        skill = 2
        attack_skill = 4
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1016
    }
    set_country_flag = has_Nikaido_Saki_flag
}
add_Nikaido_Saki_2 = {
    create_corps_commander = {
        name = "Nikaido_Saki"
        portrait_path = GFX_Nikaido_Saki_2
        traits = {
            wudechongpei
        }
        skill = 2
        attack_skill = 4
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1017
    }
    set_country_flag = has_Nikaido_Saki_flag
}
add_Mizuno_Ai = {
    create_corps_commander = {
        name = "Mizuno_Ai"
        portrait_path = GFX_Mizuno_Ai
        traits = {}
        skill = 2
        attack_skill = 3
        defense_skill = 1
        planning_skill = 3
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1018
    }
    set_country_flag = has_Mizuno_Ai_flag
}
add_Mizuno_Ai_2 = {
    create_corps_commander = {
        name = "Mizuno_Ai"
        portrait_path = GFX_Mizuno_Ai_2
        traits = {}
        skill = 2
        attack_skill = 3
        defense_skill = 1
        planning_skill = 3
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1019
    }
    set_country_flag = has_Mizuno_Ai_flag
}
add_Konno_Junko = {
    create_corps_commander = {
        name = "Konno_Junko"
        portrait_path = GFX_Konno_Junko
        traits = {}
        skill = 2
        attack_skill = 2
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 3
    }
    set_variable = {
        IRIS_start_extracting_variable = 1020
    }
    set_country_flag = has_Konno_Junko_flag
}
add_Konno_Junko_2 = {
    create_corps_commander = {
        name = "Konno_Junko"
        portrait_path = GFX_Konno_Junko_2
        traits = {}
        skill = 2
        attack_skill = 2
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 3
    }
    set_variable = {
        IRIS_start_extracting_variable = 1021
    }
    set_country_flag = has_Konno_Junko_flag
}
add_Yuugiri = {
    create_corps_commander = {
        name = "Yuugiri"
        portrait_path = GFX_Yuugiri
        traits = {}
        skill = 2
        attack_skill = 3
        defense_skill = 1
        planning_skill = 1
        logistics_skill = 3
    }
    set_variable = {
        IRIS_start_extracting_variable = 1022
    }
    set_country_flag = has_Yuugiri_flag
}
add_Yuugiri_2 = {
    create_corps_commander = {
        name = "Yuugiri"
        portrait_path = GFX_Yuugiri_2
        traits = {}
        skill = 2
        attack_skill = 3
        defense_skill = 1
        planning_skill = 1
        logistics_skill = 3
    }
    set_variable = {
        IRIS_start_extracting_variable = 1023
    }
    set_country_flag = has_Yuugiri_flag
}
add_Hoshikawa_Lily = {
    create_corps_commander = {
        name = "Hoshikawa_Lily"
        portrait_path = GFX_Hoshikawa_Lily
        traits = {
            luoli
        }
        skill = 2
        attack_skill = 2
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1024
    }
    set_country_flag = has_Hoshikawa_Lily_flag
}
add_Hoshikawa_Lily_2 = {
    create_corps_commander = {
        name = "Hoshikawa_Lily"
        portrait_path = GFX_Hoshikawa_Lily_2
        traits = {
            luoli
        }
        skill = 2
        attack_skill = 2
        defense_skill = 2
        planning_skill = 2
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1025
    }
    set_country_flag = has_Hoshikawa_Lily_flag
}
add_Yamada_Tae = {
    create_corps_commander = {
        name = "Yamada_Tae"
        portrait_path = GFX_Yamada_Tae
        traits = {
            bendan
        }
        skill = 2
        attack_skill = 2
        defense_skill = 3
        planning_skill = 1
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1026
    }
    set_country_flag = has_Yamada_Tae_flag
}
add_Yamada_Tae_2 = {
    create_corps_commander = {
        name = "Yamada_Tae"
        portrait_path = GFX_Yamada_Tae_2
        traits = {
            bendan
        }
        skill = 2
        attack_skill = 2
        defense_skill = 3
        planning_skill = 1
        logistics_skill = 1
    }
    set_variable = {
        IRIS_start_extracting_variable = 1027
    }
    set_country_flag = has_Yamada_Tae_flag
}
add_Tatsumi_Kotarou = {
    create_corps_commander = {
        name = "Tatsumi_Kotarou"
        portrait_path = GFX_Tatsumi_Kotarou
        traits = {
            kuangqi fast_planner thorough_planner
        }
        skill = 2
        attack_skill = 1
        defense_skill = 1
        planning_skill = 4
        logistics_skill = 4
    }
    set_variable = {
        IRIS_start_extracting_variable = 1028
    }
    set_country_flag = has_Tatsumi_Kotarou_flag
}
add_Sylvie = {
    create_corps_commander = {
        name = "Sylvie"
        portrait_path = GFX_Sylvie
        traits = {
            daughter logistics_wizard
        }
        skill = 2
        attack_skill = 1
        defense_skill = 1
        planning_skill = 1
        logistics_skill = 8
    }
    set_variable = {
        IRIS_start_extracting_variable = 1029
    }
    set_country_flag = has_Sylvie_flag
    every_unit_leader = {
        limit = {
            has_trait = daughter
        }
        add_advisor_role = {
            character = PREV
            advisor = {
                slot = political_advisor
                cost = 125
                idea_token = Sylvie
                traits = {
                    Sylvie_daughter
                }
            }
        }
    }
}
add_Sylvie_2 = {
    create_corps_commander = {
        name = "Sylvie"
        portrait_path = GFX_Sylvie_2
        traits = {
            daughter logistics_wizard
        }
        skill = 2
        attack_skill = 1
        defense_skill = 1
        planning_skill = 1
        logistics_skill = 8
    }
    set_variable = {
        IRIS_start_extracting_variable = 1030
    }
    set_country_flag = has_Sylvie_flag
}

add_Kaltsit = {
    create_corps_commander = {
        name = "Kaltsit"
        portrait_path = GFX_Kaltsit
        traits = {
            old_guard defensive_doctrine
        }
        skill = 4
        attack_skill = 3
        defense_skill = 4
        planning_skill = 4
        logistics_skill = 5
    }
    set_variable = {
        IRIS_start_extracting_variable = 1031
    }
    set_country_flag = has_Kaltsit_flag
}

add_Lucy_Montgomery = {
    create_corps_commander = {
        name = "Lucy_Montgomery"
        portrait_path = GFX_Lucy_Montgomery
        traits = {
            organizer infantry_leader offensive_doctrine inspirational_leader thorough_planner infantry_expert
        }
        skill = 4
        attack_skill = 6
        defense_skill = 2
        planning_skill = 4
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1032
    }
    set_country_flag = has_Lucy_Montgomery_flag
}

add_Lucy_Montgomery_2 = {
    create_field_marshal = {
        name = "Lucy_Montgomery"
        portrait_path = GFX_Lucy_Montgomery
        traits = {
            organizer infantry_leader offensive_doctrine inspirational_leader thorough_planner infantry_expert
        }
        skill = 4
        attack_skill = 6
        defense_skill = 2
        planning_skill = 4
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1032
    }
    set_country_flag = has_Lucy_Montgomery_flag
}

add_Eunectes = {
    create_corps_commander = {
        name = "Eunectes"
        portrait_path = GFX_Eunectes
        traits = {
            panzer_leader panzer_expert defensive_doctrine swamp_fox jungle_rat ranger adaptable
        }
        skill = 4
        attack_skill = 3
        defense_skill = 6
        planning_skill = 3
        logistics_skill = 2
    }
    set_variable = {
        IRIS_start_extracting_variable = 1033
    }
    set_country_flag = has_Eunectes_flag
}

add_1145 = {
    create_corps_commander = {
        name = "田所浩二"
        portrait_path = GFX_1145
        traits = {
            1145_speciality logistics_wizard
        }
        skill = 3
        attack_skill = 1
        defense_skill = 1
        planning_skill = 4
        logistics_skill = 5
    }
    set_variable = {
        IRIS_start_extracting_variable = 1145
    }
    set_country_flag = has_1145_flag
    every_unit_leader = {
        limit = {
            has_trait = 1145_speciality
        }
        add_advisor_role = {
            character = PREV
            advisor = {
                slot = high_command
                cost = 50
                idea_token = 1145_idea_token
                traits = {
                    1145_leader_traits
                }
            }
        }
    }
}

add_1145_leader = {
    set_cosmetic_tag = 1145_country
    set_party_name = {
        ideology = democratic
        long_name = 1145_party
        name = 1145_party_long
    }
    set_party_name = {
        ideology = communism
        long_name = 1145_party
        name = 1145_party_long
    }
    set_party_name = {
        ideology = fascism
        long_name = 1145_party
        name = 1145_party_long
    }
    set_party_name = {
        ideology = neutrality
        long_name = 1145_party
        name = 1145_party_long
    }
    set_party_name = {
        ideology = reactionism
        long_name = 1145_party
        name = 1145_party_long
    }
    set_politics = {
        ruling_party = fascism
        elections_allowed = no
    }
    set_popularities = {
        neutrality = 10
        democratic = 20
        communism = 10
        fascism = 50
        reactionism = 10
    }
    if = {
        limit = {
            check_variable = {
                global.1145_leader = 1
            }
        }
        #set_country_flag = has_1145_annex_flag
        every_country = {
            limit = {
                has_country_flag = has_1145_leader_flag
            }
            PREV = {
                every_character = {
                    set_nationality = {
                        target_country = PREV.PREV
                        character = PREV
                    }
                }
                transfer_navy = {
                    target = PREV
                }
            }

            annex_country = {
                target = ROOT
                transfer_troops = yes
            }
            change_tag_from = ROOT
        }
    }
    else = {
        set_variable = {
            global.1145_leader = 1
        }
        set_country_flag = has_1145_leader_flag
        every_state = {
            ROOT = {
                add_state_core = PREV
            }
        }
    }
    every_unit_leader = {
        limit = {
            has_trait = 1145_speciality
        }
        add_country_leader_role = {
            character = PREV
            promote_leader = yes
            country_leader = {
                ideology = sub_Facism
                traits = { }
            }
        }
        add_country_leader_role = {
            character = PREV
            promote_leader = yes
            country_leader = {
                ideology = sub_Social_Liberalism
                traits = { }
            }
        }
        add_country_leader_role = {
            character = PREV
            promote_leader = yes
            country_leader = {
                ideology = sub_Jacobinism
                traits = { }
            }
        }
        add_country_leader_role = {
            character = PREV
            promote_leader = yes
            country_leader = {
                ideology = sub_Junta
                traits = { }
            }
        }
        add_country_leader_role = {
            character = PREV
            promote_leader = yes
            country_leader = {
                ideology = sub_Reactionism
                traits = { }
            }
        }
    }
}
#刷新奖池
Replace_card_pool_randomly = {
    clr_country_flag = IRIS_role_pool_specific_vocaloid_1
    clr_country_flag = IRIS_role_pool_specific_icey
    clr_country_flag = IRIS_role_pool_specific_jiuweixumei
    random_list = {
        10 = {
            set_country_flag = IRIS_role_pool_specific_vocaloid_1
        }
        10 = {
            set_country_flag = IRIS_role_pool_specific_icey
        }
        10 = {
            set_country_flag = IRIS_role_pool_specific_jiuweixumei
        }
    }
}