on_actions = {
	on_startup = {
		effect = {
			BLA = {
				country_event = {id = BLA_intro.1 days = 2}
			}
			every_state = {
				limit = {
					is_core_of = NAC
				}
				add_core_of = BLA
			}
			every_state = {
				limit = {
					is_core_of = BLA
				}
				add_core_of = NAC
			}
			BLA = {
				#态度初始化
				set_variable = {BLA_nobility_opinion = 40}
				set_variable = {BLA_church_opinion = 50}
				set_variable = {BLA_army_opinion = 20}
				set_variable = {BLA_capitalist_opinion = 30}
				set_variable = {BLA_freeman_opinion = 33}
				set_variable = {BLA_serf_opinion = -50}
				
				#每点态度修正
				set_variable = {BLA_stability_factor = 0.004}
				set_variable = {BLA_political_power_gain = 0.002}
				set_variable = {BLA_army_morale_factor = 0.001}
				set_variable = {BLA_army_attack_factor = 0.001}
				set_variable = {BLA_army_defence_factor = 0.001}
				set_variable = {BLA_consumer_goods_factor = -0.003}
				set_variable = {BLA_conscription_factor = 0.003}
				set_variable = {BLA_communism_drift = -0.001}
				#每周变化初始化
				set_variable = {BLA_nobility_opinion_change = 0}
				set_variable = {BLA_church_opinion_change = 0.25}
				set_variable = {BLA_army_opinion_change = -0.5}
				set_variable = {BLA_capitalist_opinion_change = 0}
				set_variable = {BLA_freeman_opinion_change = -0.5}
				set_variable = {BLA_serf_opinion_change = -1.3}
				#计算修正
				set_variable = {BLA_dynamic_political_advisor_cost_factor = 0.30}
				set_variable = {BLA_dynamic_trade_laws_cost_factor = 0.30}
				set_variable = {BLA_dynamic_economy_cost_factor = 0.30}
				set_variable = {BLA_dynamic_max_command_power = 0}
				set_variable = {BLA_dynamic_production_speed_buildings_factor_2 = 0}
				set_variable = {BLA_dynamic_stability_factor = BLA_stability_factor}
				set_variable = {BLA_dynamic_political_power_gain = BLA_political_power_gain}
				set_variable = {BLA_dynamic_army_morale_factor = BLA_army_morale_factor}
				set_variable = {BLA_dynamic_army_attack_factor = BLA_army_attack_factor}
				set_variable = {BLA_dynamic_army_defence_factor = BLA_army_defence_factor}
				set_variable = {BLA_dynamic_consumer_goods_factor = BLA_consumer_goods_factor}
				set_variable = {BLA_dynamic_conscription_factor = BLA_conscription_factor}
				set_variable = {BLA_dynamic_communism_drift = BLA_communism_drift}
				multiply_variable = { BLA_dynamic_stability_factor = BLA_nobility_opinion} #贵族
				multiply_variable = { BLA_dynamic_political_power_gain = BLA_church_opinion} #教会
				multiply_variable = { BLA_dynamic_army_morale_factor = BLA_church_opinion} #教会
				multiply_variable = { BLA_dynamic_army_attack_factor = BLA_army_opinion} #军队
				multiply_variable = { BLA_dynamic_army_defence_factor = BLA_army_opinion} #军队
				multiply_variable = { BLA_dynamic_consumer_goods_factor = BLA_capitalist_opinion} #实业家
				multiply_variable = { BLA_dynamic_conscription_factor = BLA_freeman_opinion} #自由民
				multiply_variable = { BLA_dynamic_communism_drift = BLA_serf_opinion} #农奴
				add_dynamic_modifier = {modifier = BLA_rule_of_tsar_dynamic_modifier}
			}
			BLA = {
				country_event = {id = BLA_general.1 days = 200}
				#罗西亚工业化动态修正
				add_dynamic_modifier = {modifier = BLA_industralization_dynamic_modifier}
				set_variable = {BLA_industralization_target = 69}
				set_variable = {BLA_industralization_status = 1}
				set_variable = {BLA_dynamic_industrial_capacity_factory = -0.35}
				set_variable = {BLA_dynamic_industrial_capacity_dockyard = -0.20}
				set_variable = {BLA_dynamic_production_factory_max_efficiency_factor = -0.15}
				set_variable = {BLA_dynamic_production_speed_buildings_factor = -0.30}
				set_variable = {BLA_dynamic_local_resources_factor = -0.50}
				set_variable = {BLA_dynamic_research_speed_factor = 0}
				set_variable = {BLA_dynamic_production_speed_industrial_complex_factor = 0}
				set_variable = {BLA_dynamic_production_speed_arms_factory_factor = 0}
				set_variable = {BLA_dynamic_monthly_population = 0}
				set_variable = {BLA_dynamic_global_building_slots_factor = 0}
				#第三厅初始化
				set_variable = {BLA_monthly_secret_action = 0}
				set_variable = {BLA_nobility_secret = 0}
				set_variable = {BLA_church_secret = 0}
				set_variable = {BLA_army_secret = 0}
				set_variable = {BLA_capitalist_secret = 0}
				#工业化初始化
				set_variable = {BLA_industralization_fund = 400}
				set_variable = {BLA_num_of_dockyard_invested = 0}
				set_variable = {BLA_num_of_af_invested = 0}
				set_variable = {BLA_num_of_ic_invested = 0}
				set_variable = {BLA_num_of_tech_invested = 0}
				set_variable = {BLA_num_of_infantry_equipment_invested = 0}
				set_variable = {BLA_num_of_atrillery_invested = 0}
				set_variable = {BLA_num_of_panzer_invested = 0}
				set_variable = {BLA_num_of_air_invested = 0}
				set_variable = {BLA_num_of_naval_invested = 0}
				#基础资金贡献
				set_variable = {BLA_nobility_basic_tax = 0.4}
				set_variable = {BLA_church_basic_tax = 0}
				set_variable = {BLA_capitalist_basic_tax = 0.5}
				set_variable = {BLA_capitalist_reinvest = num_of_civilian_factories}
				multiply_variable = {BLA_capitalist_reinvest = 0.2}
				set_variable = {BLA_freeman_tax = 25} #自由民税收固定
				set_variable = {BLA_serf_tax = 50} #农奴税收固定
				set_variable = {BLA_extra = 10}
				set_variable = {BLA_foreign_investment = 0}
				set_variable = {BLA_nobility_tax = BLA_nobility_basic_tax}
        		multiply_variable = {BLA_nobility_tax = BLA_nobility_opinion}
				set_variable = {BLA_church_tax = BLA_church_basic_tax}
        		multiply_variable = {BLA_church_tax = BLA_church_opinion}
				set_variable = {BLA_capitalist_tax = BLA_capitalist_basic_tax}
        		multiply_variable = {BLA_capitalist_tax = BLA_capitalist_opinion}
				#债务初始化
				set_variable = {BLA_debt = 0}
				set_variable = {BLA_other_debt = 0}
				set_variable = {BLA_ELN_debt = 0}
				set_variable = {BLA_ANZ_debt = 0}
				set_variable = {BLA_USR_debt = 0}
				set_variable = {BLA_USF_debt = 0}
				set_variable = {BLA_STG_debt = 0}
				add_to_variable = {BLA_debt = BLA_other_debt}
				add_to_variable = {BLA_debt = BLA_ELN_debt}
				add_to_variable = {BLA_debt = BLA_ANZ_debt}
				add_to_variable = {BLA_debt = BLA_USR_debt}
				add_to_variable = {BLA_debt = BLA_USF_debt}
				add_to_variable = {BLA_debt = BLA_STG_debt}
				#利息
				set_variable = {BLA_total_interest = BLA_debt}
				multiply_variable = {BLA_total_interest = 0.01}
				#决议花费
				set_variable = {BLA_rot_nobility_cost = 25}
				set_variable = {BLA_secret_police_cost = 10}
			}
		}
	}
	on_weekly = {
		effect = {
			every_country = {
				limit = {
					is_puppet_of = BLA
					NOT = {
						has_idea = BLA_rossiya_faction_member
					}
					BLA = {
						has_completed_focus = BLA_Anna_Faction
					}
				}
				add_ideas = BLA_rossiya_faction_member
			}
		}
	}
	on_weekly_BLA = {
        effect = {
            BLA = {
				BLA_check_industralization = yes
				BLA_opinion_weekly_change = yes
				BLA_update_rot = yes
				BLA_calculate_total_debt = yes
				BLA_calculate_reinvest = yes
				BLA_calculate_nobility_tax = yes
				BLA_calculate_church_tax = yes
				BLA_calculate_capitalist_tax = yes
            }
        }
    }
	on_monthly_BLA = {
		effect = {
			BLA = {
				set_variable = {BLA_monthly_secret_action = 0}
				BLA_calculate_total_tax = yes
			}
		}
	}
	on_capitulation_immediate = {
		effect = {
			if = {
				limit = {
					ROOT = {
						tag = NAC
						has_war_with = BLA
						has_country_flag = allow_direct_annex
					}
				}
				if = {
					limit = {
						FROM = {
							tag = BLA
						}
					}
					WRA = {
						transfer_navy = {
							target = FROM
						}
					}
					ROOT = {
						transfer_navy = {
							target = FROM
						}
						white_peace  = {
							tag = FROM
							message = BLA_WON_Revolution
						}
					}
					FROM = {
						annex_country = {
							target = ROOT
							transfer_troops = no
						}
						annex_country = {
							target = WAR
							transfer_troops = yes
						}
						remove_ideas = BLA_Second_Rossiya_Revolution
					}
					217 = {
						remove_core_of = WAR
					}
					if = {
						limit = {
							OPA = {
								has_government = communism
							}
						}
						FROM = {
							declare_war_on = {
								target = OPA
								type = annex_everything
							}
						}
					}
					else = {
						FROM = {
							set_autonomy = {
								target = OPA
								autonomous_state = patriarchate
							}
						}
					}
				}
				news_event = {id = BLA_news.6 days = 3}
			}
			if = {
				limit = {
					ROOT = {
						tag = BLA
						has_war_with = NAC
						has_country_flag = allow_direct_annex
					}
				}
				if = {
					limit = {
						FROM = {
							tag = NAC
						}
					}
					ROOT = {
						Clear_Big_Game_ideas = yes
						transfer_navy = {
							target = FROM
						}
						white_peace  = {
							tag = FROM
							message = NAC_WON_Revolution
						}
					}
					WAR = {
						transfer_navy = {
							target = FROM
						}
					}
					FROM = {
						Clear_Big_Game_ideas = yes
						annex_country = {
							target = ROOT
							transfer_troops = no
						}
						annex_country = {
							target = WAR
							transfer_troops = yes
						}
						remove_ideas = NAC_to_freedom
						remove_ideas = NAC_Second_Rossiya_Revolution
						remove_ideas = NAC_block
					}
					OPA = {
						if = {
							limit = {
								NOT = {
									has_government = NAC
								}
							}
							country_event = {id = BLA_rev.999}
						}
					}
					217 = {
						remove_core_of = WAR
					}
				}
				news_event = {id = BLA_news.7 days = 3}
			}
			if = {
				limit = {
					ROOT = {
						tag = OPA
						has_war_with = NAC
					}
				}
				if = {
					limit = {
						FROM = {
							tag = NAC
						}
					}
					ROOT = {
						Clear_Big_Game_ideas = yes
						transfer_navy = {
							target = FROM
						}
						white_peace  = {
							tag = FROM
							message = NAC_defeated_OPA
						}
					}
					FROM = {
						Clear_Big_Game_ideas = yes
						annex_country = {
							target = ROOT
							transfer_troops = no
						}
					}
				}
			}
		}
	}
	on_monthly_BLA = {
		effect = {
			if = {
				limit = {
					country_exists = NAC
					country_exists = BLA
					NOT = {
						NAC = {
							has_war_with = BLA
						}
					}
					NOT = {
						has_global_flag = End_Big_Game_flag
					}
				}
				BLA = {
					Big_Game_result_effect = yes
				}
			}
		}
	}
}