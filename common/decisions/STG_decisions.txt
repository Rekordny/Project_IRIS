#内部之敌
STG_internal_ememy = {
    #粉碎卡美洛派
    STG_crush_cam = {
        available = {
            reactionism < 0.06
            has_country_flag = STG_can_crush_cam
            custom_trigger_tooltip = {
                tooltip = STG_threat_solved_desc
                has_country_flag = STG_investigation_ended
            }
        }
        visible = {
            tag = STG
            has_country_flag = STG_can_crush_cam
            NOT = {
                has_country_flag = STG_cam_crushed
            }
        }
        days_remove = 10
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_stability = 0.05
            add_political_power = 50
            set_temp_variable = {STG_anglian_opinion_temp = 15}
            STG_change_anglian_opinion = yes
            if = {
                limit = {
                    has_idea = STG_paradox
                }
                swap_ideas = {
                    remove_idea = STG_paradox
                    add_idea = STG_paradox_2
                }
            }
            custom_effect_tooltip = STG_cam_crushed_desc
            hidden_effect = {
                set_country_flag = STG_cam_crushed
                STG = {
                    set_variable = {STG_cam_unrest = 0}
                }
            }
        }
        ai_will_do = {
			factor = 1
		}
    }
    #团结昂格利亚裔
    STG_appease_anglian = {
        cost = var:STG_appease_anglian_cost?15
        days_remove = 30
        days_re_enable = 80
        remove_effect = {
            set_temp_variable = {STG_anglian_opinion_temp = 5}
            STG_change_anglian_opinion = yes
        }
        ai_will_do = {
			factor = 1
		}
    }
    #征召忠诚昂格利亚裔
    STG_recruit_anglian = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_40_anglian_opinion
                check_variable = {STG_anglian_opinion > 39}
            }
        }
        cost = var:STG_recruit_anglian_cost?25
        days_remove = 90
        days_re_enable = 90
        complete_effect = {
            set_temp_variable = {STG_anglian_opinion_temp = -10}
            STG_change_anglian_opinion = yes
        }
        modifier = {
            weekly_manpower = 1000
            training_time_army_factor = -0.15
        }
    }
    #增加昂格利亚裔席位
    STG_more_seat_for_anglian = {
        visible = {
            NOT = {
                has_country_flag = STG_disable_parliament_issues_decisions
            }
            has_country_flag = STG_more_decision_against_cam
        }
        cost = var:STG_more_seat_for_anglian_cost?50
        days_remove = 30
        days_re_enable = 270
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {STG_anglian_opinion_temp = 5}
            STG_change_anglian_opinion = yes
            set_temp_variable = {STG_uslarian_opinion_temp = -3}
            STG_change_uslarian_opinion = yes
            set_temp_variable = {
                STG_supporter_temp = 1
            }
            STG_change_supporter = yes
        }
    }
    #打击卡美洛派
    STG_cam = {
        available = {
            reactionism > 0.02
        }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_cam_crushed
            }
        }
        cost = 20
        days_remove = 30
        days_re_enable = 90
        complete_effect = {
        }
        remove_effect = {
            add_popularity = {
                ideology = reactionism
                popularity = -0.02
            }
            hidden_effect = {
                STG = {
                    add_to_variable = {
                        STG_cam_unrest = -2
                    }
                }
                STG_check_cam_unrest = yes
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100

            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
    }
    #监视卡美洛派
    STG_monitor_cam = {
        available = {
            reactionism > 0.02
        }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_cam_crushed
            }
            has_country_flag = STG_more_decision_against_cam
        }
        cost = 0
        days_remove = 60
        days_re_enable = 180
        complete_effect = {
        }
        remove_effect = {
            hidden_effect = {
                STG = {
                    add_to_variable = {
                        STG_cam_unrest = -2
                    }
                }
                STG_check_cam_unrest = yes
            }
        }
        modifier = {
            political_power_cost = 0.40
            reactionism_drift = -0.05
        }
        ai_will_do = {
			factor = 1
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
    }
    #拉拢温和卡美洛派
    STG_cam_negotiate = {
        available = {
            reactionism > 0.05
        }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_cam_crushed
            }
        }
        cost = 30
        days_remove = 30
        days_re_enable = 90
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {STG_anglian_opinion_temp = 4}
            STG_change_anglian_opinion = yes
            add_popularity = {
                ideology = reactionism
                popularity = -0.02
            }
            if = {
                limit = {
                    has_government = democratic
                }
                add_popularity = {
                    ideology = democratic
                    popularity = 0.02
                }
            }
            else_if = {
                limit = {
                    has_government = neutrality
                }
                add_popularity = {
                    ideology = neutrality
                    popularity = 0.02
                }
            }
            hidden_effect = {
                STG = {
                    add_to_variable = {
                        STG_cam_unrest = -6
                    }
                }
                STG_check_cam_unrest = yes
            }
        }
        ai_will_do = {
			#factor = 1 #暂时禁止ai点 ##No! Please!
            factor = 0
		}
    }
    #逮捕卡美洛派领导人
    STG_arrest_cam_leader = {
        available = {
            reactionism > 0.05
        }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_cam_crushed
            }
            has_country_flag = STG_more_decision_against_cam     
        }
        cost = 50
        days_remove = 5
        days_re_enable = 60
        complete_effect = {
        }
        remove_effect = {
            
            STG_reduce_cam_unrest = yes
            add_popularity = {
                ideology = reactionism
                popularity = -0.06
            }
            add_command_power = -20
        }
        ai_will_do = {
			factor = 1
		}
    }
    #宪兵镇压卡美洛派
    STG_attack_cam = {
        available = {
            reactionism > 0.10
        }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_cam_crushed
            }
            has_country_flag = STG_more_decision_against_cam     
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 10
        days_re_enable = 180
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {STG_anglian_opinion_temp = -6}
            STG_change_anglian_opinion = yes
            STG_reduce_cam_unrest = yes
            add_popularity = {
                ideology = reactionism
                popularity = -0.08
            }
            add_command_power = -50
        }
        ai_will_do = {
			factor = 1
		}
    }
    #玛蒂尔达行动
    STG_operation_cam = {
        available = {
            reactionism > 0.25
            has_completed_focus = STG_monarchy_5
            }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_cam_crushed
            }
            has_completed_focus = STG_monarchy_5
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_stability = -0.15
            set_temp_variable = {STG_anglian_opinion_temp = -20}
            STG_change_anglian_opinion = yes
            add_popularity = {
                ideology = reactionism
                popularity = -0.20
            }
            add_command_power = -50
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_cam_unrest = -20}
                }
                STG_check_cam_unrest = yes
                #country_event = {id = 1 days = 15}
            }
        }
        ai_will_do = {
			factor = 1
		}
    }
    #与乌斯拉尔裔和解
    STG_crush_usr = {
        available = {
            fascism < 0.06
            has_country_flag = STG_can_crush_usr
        }
        visible = {
            tag = STG
            has_country_flag = STG_can_crush_usr
            NOT = {
                has_country_flag = STG_usr_crushed
            }    
        }
        days_remove = 10
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_stability = 0.05
            add_political_power = 50
            set_temp_variable = {STG_uslarian_opinion_temp = 10}
            STG_change_uslarian_opinion = yes
            if = {
                limit = {
                    has_idea = STG_paradox
                }
                swap_ideas = {
                    remove_idea = STG_paradox
                    add_idea = STG_paradox_2
                }
            }
            
            custom_effect_tooltip = STG_usr_crushed_desc
            hidden_effect = {
                set_country_flag = STG_usr_crushed
                remove_ideas = STG_usr_discontent_low
                remove_ideas = STG_usr_discontent_middle
                remove_ideas = STG_usr_discontent_high
                remove_ideas = STG_usr_discontent_very_high
                add_ideas = STG_usr_unrest_end
                STG = {
                    set_variable = {STG_usr_unrest = 0}
                }
            }
        }
        ai_will_do = {
			factor = 1
		}
    }
    #安抚乌斯拉尔裔
    STG_usr = {
        cost = 20
        days_remove = 30
        days_re_enable = 90
        complete_effect = {
        }
        remove_effect = {
            if = {
                limit = {
                    has_country_leader = {
                        character = STG_ilya
                        ruling_only = yes
                    }
                }
                add_popularity = {
                    ideology = fascism
                    popularity = -0.03
                }
                set_temp_variable = {STG_uslarian_opinion_temp = 6}
                STG_change_uslarian_opinion = yes
            }
            else = {
                add_popularity = {
                    ideology = fascism
                    popularity = -0.02
                }
                set_temp_variable = {STG_uslarian_opinion_temp = 3}
                STG_change_uslarian_opinion = yes
            }
            hidden_effect = {
                if = {
                    limit = {
                        has_country_leader = {
                            character = STG_ilya
                            ruling_only = yes
                        }
                    } 
                    STG = {
                        add_to_variable = {
                            STG_usr_unrest = -4
                        }    
                    }
                    STG_check_usr_unrest = yes
                }
                else = {
                    STG = {
                        add_to_variable = {
                            STG_usr_unrest = -2
                        }
                    }
                    STG_check_usr_unrest = yes
                }    
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100

            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
    }
    #征召乌斯拉尔裔工人
    STG_recruit_uslarian_worker = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_40_uslarian_opinion
                check_variable = {STG_uslarian_opinion > 39}
            }
        }
        cost = var:STG_recruit_uslarian_worker_cost?25
        days_remove = 90
        days_re_enable = 90
        complete_effect = {
            set_temp_variable = {STG_uslarian_opinion_temp = -10}
            STG_change_uslarian_opinion = yes
        }
        modifier = {
            production_speed_buildings_factor = 0.05
            industrial_capacity_factory = 0.05
            state_resources_factor = 0.1
        }
    }
    #征召乌斯拉尔裔船匠
    STG_recruit_uslarian_shipwright = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_40_uslarian_opinion
                check_variable = {STG_uslarian_opinion > 39}
            }
        }
        visible = {
            has_completed_focus = STG_ilya_dreadnought
        }
        cost = var:STG_recruit_uslarian_shipwright?10
        days_remove = 90
        days_re_enable = 60
        complete_effect = {
            set_temp_variable = {STG_uslarian_opinion_temp = -5}
            STG_change_uslarian_opinion = yes
        }
        modifier = {
            production_speed_dockyard_factor = 0.15
            industrial_capacity_dockyard = 0.15
        }
    }
    #推动国家认同
    STG_usr_propaganda = {
        days_remove = 60
        days_re_enable = 180
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {STG_uslarian_opinion_temp = 6}
            STG_change_uslarian_opinion = yes
            hidden_effect = {
                if = {
                    limit = {
                        has_country_leader = {
                            character = STG_ilya
                            ruling_only = yes
                        }
                    }
                    STG = {
                        add_to_variable = {
                            STG_usr_unrest = -8
                        }    
                    }
                    STG_check_usr_unrest = yes
                }
                else = {
                    STG = {
                        add_to_variable = {
                            STG_usr_unrest = -5
                        }    
                    }
                    STG_check_usr_unrest = yes
                }
            }
        }
        modifier = {
            political_power_cost = 0.40
            fascism_drift = -0.05
        }
        ai_will_do = {
			factor = 1
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
    }
    #大巡游
    STG_ilya_usr = {
        visible = {
            tag = STG
            has_country_leader = {
                character = STG_ilya
                ruling_only = yes
            }
            NOT = {
                has_country_flag = STG_usr_crushed
                has_idea = STG_unrest_2
            }
        }
        cost = 30
        days_remove = 20
        days_re_enable = 120
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_usr_unrest_big = yes
            set_temp_variable = {STG_uslarian_opinion_temp = 8}
            STG_change_uslarian_opinion = yes
            if = {
                limit = {
                    NOT = {has_country_flag = STG_ilya_decision_bonus}
                }
                set_country_flag = STG_ilya_decision_bonus
                set_temp_variable = {STG_uslarian_opinion_limit_bonus_temp = 5}
                STG_change_uslarian_opinion_limit = yes
                set_temp_variable = {STG_uslarian_opinion_equilibrium_bonus_temp = 5}
                STG_change_uslarian_opinion_equilibrium = yes
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
    }
    #甄别乌斯拉尔极端分子
    STG_arrest_usr_leader = {
        available = {
            fascism > 0.10
        }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_usr_crushed
            }
            has_country_flag = STG_more_decision_against_usr    
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 5
        days_re_enable = 60
        complete_effect = {
        }
        remove_effect = {
            
            STG_reduce_usr_unrest = yes
            add_popularity = {
                ideology = fascism
                popularity = -0.04
            }
            add_command_power = -20
        }
        ai_will_do = {
			factor = 1
		}
    }
    #增加乌斯拉尔裔席位
    STG_more_seat_for_usr = {
        visible = {
            NOT = {
                has_country_flag = STG_disable_parliament_issues_decisions
            }
            has_country_flag = STG_more_decision_against_usr
        }
        cost = 50
        days_remove = 30
        days_re_enable = 270
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {STG_uslarian_opinion_temp = 5}
            STG_change_uslarian_opinion = yes
            set_temp_variable = {
                STG_supporter_temp = 1
            }
            STG_change_supporter = yes
            add_popularity = {
                ideology = democratic
                popularity = 0.03
            }
            STG_reduce_usr_unrest = yes
        }
    }
    #任命乌斯拉尔裔官员
    STG_more_usr_officer = {
        available = {
            fascism < 0.12
            OR = {
                has_country_leader = {
                    character = STG_ilya
                    ruling_only = yes
                }
                has_country_leader = {
                    character = STG_grey
                    ruling_only = yes
                }
                has_government = communism
            }
        }
        visible = {
            OR = {
                has_country_leader = {
                    character = STG_ilya
                    ruling_only = yes
                }
                has_country_leader = {
                    character = STG_grey
                    ruling_only = yes
                }
                has_government = communism
            }
            has_country_flag = STG_more_decision_against_usr
        }
        cost = 30
        days_remove = 3
        days_re_enable = 270
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_usr_unrest = yes
            set_temp_variable = {STG_anglian_opinion_temp = -3}
            STG_change_anglian_opinion = yes
            set_temp_variable = {STG_uslarian_opinion_temp = 8}
            STG_change_uslarian_opinion = yes
        }
    }
    #铁腕镇压
    STG_grey_usr = {
        available  = {
            fascism > 0.15
            has_country_leader = {
                character = STG_grey
                ruling_only = yes
            }
            NOT = {
                has_country_flag = STG_usr_crushed
            }
        }
        visible = {
            has_country_leader = {
                character = STG_grey
                ruling_only = yes
            }
            NOT = {
                has_country_flag = STG_usr_crushed
            }
        }
        days_remove = 7
        days_re_enable = 150
        complete_effect = {
        }
        remove_effect ={
            set_temp_variable = {STG_uslarian_opinion_temp = -5}
            STG_change_uslarian_opinion = yes
            STG_reduce_usr_unrest = yes
            add_popularity = {
                ideology = fascism
                popularity = -0.08
            }
            add_command_power = -30
        }
    }
    #出动坦克
    STG_panzer_vor = {
        available = {
            OR = {
                has_idea = STG_unrest_4
                has_idea = STG_unrest_5
                has_idea = STG_unrest_6
            }
            OR = {
                reactionism > 0.20
                fascism > 0.20
            }
            OR = {
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
        }
        visible = {
            OR = {
                has_idea = STG_unrest_4
                has_idea = STG_unrest_5
                has_idea = STG_unrest_6
            }
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 7
        days_re_enable = 365
        complete_effect = {
        }
        remove_effect = {
            add_command_power = -50
            set_temp_variable = {STG_anglian_opinion_temp = -12}
            STG_change_anglian_opinion = yes
            set_temp_variable = {STG_uslarian_opinion_temp = -12}
            STG_change_uslarian_opinion = yes
            STG_reduce_cam_unrest_big = yes
            STG_reduce_usr_unrest_big = yes
            add_popularity = {
                ideology = reactionism
                popularity = -0.10
            }
            add_popularity = {
                ideology = fascism
                popularity = -0.10
            }
        }
    }
    #维多利娅行动
    STG_operation_usr = {
        available = {
            reactionism > 0.25
            has_completed_focus = STG_monarchy_5
            }
        visible = {
            tag = STG
            NOT = {
                has_country_flag = STG_cam_crushed
            }
            has_completed_focus = STG_monarchy_5
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_stability = -0.15
            STG_change_anglian_opinion = yes
            set_temp_variable = {STG_uslarian_opinion_temp = -20}
            add_popularity = {
                ideology = fascism
                popularity = -0.20
            }
            add_command_power = -50
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_usr_unrest = -20}
                }
                STG_check_usr_unrest = yes
                country_event = {id = 1 days = 15}
            }
        }
        ai_will_do = {
			factor = 1
		}
    }
    #军队不满变化
    STG_army_discontent = {
        icon = mission_icon
        is_good = no
        available = {
            always = no
        }
        activation = {
            tag = STG
            NOT = {
                OR = {
                    has_country_flag = STG_army_takeover
                    has_completed_focus = STG_com_61
                    has_country_flag = STG_disable_the_sword_of_Damocles_decisions
                }
            }
        }
        cancel_trigger = {
            OR = {
                has_country_flag = STG_army_takeover
                has_completed_focus = STG_com_61
                has_country_flag = STG_disable_the_sword_of_Damocles_decisions
            }
        }
        days_mission_timeout = 30
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            STG_army_discontent_change = yes
        }
    }
    #军队接管政府
    STG_army_takeover = {
        icon = mission_icon
        is_good = no
        available = {
            STG = {check_variable = {STG_army_discontent < 100}}
        }
        activation = {
            tag = STG
            NOT = {
                has_country_flag = STG_army_takeover
            }
            NOT = {
                has_game_rule = {
                    rule = STG_cheat_army_discontent
                    option = STG_cheat_army_discontent_TT
                }
            }
            STG = {check_variable = {STG_army_discontent > 99}}
        }
        cancel_trigger = {
        }
        days_mission_timeout = 30
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            custom_effect_tooltip = STG_coup
            hidden_effect = {
                set_country_flag = STG_army_takeover
                clr_country_flag = STG_enable_parliament_events
                set_variable = {STG_army_discontent = 0}
                set_country_flag = STG_disable_the_sword_of_Damocles_decisions
                load_focus_tree = {
                    tree = STG
                    keep_completed = yes
                }
                mark_focus_tree_layout_dirty = yes
                complete_national_focus = STG_dar_1
            }
        }
    }
    #安抚军队
    STG_army_discontent_1 = {
        available = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
            NOT = {
                has_country_flag = STG_disable_the_sword_of_Damocles_decisions
            }
        }
        cost = 10
        days_remove = 10
        days_re_enable = 100
        ai_will_do = {
			#factor = 1
			base = 100
            modifier = {
                factor = 0
                STG = {check_variable = {STG_army_discontent < 1}}
            }
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_army_discontent = yes
		}
    }
    #和大吉岭喝茶
    STG_army_discontent_ilya_grey = {
        available = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
            NOT = {
                has_country_flag = STG_disable_the_sword_of_Damocles_decisions
            }
            OR = {
                has_country_leader = {
                    character = STG_ilya
                    ruling_only = yes
                }
                has_country_leader = {
                    character = STG_grey
                    ruling_only = yes
                }
            }
        }
        cost = 20
        days_remove = 3
        days_re_enable = 180
        ai_will_do = {
			factor = 1
            modifier = {
                factor = 0
                STG = {check_variable = {STG_army_discontent < 1}}
            }
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_army_discontent_big = yes
		}
    }
    #调查军队
    STG_army_discontent_parliament = {
        available = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
            NOT = {
                has_country_flag = STG_disable_the_sword_of_Damocles_decisions
            }
            has_country_leader = {
                character = STG_parliament
                ruling_only = yes
            }
        }
        cost = 20
        days_remove = 3
        days_re_enable = 180
        ai_will_do = {
			factor = 1
		}
        complete_effect = {
        }
        remove_effect = {
            random_list = {
                60 = {
                    STG_reduce_army_discontent_big = yes
                }
                30 = {
                    STG_reduce_army_discontent = yes
                }
                10 = {
                    STG_increase_army_discontent = yes
                }
            }
		}
    }
    #爱因兹贝伦堡的下午茶
    STG_ilya_top_secret = {
        available = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
            has_completed_focus = STG_ilya_issue_2
            has_country_flag = STG_ilya_issue_1_passed
        }
        visible = {
            has_completed_focus = STG_ilya_issue_2
            has_country_flag = STG_ilya_15_triggered
        }
        cost = 50
        days_remove = 0
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_vital_decision_ilya_desc
            country_event = {id = STG_ilya.16 days = 3}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #和大吉岭喝茶
    STG_army_discontent_com = {
        available = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
            NOT = {
                has_country_flag = STG_disable_the_sword_of_Damocles_decisions
            }
            has_government = communism
        }
        cost = 20
        days_remove = 3
        days_re_enable = 180
        ai_will_do = {
			factor = 1
            modifier = {
                factor = 0
                STG = {check_variable = {STG_army_discontent < 1}}
            }
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_army_discontent_big = yes
		}
    }
    #与格蕾元帅共进午餐
    STG_army_discontent_lunch_with_grey_com = {
        available = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_army_takeover
            }
            NOT = {
                has_country_flag = STG_disable_the_sword_of_Damocles_decisions
            }
            has_government = communism
        }
        cost = 25
        days_remove = 3
        days_re_enable = 270
        ai_will_do = {
			factor = 1
            modifier = {
                factor = 0
                STG = {check_variable = {STG_army_discontent < 1}}
            }
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_army_discontent_15 = yes
		}
    }
}
#议会
STG_parliament_issues = {
    #月度变化
    STG_par_monthly_change = {
        icon = mission_icon
        is_good = no
        available = {
            always = no
        }
        activation = {
            tag = STG
            NOT = {
                has_country_flag = STG_army_takeover
                has_country_flag = STG_disable_parliament_issues_decisions
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cancel_trigger = {
            OR = {
                has_country_flag = STG_army_takeover
                has_country_flag = STG_rev_par_mechanics
                has_country_flag = STG_disable_parliament_issues_decisions
            }
        }
        days_mission_timeout = 30
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            random_list = {
                60 = {
                }
                10 = {
                    set_temp_variable = {
                        STG_supporter_temp = 1
                    }
                    STG_change_supporter = yes
                }
                5 = {
                    set_temp_variable = {
                        STG_supporter_temp = 2
                    }
                    STG_change_supporter = yes
                }
                10 = {
                    set_temp_variable = {
                        STG_supporter_temp = -1
                    }
                    STG_change_supporter = yes
                }
                10 = {
                    set_temp_variable = {
                        STG_supporter_temp = -2
                    }
                    STG_change_supporter = yes
                }
                5 = {
                    set_temp_variable = {
                        STG_supporter_temp = -3
                    }
                    STG_change_supporter = yes
                }
            }
        }
    }
    #宣布紧急状态
    STG_declare_emergency = {
        available = {
            has_stability < 0
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            NOT = {
                has_idea = STG_emergency_law
            }
            NOT = {
                has_idea = STG_emergency_law_2
            }
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 0
        days_remove = 0
        ai_will_do = {
			factor = 0
		}
        complete_effect = {
        }
        remove_effect = {
            add_ideas = STG_emergency_law
            hidden_effect = {
                STG_check_unrest = yes
                set_country_flag = STG_national_emergency_flag
            }
		}
    }
    #《反颠覆法案》
    STG_par_issue_1 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes  
        }
        visible = {
            has_completed_focus = STG_parliament_issue_1
        }
        cost = 70
        days_remove = 3
        fire_only_once = yes
        ai_will_do = {
			#factor = 1
            factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_can_crush_cam_desc
            custom_effect_tooltip = STG_can_crush_usr_desc
            hidden_effect = {
                set_country_flag = STG_can_crush_cam
                set_country_flag = STG_can_crush_usr
            }
            custom_effect_tooltip = STG_more_decision_against_cam_desc
            custom_effect_tooltip = STG_more_decision_against_usr_desc
            hidden_effect = {
                set_country_flag = STG_more_decision_against_cam
                set_country_flag = STG_more_decision_against_usr
            }
            set_country_flag = STG_par_issue_1_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
		}
    }
    #《和平守望法案》
    STG_par_issue_2 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_parliament_issue_2
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			#factor = 1
            factor = 200
		}
        complete_effect = {
        }
        remove_effect = {
			add_war_support = 0.10
            army_experience = 50
            navy_experience = 50
            air_experience = 50
            add_timed_idea = {
                idea = STG_rearmament
                days = 365
            }
            set_country_flag = STG_par_issue_2_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
		}
    }
    #《合众军改组法案》
    STG_par_issue_3 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_parliament_issue_3
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            add_timed_idea = {
                idea = STG_army_reorganization
                days = 90
            }
            set_country_flag = STG_par_issue_3_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
		}
    }
    #《中立法案》
    STG_par_issue_4 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_parliament_issue_4
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            
            add_political_power = 100
            add_stability = 0.10
            add_war_support = -0.10
			add_ideas = STG_neurtrality_act
            set_country_flag = STG_par_issue_4_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
		}
    }
    #《工业委员会法案》
    STG_par_issue_5 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_indusrial_issue
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			#factor = 1
            factor = 200
		}
        complete_effect = {
        }
        remove_effect = {
			add_ideas = STG_industrialization_committe
            set_country_flag = STG_par_issue_5_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
		}
    }
    #《爱因兹贝伦领地位法案》
    STG_ilyas_issue_1 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_ilya_issue
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
			custom_effect_tooltip = STG_ilya_more_seats
            hidden_effect = {
                STG = {
                    country_event = {id = STG_ilya.14 days = 7}
                    add_to_variable = {STG_seats = 3}
                    add_to_variable = {STG_supporter = 3}
                    add_to_variable = {STG_supporter_needed = 2}
                    clamp_temp_variable = {
                        var = STG_supporter
                        min = 0
                        max = 33
                    }
                }
                682 = {
                    set_state_flag = einzbern_seats_flag
                }
            }
            set_country_flag = STG_ilya_issue_1_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_einzbern_terrtority_act }
		    IRIS_add_law = yes
		}
    }
    #《爱因兹贝伦至尊法案》
    STG_ilyas_issue_2= {
        available = {
            has_country_flag = STG_ilya_issue_2_no_argument
            has_country_flag = STG_ilya_issue_1_passed
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
        }
        visible = {
            has_completed_focus = STG_ilya_issue_2
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            set_country_flag = STG_ilya_issue_2_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            hidden_effect = {
                country_event = {id = STG_ilya.17 days = 7}
            }
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_einzbern_supremacy_act }
		    IRIS_add_law = yes
		}
    }
    #《议会改革法案》
    STG_earl_grey_issue_1 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_grey_issue_1
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1
		}
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_army_discontent = yes
            remove_ideas = STG_full_of_corruption
            custom_effect_tooltip = STG_disable_corruption_event_desc
            hidden_effect = {
                set_country_flag = STG_disable_corruption_event
            }
            set_country_flag = STG_earl_grey_issue_1_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            hidden_effect = {
                country_event = {id = STG_grey.20 days = 2}
            }
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_parliament_reform_act }
		    IRIS_add_law = yes
		}
    }
    #《二元君主制法案》
    STG_earl_grey_issue_2 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            has_country_flag = STG_earl_grey_issue_1_passed
        }
        visible = {
            has_completed_focus = STG_grey_issue_2
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1
		}
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_grey_change_to_dual_monarchy
			hidden_effect = {
                set_party_name = { ideology = democratic long_name = STG_democratic_party_grey_long name = STG_democratic_party_grey }
                set_country_flag = STG_can_veto
                country_event = {id = STG_grey.21}
            }
            set_country_flag = STG_earl_grey_issue_2_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_dual_monarchy_act }
		    IRIS_add_law = yes
		}
    }
    #《国立战车道法案》
    STG_earl_grey_issue_4 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_grey_issue_4
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1
		}
        complete_effect = {
        }
        remove_effect = {
			add_ideas = STG_national_senshado
            add_tech_bonus = {
                bonus = 1.0
                uses = 1
                category = armor 
            }
            set_country_flag = STG_earl_grey_issue_4_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            hidden_effect = {
                country_event = {id = STG_grey.22}
            }
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_national_senshado_act }
		    IRIS_add_law = yes
		}
    }
    #《工会法案》
    STG_earl_grey_issue_3 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_grey_issue_3
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1
		}
        complete_effect = {
        }
        remove_effect = {
            add_ideas = STG_controlled_labor_union
			add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            swap_ideas = {
                remove_idea = xiaoshi12
                add_idea = xiaoshi8
            }
            random_owned_controlled_state = {
			    add_extra_state_shared_building_slots = 2
			    add_building_construction = {
				    type = industrial_complex
				    level = 2
				    instant_build = yes
			    }
		    }
            random_owned_controlled_state = {
			    add_extra_state_shared_building_slots = 2
			    add_building_construction = {
				    type = arms_factory
				    level = 2
				    instant_build = yes
			    }
		    }
            set_country_flag = STG_earl_grey_issue_3_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_labor_union_act }
		    IRIS_add_law = yes
        }
    }
    #《王家军队改组法案》
    STG_earl_grey_issue_5 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_grey_issue_5
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
			add_timed_idea = {
                idea = STG_army_reorganization
                days = 90
            }
            set_country_flag = STG_earl_grey_issue_5_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            hidden_effect = {
                country_event = {id = STG_grey.19 days = 3}
            }
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_royal_army_reorganization_act }
		    IRIS_add_law = yes
		}
    }
    #《共和国防卫法案》
    STG_dar_issue = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_dar_issue_1
        }
        cost = 70
        days_remove = 0
        fire_only_once = yes
        ai_will_do = {
			factor = 1
		}
        complete_effect = {
        }
        remove_effect = {
			random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			    }
		    }
            random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 4
			add_building_construction = {
				type = arms_factory
				level = 4
				instant_build = yes
			    }
		    }
            set_country_flag = STG_dar_issue_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_republican_defense_act }
		    IRIS_add_law = yes
		}
    }
    #《社会保障法》
    STG_com_issue_1 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
            }
            STG_rev_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_com_12
        }
        cost = 70
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
			add_ideas = STG_social_security
            swap_ideas = {
                remove_idea = xiaoshi12
                add_idea = xiaoshi8
            }
            set_country_flag = STG_com_issue_1_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 60}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_social_security_act }
		    IRIS_add_law = yes
		}
    }
    #《共和国安全法》
    STG_com_issue_2 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
            }
            STG_rev_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_com_23
        }
        cost = 70
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            
            set_country_flag = STG_com_issue_2_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 60}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_security_act }
		    IRIS_add_law = yes
		}
    }
    #《共和国教育法》
    STG_com_issue_3 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
            }
            STG_rev_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_com_46
        }
        cost = 70
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
			add_research_slot = 1
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.02
                tooltip_side = STG_road_to_socialism_left_side
            }
            set_country_flag = STG_com_issue_3_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 60}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_education_act }
		    IRIS_add_law = yes
		}
    }
    #《共和国军队整编法》
    STG_com_issue_4 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
            }
            STG_rev_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_com_57
        }
        cost = 70
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            add_doctrine_cost_reduction = {
                cost_reduction = 0.40
                uses = 1
                category = land_doctrine
            }
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.04
                tooltip_side = STG_road_to_socialism_left_side
            }
            set_country_flag = STG_com_issue_4_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 60}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_republican_army_reorganization_act }
		    IRIS_add_law = yes
		}
    }
    #《全行业民主改革法》
    STG_com_issue_5 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
            }
            STG_rev_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_com_35
        }
        cost = 70
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            add_stability = 0.03
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.02
                tooltip_side = STG_road_to_socialism_left_side
            }
            set_country_flag = STG_com_issue_5_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 60}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_socialism_act }
		    IRIS_add_law = yes
            hidden_effect = {
                country_event = {id = STG_rev.165 days = 3}
            }
		}
    }
    #《工商业界社会主义改造法》
    STG_com_issue_6 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
            }
            STG_rev_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_com_38
        }
        cost = 70
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            add_popularity = {
                ideology = communism
                popularity = 0.05
            }
            add_stability = 0.03
            set_country_flag = STG_com_issue_6_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 60}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_socialist_transformation_act }
		    IRIS_add_law = yes
		}
    }
    #《农业集体化法》
    STG_com_issue_7 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
            }
            STG_rev_can_pass_issue_important_trigger = yes
        }
        visible = {
            has_completed_focus = STG_com_42
        }
        cost = 70
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.03
                tooltip_side = STG_road_to_socialism_left_side
            }
            random_core_state = {
                add_extra_state_shared_building_slots = 2
            }
            random_core_state = {
                add_extra_state_shared_building_slots = 1
            }
            random_core_state = {
                add_extra_state_shared_building_slots = 1
            }
            set_country_flag = STG_com_issue_7_passed
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 60}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
            set_temp_variable = { temp_law = token:STG_collectivization_act }
		    IRIS_add_law = yes
		}
    }
    #折叠政策
    STG_hide_rev_policy = {
        visible = {
            NOT = {has_country_flag = STG_rev_policy_hided}
            has_country_flag = STG_rev_par_mechanics
        }
        complete_effect = {
            set_country_flag = STG_rev_policy_hided
        }
        ai_will_do = {
            factor = 0
        }
    }
    #显示政策
    STG_show_rev_policy = {
        visible = {
            has_country_flag = STG_rev_policy_hided
        }
        complete_effect = {
            clr_country_flag = STG_rev_policy_hided
        }
        ai_will_do = {
            factor = 0
        }
    }
    #加强军队战备
    STG_rev_millitary_training = {
        available = {
            NOT = {
                has_country_flag = STG_rencetly_policy
            }
            STG_rev_can_pass_issue_trigger = yes
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
            NOT = {has_country_flag = STG_rev_policy_hided}
        }
        cost = 35
        days_remove = 50
        complete_effect = {
            set_country_flag = {flag = STG_rencetly_policy value = 1 days = 60}
            clr_country_flag = STG_policy_passed_flag
            set_country_flag = STG_policy_passed_flag
        }
        remove_effect = {
            army_experience = 20
            navy_experience = 20
            air_experience = 20
            STG_reduce_army_discontent = yes
        }
        modifier = {
            training_time_army_factor = -0.10
        }
        ai_will_do = {
            factor = 10
        }
    }
    #教科文事业
    STG_rev_policy_edu = {
        available = {
            NOT = {
                has_country_flag = STG_rencetly_policy
            }
            STG_rev_can_pass_issue_trigger = yes
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
            NOT = {has_country_flag = STG_rev_policy_hided}
        }
        cost = 40
        days_remove = 90
        complete_effect = {
            set_country_flag = {flag = STG_rencetly_policy value = 1 days = 60}
            clr_country_flag = STG_policy_passed_flag
            set_country_flag = STG_policy_passed_flag
        }
        modifier = {
            research_speed_factor = 0.15
            stability_weekly = 0.003
        }
        ai_will_do = {
            factor = 10
        }
    }
    #加强建设工作
    STG_rev_policy_industry = {
        available = {
            NOT = {
                has_country_flag = STG_rencetly_policy
            }
            STG_rev_can_pass_issue_trigger = yes
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
            NOT = {has_country_flag = STG_rev_policy_hided}
        }
        cost = 50
        days_remove = 120
        complete_effect = {
            set_country_flag = {flag = STG_rencetly_policy value = 1 days = 60}
            clr_country_flag = STG_policy_passed_flag
            set_country_flag = STG_policy_passed_flag
            
        }
        modifier = {
            production_speed_buildings_factor = 0.05
            production_speed_industrial_complex_factor = 0.10
            production_speed_arms_factory_factor = 0.10
            production_speed_dockyard_factor = 0.10
            production_speed_infrastructure_factor = 0.20
        }
        ai_will_do = {
            factor = 10
        }
    }
    #扩军
    STG_rev_policy_manpower = {
        available = {
            NOT = {
                has_country_flag = STG_rencetly_policy
            }
            STG_rev_can_pass_issue_trigger = yes
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
            NOT = {has_country_flag = STG_rev_policy_hided}
        }
        cost = 25
        days_remove = 60
        complete_effect = {
            set_country_flag = {flag = STG_rencetly_policy value = 1 days = 60}
            clr_country_flag = STG_policy_passed_flag
            set_country_flag = STG_policy_passed_flag
            
        }
        remove_effect = {
            add_manpower = 15000
            STG_reduce_army_discontent = yes
        }
        ai_will_do = {
            factor = 10
        }
    }
    #增产
    STG_rev_policy_industry_capacity = {
        available = {
            NOT = {
                has_country_flag = STG_rencetly_policy
            }
            STG_rev_can_pass_issue_trigger = yes
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
            NOT = {has_country_flag = STG_rev_policy_hided}
        }
        cost = 40
        days_remove = 90
        complete_effect = {
            set_country_flag = {flag = STG_rencetly_policy value = 1 days = 60}
            clr_country_flag = STG_policy_passed_flag
            set_country_flag = STG_policy_passed_flag
            
        }
        modifier = {
            industrial_capacity_factory = 0.10
            industrial_capacity_dockyard = 0.10
        }
        ai_will_do = {
            factor = 10
        }
    }
    #第二次造舰计划预算
    STG_rev_policy_dockyard_2 = {
        available = {
            NOT = {
                has_country_flag = STG_rencetly_policy
            }
            STG_rev_can_pass_issue_trigger = yes
        }
        fire_only_once = yes
        visible = {
            has_country_flag = STG_rev_par_mechanics
            has_completed_focus = STG_com_65
        }
        cost = 70
        days_remove = 70
        complete_effect = {
            set_country_flag = {flag = STG_rencetly_policy value = 1 days = 60}
            clr_country_flag = STG_policy_passed_flag
            set_country_flag = STG_policy_passed_flag
            
        }
        remove_effect = {
            country_event = {id = STG_rev.119 days = 1}
            717 = {
                if = {
                    limit = {
                        is_owned_and_controlled_by = ROOT
                    }
                    add_extra_state_shared_building_slots = 2
                    add_building_construction = {
                        type = dockyard
                        level = 2
                        instant_build = yes
                    }
                }
            }
            222 = {
                if = {
                    limit = {
                        is_owned_and_controlled_by = ROOT
                    }
                    add_extra_state_shared_building_slots = 2
                    add_building_construction = {
                        type = dockyard
                        level = 2
                        instant_build = yes
                    }
                }
            }
            231 = {
                if = {
                    limit = {
                        is_owned_and_controlled_by = ROOT
                    }
                    add_extra_state_shared_building_slots = 2
                    add_building_construction = {
                        type = dockyard
                        level = 2
                        instant_build = yes
                    }
                }
            }
        }
        ai_will_do = {
            factor = 100
        }
    }
    STG_increase_left_opinion = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_possible_to_increase_opinion
                check_variable = {STG_left_opinion < 75}
            }
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
        }
        cost = 10
        days_re_enable = 60
        complete_effect = {
            set_temp_variable = {
                STG_left_opinion_temp = 2
            }
            STG_left_opinion_effect = yes
        }
        ai_will_do = {
            factor = 10
        }
    }
    STG_increase_sd_opinion = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_possible_to_increase_opinion
                check_variable = {STG_sd_opinion < 75}
            }
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
        }
        cost = 10
        days_re_enable = 60
        complete_effect = {
            set_temp_variable = {
			    STG_sd_opinion_temp = 2
		    }
		    STG_sd_opinion_effect = yes
        }
        ai_will_do = {
            factor = 10
        }
    }
    STG_increase_dem_opinion = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_possible_to_increase_opinion
                check_variable = {STG_dem_opinion < 75}
            }
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
        }
        cost = 10
        days_re_enable = 60
        complete_effect = {
            set_temp_variable = {
                STG_dem_opinion_temp = 2
            }
            STG_dem_opinion_effect = yes
        }
        ai_will_do = {
            factor = 10
        }
    }
    #与工人战斗组织协商
    STG_rev_seek_support_from_left = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_rev_less_than_85_support
                STG = {
                    check_variable = {STG_rev_par_support < 85}
                }
            }
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
        }
        cost = 20
        days_remove = 5
        days_re_enable = 120
        remove_effect = {
            random_list = {
                10 = {
                    set_temp_variable = {
                        STG_rev_support_left_temp = 1
                    }
                    STG_rev_support_left_effect = yes
                }
                40 = {
                    set_temp_variable = {
                        STG_rev_support_left_temp = 2
                    }
                    STG_rev_support_left_effect = yes
                }
                20 = {
                    set_temp_variable = {
                        STG_rev_support_left_temp = 3
                    }
                    STG_rev_support_left_effect = yes
                }
                10 = {
                    set_temp_variable = {
                        STG_rev_support_left_temp = 4
                    }
                    STG_rev_support_left_effect = yes
                }
                5 = {
                    set_temp_variable = {
                        STG_rev_support_left_temp = 5
                    }
                    STG_rev_support_left_effect = yes
                }
                15 = {}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #与社会民主党协商 
    STG_rev_seek_support_from_sd = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_rev_less_than_85_support
                STG = {
                    check_variable = {STG_rev_par_support < 85}
                }
            }
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
        }
        cost = 20
        days_remove = 5
        days_re_enable = 120
        remove_effect = {
            random_list = {
                10 = {
                    set_temp_variable = {
                        STG_rev_support_sd_temp = 1
                    }
                    STG_rev_support_sd_effect = yes
                }
                20 = {
                    set_temp_variable = {
                        STG_rev_support_sd_temp = 2
                    }
                    STG_rev_support_sd_effect = yes
                }
                20 = {
                    set_temp_variable = {
                        STG_rev_support_sd_temp = 3
                    }
                    STG_rev_support_sd_effect = yes
                }
                20 = {
                    set_temp_variable = {
                        STG_rev_support_sd_temp = 4
                    }
                    STG_rev_support_sd_effect = yes
                }
                5 = {
                    set_temp_variable = {
                        STG_rev_support_sd_temp = 5
                    }
                    STG_rev_support_sd_effect = yes
                }
                5 = {
                    country_event = {id = STG_rev.98}
                }
                20 = {}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #与里森堡民主联盟妥协
    STG_rev_seek_support_from_dem = {
        available = {
        }
        visible = {
            has_country_flag = STG_rev_par_mechanics
        }
        cost = 10
        days_remove = 5
        days_re_enable = 60
        remove_effect = {
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = 0.01
                tooltip_side = STG_road_to_socialism_right_side
            }
            random_list = {
                25 = {
                    set_temp_variable = {
                        STG_rev_support_dem_temp = 1
                    }
                    STG_rev_support_dem_effect = yes
                }
                20 = {
                    set_temp_variable = {
                        STG_rev_support_dem_temp = 2
                    }
                    STG_rev_support_dem_effect = yes
                }
                10 = {
                    set_temp_variable = {
                        STG_rev_support_dem_temp = 3
                    }
                    STG_rev_support_dem_effect = yes
                }
                10 = {
                    country_event = {id = STG_rev.145}
                }
                35 = {}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #游说议员
    STG_lobby = {
        available = {
            NOT = {
                has_country_flag = STG_national_emergency_flag
            }
            custom_trigger_tooltip = {
                tooltip = STG_can_have_supporter
                if = {
                    limit = {
                        has_country_flag = STG_ilya_issue_1_passed
                    }
                    STG = {check_variable = {STG_supporter < 33}}
                }
                else = {
                    STG = {check_variable = {STG_supporter < 30}}
                }
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 0
        days_remove = 30
        days_re_enable = 90
        ai_will_do = {
            factor = 1000
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
        }
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {
                STG_supporter_temp = 1
            }
            STG_change_supporter = yes
            hidden_effect = {
                if = {
                    limit = {
                        is_ai = yes
                    }
                    set_temp_variable = {
                        STG_supporter_temp = 1
                    }
                    STG_change_supporter = yes
                }
            }
        }
        modifier = {
            political_power_cost = 0.15
        }
    }
    #议会演讲
    STG_general_issue_6 = {
        available = {
            NOT = {
                has_country_flag = STG_national_emergency_flag
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 10
        days_remove = 7
        days_re_enable = 200
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
        complete_effect = {
        }
        remove_effect = {
            random_list = {
                30 = {
                    set_temp_variable = {
                        STG_supporter_temp = 1
                    }
                    STG_change_supporter = yes
                }
                30 = {
                    set_temp_variable = {
                        STG_supporter_temp = 2
                    }
                    STG_change_supporter = yes
                }
                30 = {
                    set_temp_variable = {
                        STG_supporter_temp = 3
                    }
                    STG_change_supporter = yes
                }
                10 = {
                    set_temp_variable = {
                        STG_supporter_temp = 4
                    }
                    STG_change_supporter = yes
                }
            }
            if = {
                limit = {
                    is_ai = yes
                }
                set_temp_variable = {
                    STG_supporter_temp = 2
                }
                STG_change_supporter = yes
            }
		}
    }
    #向议员施压
    STG_general_issue_3 = {
        available = {
            NOT = {
                has_country_flag = STG_national_emergency_flag
            }
        }
        visible = {
            has_idea = STG_Nervous_Army
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 20
        days_remove = 10
        days_re_enable = 270
        ai_will_do = {
			#factor = 1 #暂时禁止ai点 ##No! Please!
            factor = 0
		}
        complete_effect = {
        }
        remove_effect = {
            add_stability = -0.05
            set_temp_variable = {
                STG_supporter_temp = 2
            }
            STG_change_supporter = yes
            hidden_effect = {
                if = {
                    limit = {
                        is_ai = yes
                    }
                    set_temp_variable = {
                        STG_supporter_temp = 2
                    }
                    STG_change_supporter = yes
                }
		    }
        }
    }
    #临时加税
    STG_general_issue_1 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_trigger = yes
        }
        visible = {
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 70
        days_remove = 90
        days_re_enable = 365
        ai_will_do = {
			#factor = 1 #暂时禁止ai点
            factor = 0
		}
        complete_effect = {
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
        }
        remove_effect = {
            set_temp_variable = {
                STG_supporter_temp = -2
            }
            STG_change_supporter = yes
		}
        modifier = {
            consumer_goods_factor = -0.35
        }
    }
    #打击腐败
    STG_general_issue_2 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            has_country_flag = STG_earl_grey_issue_1_passed
            STG_can_pass_issue_trigger = yes
        }
        visible = {
            has_country_flag = STG_earl_grey_issue_1_passed
        }
        cost = 50
        days_remove = 30
        days_re_enable = 270
        ai_will_do = {
			#factor = 1 #暂时禁止ai点
            factor = 0
		}
        complete_effect = {
        }
        remove_effect = {
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            set_temp_variable = {
                STG_supporter_temp = 2
            }
            STG_change_supporter = yes
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
		}
    }
    #提高军费
    STG_general_issue_4 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_trigger = yes
        }
        visible = {
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 0
        days_remove = 90
        days_re_enable = 365
        ai_will_do = { #暂时和平时期禁止ai点
			base = 1
            modifier = {
                factor = 0
                has_war = no
            }
		}
        complete_effect = {
            set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
        }
        modifier = {
            production_speed_arms_factory_factor = 0.35
            production_speed_dockyard_factor = 0.35
            production_speed_bunker_factor = 0.35
        }
    }
    #动员预备役
    STG_general_issue_5 = {
        available = {
            STG_can_pass_issue_trigger = yes
            threat > 0.1
        }
        visible = {
            threat > 0.1
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 20
        days_remove = 30
        days_re_enable = 365
        fire_only_once = yes
        ai_will_do = { #暂时和平时期禁止ai点
			base = 1
            modifier = {
                factor = 0
                has_war = no
            }
		}
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_army_discontent = yes
            add_manpower = 30000
            custom_effect_tooltip = STG_do_not_count_into_cooldown
            hidden_effect = {
                if = {
                    limit = {
                        is_ai = yes
                    }
                    add_manpower = 30000
                }
            }
		}
    }
    #地方行政改革
    STG_general_issue_7 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_trigger = yes
        }
        visible = {
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 5
        days_remove = 7
        days_re_enable = 365
        ai_will_do = {
			factor = 200
		}
        complete_effect = {
            set_country_flag = { flag = STG_debate_in_process value = 1 days = 97 }
        }
        remove_effect = {
            #set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            add_political_power = 100
            set_temp_variable = {
                STG_supporter_temp = -2
            }
            STG_change_supporter = yes
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
		}
    }
    #裁撤冗余部门
    STG_general_issue_8 = {
        available = {
            NOT = {
                has_country_flag = STG_debate_in_process
                has_country_flag = STG_national_emergency_flag
            }
            STG_can_pass_issue_trigger = yes
        }
        visible = {
            NOT = {
                has_country_flag = STG_rev_par_mechanics
            }
        }
        cost = 5
        days_remove = 7
        days_re_enable = 365
        ai_will_do = {
			factor = 200
		}
        complete_effect = {
            set_country_flag = { flag = STG_debate_in_process value = 1 days = 97 }
        }
        remove_effect = {
            #set_country_flag = {flag = STG_debate_in_process value = 1 days = 90}
            add_political_power = 100
            set_temp_variable = {
                STG_supporter_temp = -3
            }
            STG_change_supporter = yes
            clr_country_flag = STG_issue_passed_flag
            set_country_flag = STG_issue_passed_flag
		}
    }
    #紧急动员
    STG_general_issue_9 = {
        available = {
            has_war = yes
        }
        visible = {
            has_war = yes
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        ai_will_do = {
			factor = 1000
		}
        complete_effect = {
        }
        remove_effect = {
            add_stability = -0.05
            division_template = {
                name = "Militia"
                regiments = {
                    infantry = { x = 0 y = 0 }
                    infantry = { x = 0 y = 1 }
                    infantry = { x = 0 y = 2 }
                    infantry = { x = 1 y = 0 }
                    infantry = { x = 1 y = 1 }
                    infantry = { x = 1 y = 2 }
                }
            }
            capital_scope = {
                create_unit = {
                    division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                    owner = STG
                }
                create_unit = {
                    division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                    owner = STG
                }
                create_unit = {
                    division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                    owner = STG
                }
                create_unit = {
                    division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                    owner = STG
                }
                create_unit = {
                    division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                    owner = STG
                }
                create_unit = {
                    division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                    owner = STG
                }
            }
            hidden_effect = {
                if = {
                    limit = {
                        is_ai = yes
                    }
                    capital_scope = {
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                        create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.8"
                        owner = STG
                        }
                    }
                }
            }
		}
    }
}
#爱因兹贝伦工坊
STG_einzbern_workshop = {
    #获取原材料
    STG_gain_material = {
        icon = mission_icon
        is_good = yes
        available = {
            always = no
        }
        activation = {
            tag = STG
            has_completed_focus = STG_ilya_7
        }
        cancel_trigger = {
        }
        days_mission_timeout = 60
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            custom_effect_tooltip = STG_gain_one_unit_material
            STG = {add_to_variable = {STG_material = 1}}
        }
    }
    #购买原材料
    STG_purchase_material = {
        available = {
        }
        visible = {
        }
        cost = 50
        days_remove = 40
        days_re_enable = 270
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_gain_two_units_material
            STG = {add_to_variable = {STG_material = 2}}
        }
    }
    #大量购买原材料
    STG_purchase_material_lot = {
        available = {
        }
        visible = {
        }
        cost = 80
        days_remove = 60
        days_re_enable = 365
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_gain_four_units_material
            STG = {add_to_variable = {STG_material = 4}}
        }
    }
    #出售原材料
    STG_sell_material = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material_to_sell
                STG = {check_variable = {STG_material > 1}}
            }
        }
        visible = {
        }
        cost = 0
        days_remove = 5
        days_re_enable = 30
        complete_effect = {
        }
        remove_effect = {
            add_political_power = 40
            custom_effect_tooltip = STG_sell_two_units_material
            STG = {add_to_variable = {STG_material = -2}}
        }
        ai_will_do = {
            factor = 0
        }
    }
    #实验性炼金炮弹
    STG_experimental_shell = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
        }
        cost = 50
        days_remove = 120
        fire_only_once = yes
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            set_country_flag = STG_had_experimental_shell
            custom_effect_tooltip = STG_experimental_shell_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_workshop_artillery_bonus = 0.05}
                    add_to_variable = {STG_workshop_armor_attack_bonus = 0.05}
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #改良型炼金炮弹
    STG_improved_shell = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
            has_country_flag = STG_had_experimental_shell
        }
        cost = 50
        days_remove = 180
        fire_only_once = yes
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            set_technology = {STG_Mana_shell_tech = 1}
            custom_effect_tooltip = STG_improved_shell_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_workshop_artillery_bonus = 0.10}
                    add_to_variable = {STG_workshop_armor_attack_bonus = 0.05}
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #实验型炼金装甲
    STG_experimental_armor = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
        }
        cost = 50
        days_remove = 120
        fire_only_once = yes
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            set_country_flag = STG_had_experimental_armor
            custom_effect_tooltip = STG_experimental_armor_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_workshop_armor_defense_bonus = 0.10}
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #改良型炼金装甲
    STG_improved_armor = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
            has_country_flag = STG_had_experimental_armor
        }
        cost = 50
        days_remove = 180
        fire_only_once = yes
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            custom_effect_tooltip = STG_improved_armor_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_workshop_armor_defense_bonus = 0.10}
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #实战型人造人技术
    STG_artificial_1 = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
        }
        cost = 50
        days_remove = 180
        fire_only_once = yes
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            set_technology = {STG_Clone_infantry_tech = 1}
            custom_effect_tooltip = STG_artificial_1_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_workshop_experience_loss_bonus = -0.20}
                    add_to_variable = {STG_army_infantry_attack_bonus = 0.10}
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #量产型人造人技术
    STG_artificial_2 = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
        }
        cost = 50
        days_remove = 180
        fire_only_once = yes
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            custom_effect_tooltip = STG_artificial_2_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_production_factory_max_efficiency_bonus = 0.10}
                    add_to_variable = {STG_workshop_industrial_capacity_bonus = 0.10}
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #探索未知科技
    STG_explore_the_unknown = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
        }
        cost = 50
        days_remove = 120
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            custom_effect_tooltip = STG_unknown_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
                random_list = {
                    10 = {
                        STG = {add_to_variable = {STG_workshop_industrial_capacity_bonus = 0.05}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_army_infantry_attack_bonus = 0.05}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_artillery_bonus = 0.05}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_armor_attack_bonus = 0.05}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_armor_defense_bonus = 0.05}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_experience_loss_bonus = 0.05}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_production_factory_max_efficiency_bonus = 0.05}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_monthly_manpower_bonus = 50}}
                    }
                    20 = {
                    }
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #可疑的药
    STG_suspicious_medicine = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
            has_country_flag = STG_ilya_enable_more_workshop_decisions
        }
        cost = 5
        days_remove = 60
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            custom_effect_tooltip = STG_unknown_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
                random_list = {
                    10 = {
                        STG = {add_to_variable = {STG_workshop_industrial_capacity_bonus = 0.10}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_army_infantry_attack_bonus = 0.10}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_artillery_bonus = 0.10}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_armor_attack_bonus = 0.10}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_armor_defense_bonus = 0.10}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_workshop_experience_loss_bonus = 0.10}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_production_factory_max_efficiency_bonus = 0.10}}
                    }
                    10 = {
                        STG = {add_to_variable = {STG_monthly_manpower_bonus = 50}}
                    }
                    20 = {
                    }
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
    #玛纳科技实用化
    STG_mana_tech = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_have_enough_material
                STG = {check_variable = {STG_material > 3}}
            }
            NOT = {
                has_country_flag = STG_workshop_is_busy
            }
        }
        visible = {
            has_country_flag = STG_ilya_enable_more_workshop_decisions
        }
        cost = 5
        days_remove = 60
        complete_effect = {
            STG = {add_to_variable = {STG_material = -4}}
            set_country_flag = STG_workshop_is_busy
        }
        remove_effect = {
            clr_country_flag = STG_workshop_is_busy
            custom_effect_tooltip = STG_unknown_outcome
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_num_of_workshop_actions = 1}
                }
                random_list = {
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = mana_tech
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = mana_industry
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = cat_mana_infantry
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = armor
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = artillery
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = infantry_weapons
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = industry
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = electronics
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = light_air
                        }
                    }
                    10 = {
                        add_tech_bonus = {
                            bonus = 1.5
                            uses = 1
                            category = naval_equipment
                        }
                    }
                }
            }
        }
        ai_will_do = {
			factor = 100
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_cam_crushed
                }
                NOT = {
                    has_country_flag = STG_usr_crushed
                }
            }
		}
    }
}
#爱因兹贝伦风暴
STG_einzbern_storm = {
    #征召士兵
    STG_einzbern_storm_manpower = {
        available = {
            has_war_with = USR
        }
        visible = {
            NOT = {
                has_country_flag = STG_ilya_reclaim_war_ended
            }
        }
        cost = 50
        days_remove = 30
        days_re_enable = 30
        complete_effect = {
        }
        remove_effect = {
            add_manpower = 25000
        }
    }
    #购买武器
    STG_einzbern_storm_weapon = {
        available = {
            has_war_with = USR
        }
        visible = {
            NOT = {
                has_country_flag = STG_ilya_reclaim_war_ended
            }
        }
        cost = 50
        days_remove = 30
        days_re_enable = 30
        complete_effect = {
        }
        remove_effect = {
            add_equipment_to_stockpile = {
		        type = infantry_equipment_1
		        amount = 2000
		        producer = STG
	        }
            add_equipment_to_stockpile = {
		        type = artillery_equipment_1
		        amount = 400
		        producer = STG
	        }
        }
    }
    #招募乌斯拉尔民兵
    STG_einzbern_storm_militia = {
        available = {
            any_controlled_state = {
                is_core_of = USR
                NOT = {
                    state = 682
                }
            }
            has_war_with = USR
        }
        visible = {
            NOT = {
                has_country_flag = STG_ilya_reclaim_war_ended
            }
        }
        cost = 30
        days_remove = 15
        days_re_enable = 10
        complete_effect = {
        }
        remove_effect = {
            if = {
                limit = {
                    NOT = {
                        has_template = "Uslar Militia"
                    }
                }
                division_template = {
                    name = "Uslar Militia"
                    is_locked = yes
                    priority = 0
                    template_counter = 0
                    regiments = {
                        infantry = { x = 0 y = 0 }
                        infantry = { x = 0 y = 1 }
                        infantry = { x = 0 y = 2 }
                        infantry = { x = 1 y = 0 }
                        infantry = { x = 1 y = 1 }
                        infantry = { x = 1 y = 2 }
                        infantry = { x = 2 y = 0 }
                        infantry = { x = 2 y = 1 }
                        infantry = { x = 2 y = 2 }
                    }
                }
            }
            random_controlled_state = {
                limit = {
                    is_core_of = USR
                    NOT = {
                        state = 682
                    }
                }
                create_unit = {
                    division = "name = \"Uslar Militia\" division_template = \"Uslar Militia\" start_experience_factor = 0.15"
                    owner = STG
                }
                create_unit = {
                    division = "name = \"Uslar Militia\" division_template = \"Uslar Militia\" start_experience_factor = 0.15"
                    owner = STG
                }
            }
        }
    }
    #策略：优势在我
    STG_einzbern_storm_strategy_1 = {
        available = {
            NOT = {
                has_country_flag = STG_einzbern_storm_strategy_1_recently_used
                has_country_flag = STG_strategy_selected
            }
            has_war_with = USR
        }
        visible = {
            NOT = {
                has_country_flag = STG_ilya_reclaim_war_ended
            }
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 30
        complete_effect = {
            add_command_power = -50
            set_country_flag = STG_einzbern_storm_strategy_1
            set_country_flag = STG_strategy_selected
        }
        modifier = {
            army_attack_factor = 0.20
            army_defence_factor = -0.15
            breakthrough_factor = 0.10
        }
        remove_effect = {
            hidden_effect = {
                clr_country_flag = STG_einzbern_storm_strategy_1
                clr_country_flag = STG_strategy_selected
                set_country_flag = {flag = STG_einzbern_storm_strategy_1_recently_used value = 1 days = 30} 
            }
        }
        ai_will_do = {
			factor = 1
		}
    }
    #策略：坚定守住
    STG_einzbern_storm_strategy_2 = {
        available = {
            NOT = {
                has_country_flag = STG_einzbern_storm_strategy_2_recently_used
                has_country_flag = STG_strategy_selected
            }
            has_war_with = USR
        }
        visible = {
            NOT = {
                has_country_flag = STG_ilya_reclaim_war_ended
            }
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 30
        complete_effect = {
            add_command_power = -50
            set_country_flag = STG_einzbern_storm_strategy_2
            set_country_flag = STG_strategy_selected
        }
        modifier = {
            army_defence_factor = 0.20
            dig_in_speed_factor = 0.15
        }
        remove_effect = {
            hidden_effect = {
                clr_country_flag = STG_einzbern_storm_strategy_2
                clr_country_flag = STG_strategy_selected
                set_country_flag = {flag = STG_einzbern_storm_strategy_2_recently_used value = 2 days = 30} 
            }
        }
    }
    #策略：畅通无阻
    STG_einzbern_storm_strategy_3 = {
        available = {
            NOT = {
                has_country_flag = STG_einzbern_storm_strategy_3_recently_used
                has_country_flag = STG_strategy_selected
            }
            has_war_with = USR
        }
        visible = {
            NOT = {
                has_country_flag = STG_ilya_reclaim_war_ended
            }
        }
        custom_cost_trigger = {
			command_power > 50
		}
        custom_cost_text = decision_cost_CP_50
        days_remove = 30
        complete_effect = {
            add_command_power = -50
            set_country_flag = STG_einzbern_storm_strategy_3
            set_country_flag = STG_strategy_selected
        }
        modifier = {
            army_speed_factor = 0.33
            breakthrough_factor = 0.10
            army_org_factor = -0.15
        }
        remove_effect = {
            hidden_effect = {
                clr_country_flag = STG_einzbern_storm_strategy_3
                clr_country_flag = STG_strategy_selected
                set_country_flag = {flag = STG_einzbern_storm_strategy_3_recently_used value = 1 days = 30} 
            }
        }
    }
}
#弗格非尔德案调查
STG_explosion_investigation = {
    #开启初步调查
    STG_investigation_step_1 = {
        available = {
        }
        visible = {
        }
        cost = 0
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            hidden_effect = {
                set_country_flag = STG_investigation_step_1_starts
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    STG_gain_pp = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
            command_power > 19
        }
        visible = {
            has_country_flag = STG_investigation_step_1_starts
        }
        days_remove = 7
        days_re_enable = 30
        remove_effect = {
            add_command_power = -20
            add_political_power = 50
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #调查海军基地
    STG_investigate_naval_base = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigation_step_1_starts
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            STG_increase_army_discontent = yes
            hidden_effect = {
                country_event = {id = STG_investigation.1}
                STG = {add_to_variable = {STG_clue = 1}}
                set_country_flag = STG_investigated_naval_base
                clr_country_flag = STG_investigation_in_progress
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    #调查值班水兵
    STG_investigate_sailors = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigated_naval_base
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            STG_increase_army_discontent = yes
            hidden_effect = {
                country_event = {id = STG_investigation.2}
                STG = {add_to_variable = {STG_clue = 1}}
                clr_country_flag = STG_investigation_in_progress
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    #调查军港弹药库
    STG_investigate_arsenal = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigated_naval_base
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            STG_increase_army_discontent = yes
            hidden_effect = {
                country_event = {id = STG_investigation.3}
                STG = {add_to_variable = {STG_clue = 1}}
                set_country_flag = STG_investigated_arsenal
                clr_country_flag = STG_investigation_in_progress
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    #调查军队后勤系统
    STG_investigate_army_logistics = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigated_arsenal
            NOT = {
                has_country_leader = {
                    character = STG_darjeeling
                    ruling_only = yes
                }
            }
        }
        cost = 10
        days_remove = 21
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            STG_increase_army_discontent = yes
            hidden_effect = {
                country_event = {id = STG_investigation.4}
                STG = {add_to_variable = {STG_clue = 1}}
                set_country_flag = STG_investigated_army_logistics
                clr_country_flag = STG_investigation_in_progress
            }
        }
    }
    #深挖军队的秘密
    STG_investigate_army_secret = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigated_army_logistics
            NOT = {
                has_country_leader = {
                    character = STG_darjeeling
                    ruling_only = yes
                }
            }
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            STG_increase_army_discontent_big = yes
            clr_country_flag = STG_investigation_in_progress
            hidden_effect = {
                country_event = {id = STG_investigation.5}
            }
        }
    }
    #调查卡美洛动向
    STG_investigate_cam = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigation_step_1_starts
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_investigation.6}
                STG = {add_to_variable = {STG_clue = 1}}
                set_country_flag = STG_investigated_cam
                clr_country_flag = STG_investigation_in_progress
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    #调查国内卡美洛分子
    STG_investigate_cam_domestic = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigated_cam
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_investigation.7}
                STG = {add_to_variable = {STG_clue = 1}}
                set_country_flag = STG_investigated_cam_domestic
                clr_country_flag = STG_investigation_in_progress
                
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    #调查卡美洛分子资金来源
    STG_investigate_cam_fund = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigated_cam_domestic
        }
        cost = 10
        days_remove = 14
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_investigation.8}
                STG = {add_to_variable = {STG_clue = 1}}
                set_country_flag = STG_investigated_cam_fund
                clr_country_flag = STG_investigation_in_progress
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    #调查刘易斯郡政府
    STG_investigate_gov = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
            has_country_flag = STG_investigated_cam_fund
        }
        cost = 10
        days_remove = 14
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_investigation.9}
                STG = {add_to_variable = {STG_clue = 1}}
                clr_country_flag = STG_investigation_in_progress
            }
        }
        ai_will_do = {
			#factor = 1
			factor = 100
		}
    }
    #结束调查
    STG_end_investigation = {
        available = {
            NOT = {
                has_country_flag = STG_investigation_in_progress
            }
        }
        visible = {
        }
        cost = 0
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_investigation_in_progress
        }
        remove_effect = {
            remove_ideas = STG_investigation
            set_country_flag = STG_investigation_ended
            hidden_effect = {
                if = {
                    limit = {
                        has_completed_focus = STG_true_dar_4
                    }
                    if = {
                        limit = {
                            NOT = {
                                has_idea = STG_orange_pekoe_advisor
                            }
                        }
                        add_ideas = STG_orange_pekoe_advisor
                    }
                }
                if = {
                    limit = {
                        STG = {check_variable = {STG_clue > 6}}
                    }
                    if = {
                        limit = {
                            has_country_leader = {
                                character = STG_darjeeling
                                ruling_only = yes
                            }
                        }
                        country_event = {id = STG_investigation.13}
                    }
                    else = {
                        country_event = {id = STG_investigation.10}
                    }
                }
                else_if = {
                    limit = {
                        STG = {check_variable = {STG_clue > 3}}
                    }
                    country_event = {id = STG_investigation.11}
                }
                else = {
                    country_event = {id = STG_investigation.12}
                }
                country_event = {id = STG_general.12 days = 7}
            }
        }
        ai_will_do = {
			base = 0 
            modifier = {
                add = 100
                STG = {check_variable = {STG_clue > 6}}
            }
		}
    }
}
#bop决议
STG_bop_decisions = {
    #区域民族自治
    STG_choose_side_decentralization = {
        available = {
        }
        visible = {
            NOT = {has_country_flag = STG_decentralization_side_chosen}
        }
        cost = 0
        days_remove = 1
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_bop_suggestions_desc
            hidden_effect = {
                set_country_flag = STG_decentralization_side_chosen
                if = {
                    limit = {
                        has_country_flag = STG_centralization_side_chosen
                    }
                    clr_country_flag = STG_centralization_side_chosen
                    add_political_power = -50
                    STG_increase_army_discontent = yes
                    
                }
            }
        }
        ai_will_do = {
			base = 100
            modifier = {
                add = -100
                has_country_flag = STG_centralization_side_chosen #AI不会左右横跳
            }
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
            modifier = {
                factor = 0
                has_country_flag = STG_darjeeling_route
            }
		}
    }
    #下放权力
    STG_add_autonomy = {
        available = {
        }
        visible = {
           has_country_flag = STG_decentralization_side_chosen
        }
        cost = 30
        days_remove = 30
        days_re_enable = 180
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_usr_unrest = yes
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = 0.10
                tooltip_side = STG_centralized_vs_decentralized_right_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #禁止地方武装
    STG_ban_millitia = {
        available = {
            NOT = {has_country_flag = STG_millitia_kept}
        }
        visible = {
           has_country_flag = STG_decentralization_side_chosen
           NOT = {has_country_flag = STG_millitia_kept}
        }
        cost = 50
        days_remove = 30
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_millitia_banned
        }
        remove_effect = {
            add_popularity = {
                ideology = fascism
                popularity = -0.03
            }
            STG_increase_usr_unrest = yes
            add_equipment_to_stockpile = {
		        type = infantry_equipment_1
		        amount = 2500
		        producer = USR
	        }
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = -0.05
                tooltip_side = STG_centralized_vs_decentralized_left_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #允许保留民兵
    STG_allow_millitia = {
        available = {
            NOT = {has_country_flag = STG_millitia_banned}
        }
        visible = {
           has_country_flag = STG_decentralization_side_chosen
           NOT = {has_country_flag = STG_millitia_banned}
        }
        cost = 30
        days_remove = 30
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_millitia_kept
        }
        remove_effect = {
            STG_reduce_usr_unrest = yes
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = 0.10
                tooltip_side = STG_centralized_vs_decentralized_right_side
            }
            custom_effect_tooltip = STG_dont_worry_desc
        }
        ai_will_do = {
			base = 10
		}
    }
    #民族团结月
    STG_unity_month = {
        available = {
        }
        visible = {
            OR = {
                has_country_flag = STG_decentralization_side_chosen
                has_country_flag = STG_centralization_side_chosen
            }
        }
        cost = 20
        days_remove = 30
        days_re_enable = 180
        complete_effect = {
        }
        remove_effect = {
            add_stability = 0.025
            STG_reduce_usr_unrest = yes
            STG_reduce_cam_unrest = yes
            set_temp_variable = {STG_anglian_opinion_temp = 5}
            STG_change_anglian_opinion = yes
            set_temp_variable = {STG_uslarian_opinion_temp = 5}
            STG_change_uslarian_opinion = yes
        }
        ai_will_do = {
			base = 10
		}
    }
    #教育自主
    STG_education_decentralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_decentralization_side_chosen
        }
        cost = 20
        days_remove = 30
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {STG_uslarian_opinion_temp = 5}
            STG_change_uslarian_opinion = yes
            add_popularity = {
                ideology = fascism
                popularity = 0.03
            }
            STG_reduce_usr_unrest = yes
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = 0.10
                tooltip_side = STG_centralized_vs_decentralized_right_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #司法自主
    STG_judicial_decentralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_decentralization_side_chosen
        }
        cost = 25
        days_remove = 30
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            set_temp_variable = {STG_uslarian_opinion_temp = 5}
            STG_change_uslarian_opinion = yes
            STG_reduce_usr_unrest = yes
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = 0.10
                tooltip_side = STG_centralized_vs_decentralized_right_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #赋权各郡议会
    STG_parliament_decentralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_decentralization_side_chosen
        }
        cost = 25
        days_remove = 50
        days_re_enable = 270
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_usr_unrest = yes
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = 0.15
                tooltip_side = STG_centralized_vs_decentralized_right_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #允许设立地方税种
    STG_tax_decentralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_decentralization_side_chosen
        }
        cost = 50
        days_remove = 10
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_usr_unrest = yes
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = 0.15
                tooltip_side = STG_centralized_vs_decentralized_right_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #单一制
    STG_choose_side_centralization = {
        available = {
        }
        visible = {
            NOT = {has_country_flag = STG_centralization_side_chosen}
        }
        cost = 0
        days_remove = 1
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_bop_suggestions_desc
            hidden_effect = {
                set_country_flag = STG_centralization_side_chosen
                if = {
                    limit = {
                        has_country_flag = STG_decentralization_side_chosen
                    }
                    clr_country_flag = STG_decentralization_side_chosen
                    add_political_power = -50
                    STG_increase_army_discontent = yes
                    
                }
            }
        }
        ai_will_do = {
			base = 100
            modifier = {
                add = -100
                has_country_flag = STG_decentralization_side_chosen #AI不会左右横跳
            }
            modifier = {
                factor = 0
                NOT = {
                    has_country_flag = STG_investigation_ended
                }
            }
		}
    }
    #重申中央权威
    STG_assert_authority = {
        available = {
        }
        visible = {
            has_country_flag = STG_centralization_side_chosen
        }
        cost = 30
        days_remove = 30
        days_re_enable = 180
        complete_effect = {
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = -0.10
                tooltip_side = STG_centralized_vs_decentralized_left_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #向地方暂时让步
    STG_step_back = {
        available = {
        }
        visible = {
            has_country_flag = STG_centralization_side_chosen
        }
        cost = 30
        days_remove = 30
        days_re_enable = 180
        complete_effect = {
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = 0.05
                tooltip_side = STG_centralized_vs_decentralized_right_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #统一教材
    STG_education_centralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_centralization_side_chosen
        }
        cost = 50
        days_remove = 30
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = -0.15
                tooltip_side = STG_centralized_vs_decentralized_left_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #明确官方语言
    STG_language_centralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_centralization_side_chosen
        }
        cost = 25
        days_remove = 50
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = -0.15
                tooltip_side = STG_centralized_vs_decentralized_left_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #民族混编部队
    STG_mil_centralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_centralization_side_chosen
        }
        cost = 50
        days_remove = 100
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            army_experience = 100
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = -0.10
                tooltip_side = STG_centralized_vs_decentralized_left_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #统一税收政策
    STG_tax_centralization = {
        available = {
        }
        visible = {
            has_country_flag = STG_centralization_side_chosen
        }
        cost = 50
        days_remove = 50
        days_re_enable = 270
        complete_effect = {
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_centralized_vs_decentralized
                value = -0.10
                tooltip_side = STG_centralized_vs_decentralized_left_side
            }
        }
        ai_will_do = {
			base = 10
		}
    }
    #强化国家认同
    STG_identity = {
        available = {
        }
        visible = {
            has_country_flag = STG_centralization_side_chosen
        }
        cost = 20
        days_remove = 30
        days_re_enable = 300
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_cam_unrest_big = yes
            STG_increase_usr_unrest = yes
        }
        ai_will_do = {
			base = 10
		}
    }
}
#紧急状态
STG_national_emergency = {
    #结束紧急状态
    STG_end_emergency = {
        available = {
            has_stability > 0.50
            OR = {
                has_idea = STG_emergency_law
                has_idea = STG_emergency_law_2
            }
            reactionism < 0.05
            fascism < 0.05
        }
        visible = {
            tag = STG
            OR = {
                has_idea = STG_emergency_law
                has_idea = STG_emergency_law_2
            }
        }
        cost = 100
        days_remove = 10
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            if = {
                limit = {
                    has_idea = STG_emergency_law
                }
                remove_ideas = STG_emergency_law
            }
            if = {
                limit = {
                    has_idea = STG_emergency_law_2
                }
                remove_ideas = STG_emergency_law_2
            }
            clr_country_flag = STG_national_emergency_flag
        }
        ai_will_do = {
			factor = 1
		}
    }
    #扩大戒严
    STG_upgrade_emergency = {
        available = {
            has_idea = STG_emergency_law
            OR = {
                reactionism > 0.20
                fascism > 0.20
            }
        }
        visible = {
            tag = STG
            has_idea = STG_emergency_law
        }
        cost = 50
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            swap_ideas = {
                remove_idea = STG_emergency_law
                add_idea = STG_emergency_law_2
            }
        }
        ai_will_do = {
			factor = 1
		}
    }
}
#工团主义革命
STG_revolution = {
    #触发随机事件
    STG_random_rev_event = {
        icon = mission_icon
        is_good = no
        available = {
            always = no
        }
        activation = {
            has_country_flag = STG_rev_started
        }
        cancel_trigger = {
            OR = {
                has_country_flag = STG_army_takeover
                NOT = {
                    has_country_flag = STG_rev_started
                }
            }
        }
        days_mission_timeout = 20
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            STG_rev_random_event_effect = yes
        }
    }
    #革命热情增长
    STG_rev_zeal_change = {
        icon = mission_icon
        is_good = yes
        available = {
            always = no
        }
        activation = {
            has_country_flag = STG_rev_started
        }
        cancel_trigger = {
            OR = {
                has_country_flag = STG_army_takeover
                NOT = {
                    has_country_flag = STG_rev_started
                }
            }
        }
        days_mission_timeout = 21
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            STG_rev_zeal_naturally_increase = yes
        }
    }
    #军队疑惑增长
    STG_mil_doubt_change = {
        icon = mission_icon
        is_good = no
        available = {
            always = no
        }
        activation = {
            has_country_flag = STG_rev_started
        }
        cancel_trigger = {
            OR = {
                has_country_flag = STG_army_takeover
                NOT = {
                    has_country_flag = STG_rev_started
                }
            }
        }
        days_mission_timeout = 20
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            STG_mil_doubt_naturally_increase = yes
        }
    }
    #逼迫七领议会妥协
    STG_force_par_to_compromise = {
        available = {
            has_country_flag = STG_syn_cooperates_with_sd
            custom_trigger_tooltip = {
                tooltip = STG_gov_strength_less_than_40
                STG = {check_variable = {STG_gov_strength < 40}}
            }
            communism > 0.30
        }
        visible = {
            has_country_flag = STG_syn_cooperates_with_sd
        }
        cost = 0
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_stability = -0.15
            add_political_power = 200
            complete_national_focus = STG_com_6
            set_politics = {
                ruling_party = communism
            }
            custom_effect_tooltip = STG_reset_par_desc
            hidden_effect = {
                set_country_flag = STG_syn_sd_union_controls_par
                clr_country_flag = STG_rev_started
                clr_country_flag = STG_conservative_controls_par
                clr_country_flag = STG_enbale_revolution_decisions
                remove_ideas = STG_full_of_corruption
                set_party_name = {ideology = democratic long_name = STG_democratic_party_sd_long name = STG_democratic_party_sd}
                STG = {set_variable = {STG_supporter = 16}}
            }
        }
        ai_will_do = {
			factor = 10
		}
    }
    #推翻资产阶级政府
    STG_overthrow_gov = {
        available = {
            NOT = {
                has_country_flag = STG_syn_cooperates_with_sd
            }
            custom_trigger_tooltip = {
                tooltip = STG_gov_strength_less_than_20
                STG = {check_variable = {STG_gov_strength < 20}}
            }
            communism > 0.50
        }
        visible = {
            NOT = {has_country_flag = STG_syn_cooperates_with_sd}
        }
        cost = 0
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            add_stability = -0.30
            add_political_power = 200
            set_politics = {
                ruling_party = communism
            }
            remove_ideas = STG_full_of_corruption
            set_country_flag = STG_overthrow_gov_flag
            clr_country_flag = STG_enable_parliament_events
            hidden_effect = {
                news_event = {id = STG_news.12 days = 5}
            }
        }
        ai_will_do = {
			factor = 1000
		}
    }
    #团结学生
    STG_unite_with_students = {
        available = {
            NOT = {has_country_flag = STG_unite_our_people_flag}
        }
        visible = {
            OR = {
                has_completed_focus = STG_com_3
                has_completed_focus = STG_com_2
            }
        }
        cost = 50
        days_remove = 20
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_unite_our_people_flag
        }
        remove_effect = {
            clr_country_flag = STG_unite_our_people_flag
            STG_increase_rev_zeal_big = yes
            STG_reduce_gov_strength = yes
            add_popularity = {
                ideology = communism
                popularity = 0.04
            }
            set_country_flag = STG_sutdents_join_rev
            hidden_effect = {
                country_event = {id = STG_rev.30}
            }
        }
        ai_will_do = {
			factor = 10
		}
    }
    #团结农民
    STG_unite_with_peasants = {
        available = {
            NOT = {has_country_flag = STG_unite_our_people_flag}
        }
        visible = {
            OR = {
                has_completed_focus = STG_com_3
                has_completed_focus = STG_com_2
            }
        }
        cost = 50
        days_remove = 20
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_unite_our_people_flag
        }
        remove_effect = {
            clr_country_flag = STG_unite_our_people_flag
            STG_increase_rev_zeal_big = yes
            STG_reduce_gov_strength = yes
            add_popularity = {
                ideology = communism
                popularity = 0.04
            }
            hidden_effect = {
                country_event = {id = STG_rev.67}
            }
        }
        ai_will_do = {
			factor = 10
		}
    }
    #团结军队
    STG_unite_with_army = {
        available = {
            NOT = {has_country_flag = STG_unite_our_people_flag}
        }
        visible = {
            has_completed_focus = STG_com_3
        }
        cost = 50
        days_remove = 20
        fire_only_once = yes
        complete_effect = {
            set_country_flag = STG_unite_our_people_flag
        }
        remove_effect = {
            clr_country_flag = STG_unite_our_people_flag
            STG_increase_rev_zeal_big = yes
            STG_reduce_mil_doubt_big = yes
            add_popularity = {
                ideology = communism
                popularity = 0.04
            }
            hidden_effect = {
                country_event = {id = STG_rev.66}
            }
        }
        ai_will_do = {
			factor = 10
		}
    }
    #格蕾元帅的斡旋
    STG_gerys_mediate = {
        available = {
        }
        visible = {
            has_completed_focus = STG_com_3
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_rev_grey_only_has_one_chance
            STG_reduce_mil_doubt_big = yes
        }
        ai_will_do = {
			factor = 10
		}
    }
    #军中同情者的阻拦
    STG_sympathizer_in_army = {
        available = {
        }
        visible = {
            has_completed_focus = STG_com_3
        }
        cost = 15
        days_re_enable = 20
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_mil_doubt = yes
        }
        ai_will_do = {
			factor = 10
		}
    }
    #武装工人纠察队
    STG_arms_workers = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_gov_strength_less_than_50
                STG = {check_variable = {STG_gov_strength < 50}}
            }
        }
        cost = 10
        days_remove = 20
        fire_only_once = yes
        remove_effect = {
            custom_effect_tooltip = STG_avoid_bloody_suppress
            set_country_flag = STG_armed_workers
        }
        ai_will_do = {
			factor = 10
		}
    }
    #公开演讲
    STG_speech = {
        available = {
        }
        visible = {
        }
        cost = 5
        days_remove = 5
        days_re_enable = 15
        remove_effect = {
            STG_increase_rev_zeal_small = yes
        }
        ai_will_do = {
			factor = 1000
		}
    }
    #抨击政府
    STG_criticize_gov = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_zeal_10
                STG = {check_variable = {STG_rev_zeal > 9}}
            }
        }
        visible = {
        }
        days_remove = 10
        days_re_enable = 15
        complete_effect = {
            STG_reduce_rev_zeal = yes
        }
        remove_effect = {
            STG_reduce_gov_strength = yes
            add_popularity = {
                ideology = communism
                popularity = 0.02
            }
        }
        ai_will_do = {
			factor = 1000
		}
    }
    #组织示威
    STG_protest = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_zeal_10
                STG = {check_variable = {STG_rev_zeal > 9}}
            }
        }
        visible = {
        }
        cost = 15
        days_remove = 15
        days_re_enable = 30
        complete_effect = {
            STG_reduce_rev_zeal = yes
        }
        remove_effect = {
            STG_reduce_gov_strength = yes
            add_popularity = {
                ideology = communism
                popularity = 0.02
            }
        }
        ai_will_do = {
			factor = 1000
		}
    }
    #延长罢工
    STG_strike = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_zeal_20
                STG = {check_variable = {STG_rev_zeal > 19}}
            }
        }
        visible = {
        }
        cost = 15
        days_remove = 15
        days_re_enable = 30
        complete_effect = {
            STG_reduce_rev_zeal_big = yes
        }
        remove_effect = {
            STG_reduce_gov_strength_big = yes
            add_popularity = {
                ideology = communism
                popularity = 0.03
            }
        }
        modifier = {
            industrial_capacity_factory = -0.15
			industrial_capacity_dockyard = -0.15
        }
        ai_will_do = {
			factor = 10
		}
    }
    #约束激进行为
    STG_constrain_radical_action = {
        available = {
        }
        visible = {
            NOT = {has_completed_focus = STG_com_4}
        }
        cost = 0
        days_remove = 7
        days_re_enable = 20
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_rev_zeal = yes
            STG_reduce_mil_doubt = yes
        }
        ai_will_do = {
			factor = 10
		}
    }
    #约束激进行为
    STG_constrain_radical_action_upgraded = {
        available = {
        }
        visible = {
            has_completed_focus = STG_com_4
        }
        cost = 0
        days_remove = 7
        days_re_enable = 20
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_rev_zeal = yes
            STG_reduce_mil_doubt_big = yes
        }
        ai_will_do = {
			factor = 10
		}
    }
    #与社民派会谈
    STG_meet_with_sd = {
        available = {
        }
        visible = {
            has_country_flag = STG_syn_cooperates_with_sd
        }
        cost = 20
        days_remove = 10
        days_re_enable = 10
        complete_effect = {
        }
        remove_effect = {
            STG_increase_rev_zeal_small = yes
            STG_reduce_gov_strength = yes
            add_popularity = {
                ideology = democratic
                popularity = 0.03
            }
        }
        ai_will_do = {
			factor = 10
		}
    }
    #邀请工人领袖到议会演讲
    STG_invite_leaders = {
        available = {
        }
        visible = {
            has_country_flag = STG_syn_cooperates_with_sd
        }
        cost = 10
        days_remove = 3
        days_re_enable = 30
        complete_effect = {
        }
        remove_effect = {
            STG_increase_rev_zeal = yes
            add_popularity = {
                ideology = communism
                popularity = 0.02
            }
            add_popularity = {
                ideology = democratic
                popularity = 0.02
            }
        }
        ai_will_do = {
			factor = 10
		}
    }
    #拉拢进步派将领
    STG_invite_generals = {
        available = {
        }
        visible = {
            has_country_flag = STG_syn_cooperates_with_sd
        }
        cost = 10
        days_remove = 7
        days_re_enable = 20
        complete_effect = {
        }
        remove_effect = {
            STG_reduce_mil_doubt = yes
        }
        ai_will_do = {
			factor = 10
		}
    }
    #揭露资本家丑恶面目
    STG_ugly_capitalists = {
        available = {
        }
        visible = {
            has_completed_focus = STG_com_3
        }
        cost = 10
        days_remove = 20
        days_re_enable = 60
        complete_effect = {
        }
        remove_effect = {
            STG_increase_rev_zeal = yes
            STG_reduce_gov_strength = yes
            add_popularity = {
                ideology = communism
                popularity = 0.025
            }
        }
        ai_will_do = {
			factor = 10
		}
    }
    #占领工厂
    STG_occupy_factories = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_zeal_20
                STG = {check_variable = {STG_rev_zeal > 19}}
            }
        }
        visible = {
            has_completed_focus = STG_com_3
        }
        cost = 0
        days_remove = 30
        days_re_enable = 60
        complete_effect = {
            STG_reduce_rev_zeal_big = yes
        }
        remove_effect = {
            STG_reduce_gov_strength_big = yes
            add_popularity = {
                ideology = communism
                popularity = 0.03
            }
        }
        modifier = {
            industrial_capacity_factory = -0.30
			industrial_capacity_dockyard = -0.30
        }
        ai_will_do = {
			factor = 10
		}
    }
    #冲击政府
    STG_attack_gov = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_zeal_20
                STG = {check_variable = {STG_rev_zeal > 19}}
            }
        }
        visible = {
            has_completed_focus = STG_com_3
        }
        cost = 0
        days_remove = 3
        days_re_enable = 60
        complete_effect = {
            STG_reduce_rev_zeal_big = yes
        }
        remove_effect = {
            STG_reduce_gov_strength_big = yes
            STG_increase_mil_doubt_big = yes
            add_popularity = {
                ideology = communism
                popularity = 0.03
            }
        }
        ai_will_do = {
			factor = 0
		}
    }
}
#革命安全局
STG_rev_national_security = {
    #安全教育
    STG_security_edu = {
        cost = 10
        days_remove = 15
        days_re_enable = 30
        remove_effect = {
            set_temp_variable = {STG_national_security_temp = 3}
            STG_rev_add_security = yes
            set_temp_variable = {STG_national_security_weekly_change_temp = 0.1}
            STG_rev_add_security_weekly_change = yes 
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }
    #训练民兵
    STG_train_militia = {
        cost = 20
        days_remove = 30
        days_re_enable = 30
        remove_effect = {
            
            add_manpower = 1000
            add_equipment_to_stockpile = {
                type = infantry_equipment
                amount = -200
            }
            set_temp_variable = {STG_national_security_temp = 5}
            STG_rev_add_security = yes
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }
    #动员群众检举
    STG_mobalise_people = {
        cost = 5
        days_remove = 15
        days_re_enable = 60
        remove_effect = {
            random_list = {
                40 = {
                    set_temp_variable = {STG_national_security_temp = 2}
                    STG_rev_add_security = yes
                }
                50 = {
                }
                9 = {
                    set_temp_variable = {STG_national_security_weekly_change_temp = 2}
                    STG_rev_add_security_weekly_change = yes
                }
                1 = {
                    country_event = {id = STG_rev.86}
                }
            }
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }
    #加强巡逻力度
    STG_patrol = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_picket
                check_variable = {STG_armed_picket_action_point_limit > 0}
            }
        }
        days_remove = 50
        days_re_enable = 60
        complete_effect = {
            hidden_effect = {
                add_to_variable = {STG_armed_picket_action_point = -1}
            }
        }
        remove_effect = {
            
            set_temp_variable = {STG_national_security_temp = 10}
            STG_rev_add_security = yes
            custom_effect_tooltip = STG_return_point 
            add_to_variable = {STG_armed_picket_action_point = 1}
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }
    #加强边境巡逻
    STG_border_patrol = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_picket
                check_variable = {STG_armed_picket_action_point_limit > 0}
            }
        }
        days_remove = 40
        days_re_enable = 60
        complete_effect = {
            hidden_effect = {
                add_to_variable = {STG_armed_picket_action_point = -1}
            }
        }
        remove_effect = {
            set_temp_variable = {STG_national_security_temp = 5}
            STG_rev_add_security = yes
            custom_effect_tooltip = STG_return_point
            add_to_variable = {STG_armed_picket_action_point = 1}
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }

    #为革安局聘请顾问
    STG_employ_advisor_for_RSA = {
        fire_only_once = yes
        visible = {
            has_completed_focus = STG_com_24
        }
        cost = 25
        days_remove = 40
        remove_effect = {
            custom_effect_tooltip = STG_employ_advisor_for_RSA_effect
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_security_agency_action_point_limit = 1}
                }
            }
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }
    #加强反间谍战
    STG_counterintelligence = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_agency
                check_variable = {STG_security_agency_action_point > 0}
            }
        }
        days_remove = 40
        days_re_enable = 60
        complete_effect = {
            hidden_effect = {
                add_to_variable = {STG_security_agency_action_point = -1}
            }
        }
        remove_effect = {
            custom_effect_tooltip = STG_return_point
            add_to_variable = {STG_security_agency_action_point = 1}
        }
        modifier = {
            STG_national_security_weekly_change_modifier = 0.4
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }
    #打击非法地下团体
    STG_beat_illegal_organization = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_agency
                check_variable = {STG_security_agency_action_point > 0}
            }
        }
        days_remove = 60
        days_re_enable = 60
        complete_effect = {
            hidden_effect = {
                add_to_variable = {STG_security_agency_action_point = -1}
            }
        }
        remove_effect = {
            set_temp_variable = {STG_national_security_temp = 5}
            STG_rev_add_security = yes
            custom_effect_tooltip = STG_return_point
            add_to_variable = {STG_security_agency_action_point = 1}
        }
        ai_will_do = {
            factor = 10
            modifier = {
                factor = 100
                STG = {check_variable = {STG_national_security < 60}}
            }
        }
    }
    #大规模肃反
    STG_massive_supress = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_both
                STG = {
                    check_variable = {STG_security_agency_action_point > 1}
                    check_variable = {STG_armed_picket_action_point > 1}
                }
            }
        }
        cost = 30
        days_remove = 40
        days_re_enable = 200
        complete_effect = {
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_security_agency_action_point = -2}
                    add_to_variable = {STG_armed_picket_action_point = -2}
                }
            }
        }
        modifier = {
            stability_weekly = -0.005
            STG_national_security_weekly_change_modifier = 0.8
        }
        remove_effect = {
            custom_effect_tooltip = STG_return_point
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_security_agency_action_point = 2}
                    add_to_variable = {STG_armed_picket_action_point = 2}
                }
            }
        }
        ai_will_do = {
            base = 0
        }
    }
    #黑帮分子破坏
    STG_gangs_are_attacking_us = {
        icon = mission_icon
        is_good = no
        available = {
            always = no
        }
        activation = {
            tag = STG
            NOT = {
                has_country_flag = STG_gang_destroyed
            }
            has_government = communism
            has_completed_focus = STG_com_22
        }
        cancel_trigger = {
            has_country_flag = STG_gang_destroyed
        }
        days_mission_timeout = 90
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            random_list = {
                60 = {
                    STG_rev_damage_security_big = yes
                }
                40 = {
                    STG_rev_damage_security_very_big = yes
                }
            }
        }
    }
    #白匪破坏
    STG_reactionist_are_attacking_us = {
        icon = mission_icon
        is_good = no
        available = {
            always = no
        }
        activation = {
            tag = STG
            NOT = {
                has_country_flag = STG_reactionist_destroyed
            }
            has_government = communism
            has_completed_focus = STG_com_22
        }
        cancel_trigger = {
            has_country_flag = STG_reactionist_destroyed
        }
        days_mission_timeout = 90
        selectable_mission = no
        complete_effect = {
        }
        timeout_effect = {
            random_list = {
                60 = {
                    STG_rev_damage_security_big = yes
                }
                40 = {
                    STG_rev_damage_security_very_big = yes
                }
            }
        }
    }
    #打击黑帮
    STG_deal_with_gang = {
        visible = {
            STG = {check_variable = {STG_deal_with_gang_counter < 2}}
        }
        cost = 20
        days_remove = 80
        remove_effect = {
            custom_effect_tooltip = STG_can_destroy_gang_via_this_decision
            if = {
                limit = {
                    STG = {check_variable = {STG_deal_with_gang_counter = 0}}
                }
                set_temp_variable = {STG_national_security_temp = 5}
                STG_rev_add_security = yes
                add_to_variable = {STG_deal_with_gang_counter = 1}
            }
            else_if = {
                limit = {
                    STG = {check_variable = {STG_deal_with_gang_counter = 1}}
                }
                set_temp_variable = {STG_national_security_temp = 7.5}
                STG_rev_add_security = yes
                add_to_variable = {STG_deal_with_gang_counter = 1}
            }
            else_if = {
                limit = {
                    STG = {check_variable = {STG_deal_with_gang_counter = 2}}
                }
                set_temp_variable = {STG_national_security_temp = 10}
                STG_rev_add_security = yes
                add_to_variable = {STG_deal_with_gang_counter = 1}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #清剿城市黑帮
    STG_destroy_gang = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_picket
                STG = {check_variable = {STG_armed_picket_action_point > 0}}
            }
        }
        visible = {
            STG = {check_variable = {STG_deal_with_gang_counter > 1}}
        }
        cost = 30
        days_remove = 30
        fire_only_once = yes
        complete_effect = {
            hidden_effect = {
                STG = {add_to_variable = {STG_armed_picket_action_point = -1}}
            }
        }
        remove_effect = {
            STG_rev_strengthen_security_very_big = yes
            custom_effect_tooltip = STG_destroy_gang_effect
            set_country_flag = STG_gang_destroyed
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #清剿北部地区白匪势力
    STG_destroy_reactionist_north = {
        visible = {
            has_completed_focus = STG_com_62
        }
        fire_only_once = yes
        cost = 10
        days_remove = 60
        remove_effect = {
            STG_rev_strengthen_security_big = yes
            set_country_flag = STG_destroy_reactionist_north_flag
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #清剿东部地区白匪势力
    STG_destroy_reactionist_east = {
        visible = {
            has_completed_focus = STG_com_62
        }
        fire_only_once = yes
        cost = 10
        days_remove = 60
        remove_effect = {
            STG_rev_strengthen_security_big = yes
            set_country_flag = STG_destroy_reactionist_east_flag
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #清剿东北地区白匪势力
    STG_destroy_reactionist_north_east = {
        visible = {
            has_completed_focus = STG_com_62
        }
        fire_only_once = yes
        cost = 10
        days_remove = 60
        remove_effect = {
            STG_rev_strengthen_security_big = yes
            set_country_flag = STG_destroy_reactionist_north_east_flag
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #清剿工作顺利结束
    STG_destroy_reactionist = {
        available = {
            has_country_flag = STG_destroy_reactionist_north_flag
            has_country_flag = STG_destroy_reactionist_east_flag
            has_country_flag = STG_destroy_reactionist_north_east_flag
        }
        visible = {
            has_completed_focus = STG_com_62
        }
        cost = 20
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            STG_rev_strengthen_security_very_big = yes
            custom_effect_tooltip = STG_destroy_reactionist_effect
            set_country_flag = STG_reactionist_destroyed
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #戒严令
    STG_rev_special_martial_law = {
        available = {
            OR = {
                has_idea = STG_rev_national_security_level_1
                has_idea = STG_rev_national_security_level_2
            }
            NOT = {
                has_idea = STG_rev_martial_law
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_both
                STG = {
                    check_variable = {STG_security_agency_action_point > 1}
                    check_variable = {STG_armed_picket_action_point > 1}
                }
            }
        }
        complete_effect = {
            hidden_effect = {
                STG = {
                    add_to_variable = {STG_security_agency_action_point = -2}
                    add_to_variable = {STG_armed_picket_action_point = -2}
                }
            }
        }
        remove_effect = {
            add_ideas = STG_rev_martial_law
        }
    }
    #解除戒严
    STG_rev_remove_special_martial_law = {
        available = {
            has_idea = STG_rev_martial_law
        }
        cost = 10
        remove_effect = {
            remove_ideas = STG_rev_martial_law
        }
    }
}
#社会主义共和国联盟
STG_syn_union = {
    #将盎格利亚纳入联盟
    STG_integrate_UNG = {
        available = {
            controls_state = 195
            controls_state = 218
            controls_state = 166
            controls_state = 182
            controls_state = 255
            controls_state = 214
        }
        visible = {
            has_completed_focus = STG_com_56
            NOT = {
                has_global_flag = ANGLIA_UNITED_FLAG
            }
        }
        cost = 100
        days_remove = 40
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_syn_union_gain_ung_core_desc
            if = {
                limit = {
                    has_government = communism
                }
                hidden_effect = {
                    drop_cosmetic_tag = yes
                }
                set_cosmetic_tag = STG_rep_of_western_eu
                
            }
            hidden_effect = {
                every_state = {
                    if = {
                        limit = {
                            OR = {
                                is_core_of = UNG
                                is_core_of = MSA
                            }
                        }
                        add_core_of = STG
                    }
                }
            }
        }
    }
    #将乌斯拉尔纳入联盟
    STG_integrate_USR = {
        available = {
            controls_state = 149
            controls_state = 155
            controls_state = 723
        }
        visible = {
            has_completed_focus = STG_com_56
        }
        cost = 100
        days_remove = 40
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = STG_syn_union_gain_usr_core_desc
            hidden_effect = {
                every_state = {
                    if = {
                        limit = {
                            OR = {
                                is_core_of = USR
                                is_core_of = KST
                                is_core_of = SCK
                                is_core_of = BGT
                            }
                        }
                        add_core_of = STG
                    }
                }
            }
        }
    }
}
#宣告昂格利亚统一
Unite_Anglia = {
    #踢翻王冠
    STG_break_the_throne = {
        available = {
            if = {
                limit = {
                    tag = STG
                }
                controls_state = 218
            }
            has_war_with = UNG
        }
        visible = {
            tag = STG
            OR = {
                has_global_flag = WAR_FOR_ANGLIA
                has_global_flag = STG_operation_long_bow
            }
            has_war_with = UNG
        }
        fire_only_once = yes
        complete_effect = {
            UNG = {
                add_stability = -0.30
                add_war_support = -0.30
            }
            add_collaboration = {
				target = UNG
				value = 0.3
			}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #STG-军事统一
    STG_unite_decision = {
        available = {
            if = {
                limit = {
                    tag = STG
                }
                controls_state = 218
            }
            OR = {
                NOT = {
                    country_exists = UNG
                    country_exists = FNG
                    country_exists = MSA
                }
            }
            if = {
                limit = {
                    country_exists = UNG
                }
                UNG = {surrender_progress > 0.79}
            }
            if = {
                limit = {
                    country_exists = FNG
                }
                FNG = {surrender_progress > 0.79}
            }
            if = {
                limit = {
                    country_exists = MSA
                }
                MSA = {surrender_progress > 0.79}
            }
        }
        visible = {
            always = no #移除
            tag = STG
            OR = {
                has_global_flag = WAR_FOR_ANGLIA
                has_global_flag = STG_operation_long_bow
            }
        }
        cost = 150
        days_remove = 3
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = ANGLIA_UNITED
            if = {
                limit = {
                    has_government = communism
                }
                hidden_effect = {
                    drop_cosmetic_tag = yes
                }
                set_cosmetic_tag = STG_rep_of_western_eu
                
            }
            hidden_effect = {
                news_event = {id = STG_news.8 days = 3}
                set_global_flag = ANGLIA_UNITED_FLAG
                if = { 
                    limit = {
                        OR = {
                            has_completed_focus = STG_true_dar_1
                            has_country_leader = {
                                character = STG_grey
                                ruling_only = yes
                            }
                        }
                    }
                    add_ideas = STG_industralist_return_1
                    remove_ideas = STG_home_of_industralist
                    remove_ideas = STG_fort_of_industralist
                    remove_ideas = STG_heaven_of_industralist
                    mark_focus_tree_layout_dirty = yes
                }
                if = {
                    limit = {
                        OR = {
                            has_completed_focus = STG_dar_1
                            has_completed_focus = STG_parliament_1
                        } 
                    }
                    add_timed_idea = {idea = STG_industralist_return_1 days = 270}
                }
                add_popularity = {
                    ideology = reactionism
                    popularity = 0.20
                }
                UNG = {
                    transfer_navy = {
                        target = STG
                    }
                }
                FNG = {
                    transfer_navy = {
                        target = STG
                    }
                }
                MSA = {
                    transfer_navy = {
                        target = STG
                    }
                }
                annex_country = {
                    target = UNG
                    transfer_troops = no
                }
                annex_country = {
                    target = FNG
                    transfer_troops = no
                }
                annex_country = {
                    target = MSA
                    transfer_troops = no
                }
                every_state = {
                    limit = {
                        OR = {
                            is_core_of = UNG
                            is_core_of = MSA
                            is_core_of = FNG
                        }                        
                    }
                    add_core_of = STG
                    remove_core_of = UNG
                    remove_core_of = MSA
                    remove_core_of = FNG
                }
                every_state = {
                    limit = {
                        region = 52
                        is_core_of = STG
                        is_owned_by = STG
                    }
                    add_dynamic_modifier = {modifier = STG_mananist_revolt_zone scope = STG}
                    add_to_array = {
                        array = STG.mana_states
                        value = THIS.id
                    }
                }
                remove_ideas = STG_war_for_ang
                if = {
                    limit = {
                        country_exists = CLD
                        CLD = {is_puppet = no}
                    }
                    set_autonomy = {
                        target = CLD
                        autonomous_state = autonomy_integrated_puppet
                    }
                }
                if = {
                    limit = {
                        country_exists = SHR
                        SHR = {is_puppet = no}
                    }
                    set_autonomy = {
                        target = SHR
                        autonomous_state = autonomy_integrated_puppet
                    }
                }
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #STG-外交统一
    STG_unite_decision_dip = {
        visible = {
            tag = STG
            #is_ai = no
            FNG = {
                is_ai = yes
                NOT = {
                    has_idea = FNG_ruined_anglia
                }
            }
            has_country_flag = STG_unite_decision_dip
        }
        cost = 200
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = ANGLIA_UNITED
            if = {
                limit = {
                    has_government = communism
                }
                hidden_effect = {
                    drop_cosmetic_tag = yes
                }
                set_cosmetic_tag = STG_rep_of_western_eu
                add_ideas = STG_aftermath_of_unification_com
            }
            else = {
                add_ideas = STG_aftermath_of_unification
            }
            hidden_effect = {
                set_global_flag = ANGLIA_UNITED_FLAG
                if = {
                    limit = {
                        has_country_flag = STG_leaders_sent_to_FNG
                    }
                    FNG = {
                        STG_Bugamvilia = {
                            set_nationality = STG
                        }
                        STG_Hawkins = {
                            set_nationality = STG
                        }
                    }
                }
                if = { 
                    limit = {
                        OR = {
                            has_completed_focus = STG_true_dar_1
                            has_country_leader = {
                                character = STG_grey
                                ruling_only = yes
                            }
                        }
                    }
                    add_ideas = STG_industralist_return_1
                    remove_ideas = STG_home_of_industralist
                    remove_ideas = STG_fort_of_industralist
                    remove_ideas = STG_heaven_of_industralist
                    mark_focus_tree_layout_dirty = yes
                }
                if = {
                    limit = {
                        242 = {is_owned_by = FNG}
                    }
                    242 = {
                        transfer_state_to = STN
                        add_core_of = STN
                    }
                }
                else_if = {
                    limit = {
                        241 = {is_owned_by = FNG}
                    }
                    241 = {
                        transfer_state_to = STN
                        add_core_of = STN
                    }
                }
                else_if = {
                    limit = {
                        257 = {is_owned_by = FNG}
                    }
                    257 = {
                        transfer_state_to = STN
                        add_core_of = STN
                    }
                }
                else_if = {
                    limit = {
                        238 = {
                            OR = {
                                is_owned_by = FNG
                                is_owned_by = STG
                            }
                        }
                    }
                    238 = {
                        transfer_state_to = STN
                        add_core_of = STN
                    }
                }
                else = {
                    FNG = {
                        transfer_navy = {
                            target = STG
                        }
                    }
                }
                FNG = {
                    transfer_navy = {
                        target = STN
                    }
                }
                annex_country = {target = FNG transfer_troops = yes}
                UNG = {
                    UNG_Sheffield = {
                        set_nationality = STN
                    }
                }
                set_autonomy = {
                    target = STN
                    autonomous_state = naval_command
                }
                STN = {
                    inherit_technology = FNG
                    add_offsite_building = {
                        type = dockyard
                        level = 2
                    }
                    if = {
                        limit = {
                            STG = {has_government = communism}
                        }
                        set_popularities = {
                            neutrality = 10
                            democratic = 10
                            communism = 80
                            fascism = 0
                            reactionism = 0
                        }
                        set_politics = {
                            ruling_party = communism
                        }
                        add_country_leader_role = {
                            character = UNG_Sheffield
                            promote_leader = yes
                            country_leader = {
                                ideology = sub_Military_socialism
                                expire = "3200.1.1.1"
                                traits = {}
                            }
                        }
                    }
                    else = {
                        set_popularities = {
                            neutrality = 90
                            democratic = 10
                            communism = 0
                            fascism = 0
                            reactionism = 0
                        }
                        set_politics = {
                            ruling_party = neutrality
                        }
                        add_country_leader_role = {
                            character = UNG_Sheffield
                            promote_leader = yes
                            country_leader = {
                                ideology = sub_Junta
                                expire = "3200.1.1.1"
                                traits = {}
                            }
                        }
                    }
                }
                every_state = {
                    limit = {
                        OR = {
                            is_core_of = UNG
                            is_core_of = MSA
                            is_core_of = FNG
                        } 
                    }
                    add_core_of = STG
                    remove_core_of = UNG
                    remove_core_of = MSA
                    remove_core_of = FNG
                }
                if = {
                    limit = {
                        country_exists = CLD
                        CLD = {is_puppet = no}
                    }
                    set_autonomy = {
                        target = CLD
                        autonomous_state = autonomy_integrated_puppet
                    }
                }
                if = {
                    limit = {
                        country_exists = SHR
                        SHR = {is_puppet = no}
                    }
                    set_autonomy = {
                        target = SHR
                        autonomous_state = autonomy_integrated_puppet
                    }
                }
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #UNG
    UNG_unite_decision = {
        available = {
            if = {
                limit = {
                    tag = UNG
                }
                controls_state = 230
            }
        }
        visible = {
            tag = UNG
            has_global_flag = WAR_FOR_ANGLIA
        }
        cost = 150
        days_remove = 70
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = ANGLIA_UNITED
            hidden_effect = {
                set_global_flag = ANGLIA_UNITED_FLAG
                230 = {
                    add_core_of = UNG
                    remove_core_of = STG
                }
                213 = {
                    add_core_of = UNG
                    remove_core_of = STG
                }
                231 = {
                    add_core_of = UNG
                    remove_core_of = STG
                }
                206 = {
                    add_core_of = UNG
                    remove_core_of = STG
                }
                718 = {
                    add_core_of = UNG
                    remove_core_of = STG
                }
                222 = {
                    add_core_of = UNG
                    remove_core_of = STG
                }
                717 = {
                    add_core_of = UNG
                    remove_core_of = STG
                }
                remove_ideas = UNG_war_for_ang
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #MSA
    MSA_unite_decision = {
        available = {
            if = {
                limit = {
                    tag = MSA
                }
                controls_state = 230
            }
        }
        visible = {
            tag = MSA
            has_global_flag = WAR_FOR_ANGLIA
        }
        cost = 150
        days_remove = 70
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = ANGLIA_UNITED
            hidden_effect = {
                set_global_flag = ANGLIA_UNITED_FLAG
                230 = {
                    add_core_of = MSA
                    remove_core_of = STG
                }
                213 = {
                    add_core_of = MSA
                    remove_core_of = STG
                }
                231 = {
                    add_core_of = MSA
                    remove_core_of = STG
                }
                206 = {
                    add_core_of = MSA
                    remove_core_of = STG
                }
                718 = {
                    add_core_of = MSA
                    remove_core_of = STG
                }
                222 = {
                    add_core_of = MSA
                    remove_core_of = STG
                }
                717 = {
                    add_core_of = MSA
                    remove_core_of = STG
                }
                remove_ideas = MSA_war_for_ang
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #FNG
    FNG_unite_decision = {
        available = {
            if = {
                limit = {
                    tag = FNG
                }
                controls_state = 230
            }
        }
        visible = {
            tag = FNG
            has_global_flag = WAR_FOR_ANGLIA
        }
        cost = 150
        days_remove = 70
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = ANGLIA_UNITED
            hidden_effect = {
                set_global_flag = ANGLIA_UNITED_FLAG
                230 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                213 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                231 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                206 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                718 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                222 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                717 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                remove_ideas = MSA_war_for_ang
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #FNG-外交统一
    FNG_unite_decision_dip = {
        available = {
            NOT = {
                has_war_with = STG
            }
            NOT = {has_idea = FNG_ruined_anglia}
            country_exists = STG
            STG = {
                has_opinion_modifier = Anglia_Reconcilation
            }
        }
        visible = {
            always = no
            tag = FNG
            STG = {
                is_ai = yes
            }
            has_global_flag = ANGLIA_RECONCLIATION_FLAG
        }
        cost = 100
        days_remove = 0
        fire_only_once = yes
        complete_effect = {
        }
        remove_effect = {
            custom_effect_tooltip = ANGLIA_UNITED
            hidden_effect = {
                set_global_flag = ANGLIA_UNITED_FLAG
                STG = {
                    transfer_navy = {
                        target = FNG
                    }
                }
                annex_country = {target = STG transfer_troops = yes}
                230 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                213 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                231 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                206 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                718 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                222 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
                717 = {
                    add_core_of = FNG
                    remove_core_of = STG
                }
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
}
#起草《里森堡宪法》
STG_darjeeling_consistution = {
    #政党组织 禁止扩员
    STG_political_party_1 = {
        visible = {
            NOT = {
                has_country_flag = STG_political_party_1
            }
            NOT = {
                has_country_flag = STG_political_party_2
            }
        }
        complete_effect = {
            set_country_flag = STG_political_party_1
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 30}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #政党组织 审核成立
    STG_political_party_2 = {
        visible = {
            NOT = {
                has_country_flag = STG_political_party_1
            }
            NOT = {
                has_country_flag = STG_political_party_2
            }
        }
        complete_effect = {
            set_country_flag = STG_political_party_2
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 15}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 15
        }
    }
    #选民注册 证件审核注册
    STG_voter_registration_1 = {
        visible = {
            NOT = {
                has_country_flag = STG_voter_registration_1
            }
            NOT = {
                has_country_flag = STG_voter_registration_2
            }
            NOT = {
                has_country_flag = STG_voter_registration_3
            }
        }
        complete_effect = {
            set_country_flag = STG_voter_registration_1
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 20}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #选民注册 提前注册
    STG_voter_registration_2 = {
        visible = {
            NOT = {
                has_country_flag = STG_voter_registration_1
            }
            NOT = {
                has_country_flag = STG_voter_registration_2
            }
            NOT = {
                has_country_flag = STG_voter_registration_3
            }
        }
        complete_effect = {
            set_country_flag = STG_voter_registration_2
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 10}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #选民注册 自由注册
    STG_voter_registration_3 = {
        visible = {
            NOT = {
                has_country_flag = STG_voter_registration_1
            }
            NOT = {
                has_country_flag = STG_voter_registration_2
            }
            NOT = {
                has_country_flag = STG_voter_registration_3
            }
        }
        complete_effect = {
            set_country_flag = STG_voter_registration_3
            hidden_effect = {
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #工会组织：非法
    STG_labor_organization_1 = {
        visible = {
            NOT = {
                has_country_flag = STG_labor_organization_1
            }
            NOT = {
                has_country_flag = STG_labor_organization_2
            }
            NOT = {
                has_country_flag = STG_labor_organization_3
            }
        }
        complete_effect = {
            set_country_flag = STG_labor_organization_1
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 30}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #工会组织：审核成立
    STG_labor_organization_2 = {
        visible = {
            NOT = {
                has_country_flag = STG_labor_organization_1
            }
            NOT = {
                has_country_flag = STG_labor_organization_2
            }
            NOT = {
                has_country_flag = STG_labor_organization_3
            }
        }
        complete_effect = {
            set_country_flag = STG_labor_organization_2
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 15}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #工会组织：自由成立
    STG_labor_organization_3 = {
        visible = {
            NOT = {
                has_country_flag = STG_labor_organization_1
            }
            NOT = {
                has_country_flag = STG_labor_organization_2
            }
            NOT = {
                has_country_flag = STG_labor_organization_3
            }
        }
        complete_effect = {
            set_country_flag = STG_labor_organization_3
            hidden_effect = {
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #劳动者权利：无视
    STG_labor_rights_1 = {
        visible = {
            NOT = {
                has_country_flag = STG_labor_rights_1
            }
            NOT = {
                has_country_flag = STG_labor_rights_2
            }
            NOT = {
                has_country_flag = STG_labor_rights_3
            }
        }
        complete_effect = {
            set_country_flag = STG_labor_rights_1
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 30}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #劳动者权利：偏向资方
    STG_labor_rights_2 = {
        visible = {
            NOT = {
                has_country_flag = STG_labor_rights_1
            }
            NOT = {
                has_country_flag = STG_labor_rights_2
            }
            NOT = {
                has_country_flag = STG_labor_rights_3
            }
        }
        complete_effect = {
            set_country_flag = STG_labor_rights_2
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 10}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #劳动者权利：偏向劳动者
    STG_labor_rights_3 = {
        visible = {
            NOT = {
                has_country_flag = STG_labor_rights_1
            }
            NOT = {
                has_country_flag = STG_labor_rights_2
            }
            NOT = {
                has_country_flag = STG_labor_rights_3
            }
        }
        complete_effect = {
            set_country_flag = STG_labor_rights_3
            hidden_effect = {
                add_to_variable = {STG_conservative_var = -10}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #出版权：仅限官媒
    STG_publication_1 = {
        visible = {
            NOT = {
                has_country_flag = STG_publication_1 
            }
            NOT = {
                has_country_flag = STG_publication_2
            }
        }
        complete_effect = {
            set_country_flag = STG_publication_1 
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 20}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #出版权：审核出版
    STG_publication_2 = {
        visible = {
            NOT = {
                has_country_flag = STG_publication_1 
            }
            NOT = {
                has_country_flag = STG_publication_2
            }
        }
        complete_effect = {
            set_country_flag = STG_publication_2 
            hidden_effect = {
                add_to_variable = {STG_conservative_var = 10}
                add_to_variable = {STG_darjeeling_consistution_var = 1}
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #重置选项
    STG_restrart = {
        visible = {
            NOT = {
                has_country_flag = STG_darjeeling_new_consistution_passed
            }
        }
        complete_effect = {
            clr_country_flag = STG_political_party_1
            clr_country_flag = STG_political_party_2
            clr_country_flag = STG_voter_registration_1
            clr_country_flag = STG_voter_registration_2
            clr_country_flag = STG_voter_registration_3
            clr_country_flag = STG_labor_organization_1
            clr_country_flag = STG_labor_organization_2
            clr_country_flag = STG_labor_organization_3
            clr_country_flag = STG_labor_rights_1
            clr_country_flag = STG_labor_rights_2
            clr_country_flag = STG_labor_rights_3
            clr_country_flag = STG_publication_1
            clr_country_flag = STG_publication_2
            set_variable = {STG_darjeeling_consistution_var = 0}
            set_variable = {STG_conservative_var = 0}
        }
    }
    #里森堡宪法
    STG_darjeeling_new_consistution = {
        visible = {
            check_variable = {STG_darjeeling_consistution_var > 4}
        }
        cost = 25
        days_remove = 7
        cancel_trigger = {
            hidden_trigger = {
                NOT = {check_variable = {STG_darjeeling_consistution_var > 4}}
            }
        }
        fire_only_once = yes
        remove_effect = {
            set_country_flag = STG_darjeeling_new_consistution_passed

            add_ideas = STG_guided_democracy
            
            set_country_flag = STG_disable_unrest_flag
            set_party_name = {ideology = neutrality long_name = STG_neutrality_party_dar_2_long name = STG_neutrality_party_dar_2 }
            set_party_name = {ideology = democratic long_name = STG_neutrality_party_dar_2_long name = STG_neutrality_party_dar_2 }
            if = {
                limit = {
                    NOT = {
                        has_country_flag = STG_labor_organization_1
                        has_country_flag = STG_labor_rights_1
                    }
                    check_variable = {STG_conservative_var < 80}
                }
                add_popularity = {
                    ideology = communism
                    popularity = 0.05
                }
            }
            if = {
                limit = {
                    has_country_flag = STG_labor_rights_3
                    
                }
                if = {
                    limit = {
                        has_idea = STG_econ_crisis
                    }
                    modify_timed_idea = {
                        idea = STG_econ_crisis
                        days = -70
                    }
                }
                else = {
                    add_war_support = 0.05
                }
            }
            if = {
                limit = {
                    has_country_flag = STG_political_party_1
                }
                add_stability = 0.05
            }
            if = {
                limit = {
                    has_country_flag = STG_publication_1
                }
                STG_reduce_cam_unrest = yes
                STG_reduce_usr_unrest = yes
            }
            if = {
                limit = {
                    OR = {
                        has_country_flag = STG_labor_organization_1
                        has_country_flag = STG_labor_rights_1
                    }
                    check_variable = {STG_conservative_var > 80}
                }
                custom_effect_tooltip = STG_angry_left_tt
                set_country_flag = STG_angry_left
            }
            if = {
                limit = {
                    OR = {
                        has_country_flag = STG_labor_organization_3
                        has_country_flag = STG_labor_rights_3
                    }
                    check_variable = {STG_conservative_var < 30}
                }
                custom_effect_tooltip = STG_angry_right_tt
                set_country_flag = STG_angry_right
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
}
STG_lord_ptorector_decisions = {

}
#红茶与甜点的国度
STG_tea_and_cake = {
    #隐藏饮茶决议
    STG_hide_tea_decisions = {
        visible = {
            has_country_flag = STG_show_tea_decisions_flag
        }
        complete_effect = {
            clr_country_flag = STG_show_tea_decisions_flag
        }
    }
    #显示饮茶决议
    STG_show_tea_decisions = {
        visible = {
            NOT = {
                has_country_flag = STG_show_tea_decisions_flag
            }
        }
        complete_effect = {
            set_country_flag = STG_show_tea_decisions_flag
        }
    }
    #来一杯大吉岭红茶
    STG_tea_darjeeling = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            political_power_gain = 0.4
            political_power_factor = 0.1
            neutrality_drift = 0.01
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    #来一杯格雷伯爵茶
    STG_tea_earl_grey = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            stability_weekly = 0.005
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    #来一杯阿萨姆红茶
    STG_tea_assam = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            war_support_weekly = 0.005
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    #来一杯橙黄白毫茶
    STG_tea_orange_pekoe = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            experience_gain_army = 0.3
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    #来一杯蔷薇果茶
    STG_tea_rosehip = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            experience_gain_navy = 0.3
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    #来一杯鲁克莉莉茶
    STG_tea_rukuriri = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            experience_gain_air = 0.3
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    #来一杯罗西亚红茶
    STG_tea_rossiya = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_completed_focus = STG_true_dar_12
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            supply_consumption_factor = -0.25
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    
    #来一杯赛莲斯红茶
    STG_tea_srs = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_tea
            }
        }
        visible = {
            has_completed_focus = STG_true_dar_13
            has_country_flag = STG_show_tea_decisions_flag
        }
        cost = var:STG_tea_cost
        days_remove = var:STG_tea_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_tea
        }
        modifier = {
            consumer_goods_factor = -0.50
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_tea
        }
    }
    #隐藏茶点决议
    STG_hide_cake_decisions = {
        visible = {
            has_country_flag = STG_show_cake_decisions_flag
        }
        complete_effect = {
            clr_country_flag = STG_show_cake_decisions_flag
        }
    }
    #显示茶点决议
    STG_show_cake_decisions = {
        visible = {
            NOT = {
                has_country_flag = STG_show_cake_decisions_flag
            }
        }
        complete_effect = {
            set_country_flag = STG_show_cake_decisions_flag
        }
    }
    #享用司康饼
    STG_scones = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            research_speed_factor = 0.15
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用三明治
    STG_sandwich = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            reactionism_drift = -0.03
            fascism_drift = -0.03
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用曲奇
    STG_cookie = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            production_speed_buildings_factor = 0.20
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用起司蛋糕
    STG_cheese_cake = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            production_factory_efficiency_gain_factor = 0.33
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用巧克力蛋糕
    STG_chocolate_cake = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            political_power_factor = 0.25
            political_power_gain = 0.2
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用草莓蛋糕
    STG_strawberry_cake = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_completed_focus = STG_true_dar_15
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            army_defence_factor = 0.10
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用蓝莓蛋糕
    STG_blueberry_cake = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_completed_focus = STG_true_dar_15
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            army_attack_factor = 0.10
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用可颂面包
    STG_croissant = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_completed_focus = STG_true_dar_15
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            breakthrough_factor = 0.10
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用马卡龙
    STG_macaron = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_completed_focus = STG_true_dar_15
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            army_speed_factor = 0.10
        }
        remove_effect = {
            clr_country_flag = STG_is_enjoying_cake
        }
    }
    #享用黑森林蛋糕
    STG_schwarzwder = {
        available = {
            NOT = {
                has_country_flag = STG_is_enjoying_cake
            }
        }
        visible = {
            has_completed_focus = STG_true_dar_15
            has_country_flag = STG_show_cake_decisions_flag
        }
        cost = var:STG_cake_cost
        days_remove = var:STG_cake_time
        days_re_enable = 30
        complete_effect = {
            set_country_flag = STG_is_enjoying_cake
        }
        modifier = {
            fascism_drift = -0.04
            stability_factor = 0.1
        }
        remove_effect = {
            STG_reduce_usr_unrest = yes
            clr_country_flag = STG_is_enjoying_cake
        }
    }
}
#爱里寿的衣柜
STG_arisu_cloth = {
    STG_arisu_cloth_1 = {
        visible = {
            NOT = {
                has_country_flag = STG_arisu_cloth_1
            }
        }
        complete_effect = {
            set_country_flag = STG_arisu_cloth_1
            clr_country_flag = STG_arisu_cloth_2
            hidden_effect = {
                set_country_leader_portrait = {
                    portrait = GFX_STG_shimada_arisu
                }
            }
        }
    }
    STG_arisu_cloth_2 = {
        visible = {
            NOT = {
                has_country_flag = STG_arisu_cloth_2
            }
        }
        complete_effect = {
            set_country_flag = STG_arisu_cloth_2
            clr_country_flag = STG_arisu_cloth_1
            hidden_effect = {
                set_country_leader_portrait = {
                    portrait = GFX_STG_shimada_arisu_2
                }
            }
        }
    }
}
#我们的新都
STG_capital = {
    #新蒙巴萨
    STG_stay = {
        visible = {
            NOT = {
                has_country_flag = STG_new_capital_selected
            }
        }
        complete_effect = {
            add_stability = 0.05
            set_country_flag = STG_new_capital_selected
        }
    }
    #弗格菲尔德
    STG_capital_1 = {
        visible = {
            NOT = {
                has_country_flag = STG_new_capital_selected
            }
        }
        complete_effect = {
            add_political_power = 100
            set_capital = {state = 222}
            set_country_flag = STG_new_capital_selected
        }
    }
    #卡美洛
    STG_capital_2 = {
        visible = {
            NOT = {
                has_country_flag = STG_new_capital_selected
            }
        }
        complete_effect = {
            add_stability = -0.05
            add_political_power = 200
            set_capital = {state = 218}
            add_popularity = {
                ideology = fascism
                popularity = 0.10
            }
            set_country_flag = STG_new_capital_selected
        }
    }
    STG_capital_3 = {
        visible = {
            NOT = {
                has_country_flag = STG_new_capital_selected
            }
        }
        complete_effect = {
            set_capital = {state = 182}
            add_political_power = 100
            add_popularity = {
                ideology = reactionism
                popularity = 0.10
            }
            set_country_flag = STG_new_capital_selected
        }
    }
}
STG_UNG_civ_war_reaction = {
    #空输出动
    STG_send_witches = {
        available = {
            NOT = {
                has_war_with = FNG
            }
            country_exists = FNG
            FNG = {
                OR = {
                    has_war_with = UNG
                    has_war_with = MSA
                }
            }
        }
        visible = {
            country_exists = FNG
            has_completed_focus = STG_UNG_civ_war_reaction_4
        }
        days_remove = 30
        fire_only_once = yes
        remove_effect = {
            add_political_power = -50
            add_command_power = -50
            FNG = {
                set_technology = {striker_units_tech = 1}
                division_template = {
                    name = "里森堡机械化航空步兵特遣队"
                    is_locked = yes
                    priority = 2
                    regiments = {
                        Witches_Camp = { x = 0 y = 0 }
                        Witches_Camp = { x = 0 y = 1 }
                        Witches_Camp = { x = 0 y = 2 }
                    }
                    support = {
                        Witches = {x = 0 y = 0}
                    }
                }
                capital_scope = {
                    create_unit = {
                        division = "name = \"里森堡机械化航空步兵特遣队\" division_template = \"里森堡机械化航空步兵特遣队\" start_experience_factor = 0.75"
                        owner = FNG
                    }
                }
            }
        }
        ai_will_do = {
            base = 1000
        }
    }
    STG_start_a_new_attack = {
        available = {
            NOT = {
                has_war_with = FNG
            }
            country_exists = FNG
            FNG = {
                OR = {
                    has_war_with = UNG
                    has_war_with = MSA
                }
                NOT = {has_idea = STG_a_new_attack}
            }
        }
        visible = {
            country_exists = FNG
            has_completed_focus = STG_UNG_civ_war_reaction_4
        }
        days_remove = 60
        remove_effect = {
            add_political_power = -50
            add_command_power = -50
            FNG = {
                add_timed_idea = {idea = STG_a_new_attack days = 30}
            }
        }
        ai_will_do = {
            base = 0
            modifier = {
                add = 1000
                NOT = {country_exists = UNG}
            }
        }
    }
    #把所有能动的东西都送过去
    STG_SEND_EVERYTHING_WE_HAVE = {
        available = {
            NOT = {
                has_war_with = FNG
            }
            country_exists = FNG
            FNG = {
                OR = {
                    has_war_with = UNG
                    has_war_with = MSA
                }
            }
        }
        visible = {
            country_exists = FNG
            has_completed_focus = STG_UNG_civ_war_reaction_4
        }
        fire_only_once = yes
        days_remove = 14
        remove_effect = {
            custom_effect_tooltip = STG_VERY_HIGH_PRICE_DESC
            set_country_flag = STG_sent_everything_to_FNG
            add_political_power = -100
            FNG = {
                add_manpower = 25000
                add_equipment_to_stockpile = {
                    type = infantry_equipment
                    amount = 5000
                    producer = STG
                }
            }
            swap_ideas = {
                remove_idea = STG_support_FNG_2
                add_idea = STG_support_FNG_3
            }
            if = {
                limit = {
                    is_ai = yes
                }
                FNG = {
                    division_template = {
                        name = "里森堡志愿旅"
                        regiments = {
                            infantry = {x = 0 y = 0}
                            infantry = {x = 0 y = 1}
                            infantry = {x = 0 y = 2}
                            infantry = {x = 1 y = 0}
                            infantry = {x = 1 y = 1}
                            infantry = {x = 1 y = 2}
                            artillery_brigade = {x = 2 y = 0}
                            artillery_brigade = {x = 2 y = 1}
                        }
                        support = {
                            engineer = {x = 0 y = 0}
                        }
                    }
                    capital_scope = {
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                        create_unit = {
                            division = "name = \"里森堡志愿旅\" division_template = \"里森堡志愿旅\" start_experience_factor = 0.3"
                            owner = FNG
                        }
                    }
                }
            }
        }
        ai_will_do = {
            base = 0
            modifier = {
                add = 1000
                NOT = {country_exists = UNG}
            }
        }
    }
    STG_send_infantry_equipment = {
        available = {
            NOT = {
                has_war_with = FNG
            }
            country_exists = FNG
            FNG = {
                OR = {
                    has_war_with = UNG
                    has_war_with = MSA
                }
            }
        }
        visible = {
            country_exists = FNG
            has_completed_focus = STG_UNG_civ_war_reaction_2
        }
        cost = 20
        days_remove = 30
        remove_effect = {
            FNG = {
                add_equipment_to_stockpile = {
                    type = infantry_equipment
                    amount = 2000
                    producer = STG
                }
            }
        }
        ai_will_do = {
            base = 1000
        }
    }
    STG_send_artillery_equipment = {
        available = {
            NOT = {
                has_war_with = FNG
            }
            country_exists = FNG
            FNG = {
                OR = {
                    has_war_with = UNG
                    has_war_with = MSA
                }
            }
        }
        visible = {
            country_exists = FNG
            has_completed_focus = STG_UNG_civ_war_reaction_2
        }
        cost = 30
        days_remove = 30
        remove_effect = {
            FNG = {
                add_equipment_to_stockpile = {
                    type = artillery_equipment
                    amount = 100
                    producer = STG
                }
            }
        }
        ai_will_do = {
            base = 1000
        }
    }
    STG_send_air_force = {
        available = {
            command_power > 19
            NOT = {
                has_war_with = FNG
            }
            country_exists = FNG
            FNG = {
                OR = {
                    has_war_with = UNG
                    has_war_with = MSA
                }
            }
            if = {
                limit = {
                    country_exists = UNG
                }
                UNG = {
                    NOT = {
                        has_idea = STG_air_strike
                    }
                }
            }
            if = {
                limit = {
                    country_exists = MSA
                }
                MSA = {
                    NOT = {
                        has_idea = STG_air_strike
                    }
                }
            }
        }
        visible = {
            country_exists = FNG
            has_completed_focus = STG_UNG_civ_war_reaction_2
        }
        days_remove = 7
        complete_effect = {
            add_command_power = -20
        }
        remove_effect = {
            if = {
                limit = {
                    country_exists = UNG
                }
                UNG = {add_timed_idea = {idea = STG_air_strike days = 45}}
            }
            if = {
                limit = {
                    country_exists = MSA
                }
                MSA = {add_timed_idea = {idea = STG_air_strike days = 45}}
            }
        }
        ai_will_do = {
            base = 1000
        }
    }
    STG_send_navy = {
        available = {
            command_power > 19
            NOT = {
                has_war_with = FNG
            }
            country_exists = FNG
            FNG = {
                OR = {
                    has_war_with = UNG
                    has_war_with = MSA
                }
            }
            any_state = {
                is_coastal = yes
                is_controlled_by = FNG
                is_core_of = FNG
                NOT = {
                    has_dynamic_modifier = {
                        modifier = STG_naval_support
                        scope = FNG
                    }
                }
            }
        }
        visible = {
            country_exists = FNG
            has_completed_focus = STG_UNG_civ_war_reaction_2
        }
        days_remove = 7
        complete_effect = {
            add_command_power = -20
        }
        remove_effect = {
            every_state = {
                limit = {
                    is_controlled_by = FNG
                    is_coastal = yes
                    is_core_of = FNG
                }
                add_dynamic_modifier = {modifier = STG_naval_support scope = FNG days = 60}
            }
        }
        ai_will_do = {
            base = 1000
        }
    }
    STG_operation_long_bow = {
        available = {
            country_exists = MSA
            NOT = {
                has_war_with = MSA
            }
        }
        visible = {
            has_completed_focus = STG_UNG_civ_war_reaction_8
        }
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            declare_war_on = {
                target = MSA
                type = annex_everything
            }
            add_ideas = STG_liberate_anglia
            set_global_flag = STG_operation_long_bow
            182 = {
                transfer_state_to = STG
            }
            166 = {
                transfer_state_to = STG
            }
            147 = {
                transfer_state_to = STG
            }
            hidden_effect = {
                division_template = {
                    name = "Militia"
                    priority = 0
                    regiments = {
                        infantry = { x = 0 y = 0 }
                        infantry = { x = 0 y = 1 }
                        infantry = { x = 0 y = 2 }
                        infantry = { x = 1 y = 0 }
                        infantry = { x = 1 y = 1 }
                        infantry = { x = 1 y = 2 }
                    }
                }
                182 = {
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                }
                166 = {
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                }
                147 = {
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                    create_unit = {
                        division = "name = \"Militia\" division_template = \"Militia\" start_experience_factor = 0.3"
                        owner = STG
                    }
                }
                news_event = {id = STG_news.10 days = 3}
                MSA = {
                    add_ideas = MSA_war_for_ang
                }
            }
        }
        ai_will_do = {
            factor = 1000
            modifier = {
                factor = 0
                has_war = yes
            }
        }
    }
}
STG_join_USR = {
    STG_join_USR_faction = {
        available = {
            NOT = {
                is_in_faction_with = USR
                has_war_with = USR
                has_country_leader = {
                    character = STG_ilya
                    ruling_only = yes
                }
                has_idea = STG_neurtrality_act
            }
            USR = {
                is_faction_leader = yes
                OR = {
                    has_country_leader = {
                        character = USR_Maho
                        ruling_only = yes
                    }
                    has_country_leader = {
                        character = USR_Nishizumis
                        ruling_only = yes
                    }
                }
            }
            OR = {
                has_defensive_war_with = UNG
                has_defensive_war_with = FNG
                has_defensive_war_with = MSA
            }
        }
        visible = {
            NOT = {
                is_in_faction_with = USR
                has_war_with = USR
            }
        }
        fire_only_once = yes
        complete_effect = {
            USR = {
                country_event = {id = STG_dip.7}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_request_our_land = {
        available ={
            any_state = {
                is_core_of = UNG
                owner = {
                    NOT = {tag = STG}
                    is_in_faction_with = STG
                }
            }
        }
        visible = {
            any_state = {
                is_core_of = UNG
                owner = {
                    NOT = {tag = STG}
                    is_in_faction_with = STG
                }
            }
        }
        complete_effect = {
            every_state = {
                limit = {
                    is_core_of = UNG
                    owner = {
                        NOT = {tag = STG}
                        is_in_faction_with = STG
                    }
                }
                transfer_state_to = STG
            }
        }
        ai_will_do = {
            base = 1000
        }
    }
}
STG_debt_crisis = {
    ELN_our_money_back = {
        available = {
            NOT = {
                has_war_with = STG
            }
            country_exists = STG
            STG = {
                has_government = communism
                NOT = {
                    has_idea = STG_time_of_transition
                    has_idea = STG_turbulence
                }
            }
        }
        cost = 30
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            country_event = {id = STG_rev.87}
        }
        ai_will_do = {
            factor = 1000
        }
    }
}
#大建出奇迹
STG_shipbuilding = {
    #五月起义号
    STG_BB_Red_May = {
        cost = 40
        fire_only_once = yes
        complete_effect = {
            navy_experience = -20
            if = {
                limit = {
                    has_government = communism
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_heavy_1
                        creator = "STG" 
                        version_name = "五月起义级"
                    }
                    name = "SGN 五月起义"
                    requested_factories = 1
                    progress = 0.85
                    amount = 1
                }
            }
            else = {
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_heavy_1
                        creator = "STG" 
                        version_name = "加里波莉级"
                    }
                    name = "SGN 加里波莉"
                    requested_factories = 1
                    progress = 0.85
                    amount = 1
                }
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #联合号
    STG_BB_Union = {
        cost = 40
        fire_only_once = yes
        visible = {
            NOT = {has_country_flag = STG_convert_Union_to_cv}
        }
        available = {
            NOT = {has_country_flag = STG_convert_Union_to_cv}
        }
        complete_effect = {
            navy_experience = -20
            set_country_flag = STG_continue_to_build_Union
            if = {
                limit = {
                    has_government = communism
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_heavy_1
                        creator = "STG" 
                        version_name = "五月起义级"
                    }
                    name = "SGN 联合"
                    requested_factories = 1
                    progress = 0.65
                    amount = 1
                }
            }
            else = {
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_heavy_1
                        creator = "STG" 
                        version_name = "加里波莉级"
                    }
                    name = "SGN 联合"
                    requested_factories = 1
                    progress = 0.65
                    amount = 1
                }
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #将联合号改为航母
    STG_CV_Union = {
        cost = 40
        fire_only_once = yes
        visible = {
            NOT = {has_country_flag = STG_continue_to_build_Union}
        }
        available = {
            NOT = {has_country_flag = STG_continue_to_build_Union}
        }
        complete_effect = {
            navy_experience = -20
            set_country_flag = STG_convert_Union_to_cv
            create_equipment_variant = {
                name = "联合级"
                type = ship_hull_carrier_1
                modules = {
                    fixed_ship_deck_slot_1 = ship_deck_space
                    fixed_ship_deck_slot_2 = ship_deck_space
                    fixed_ship_anti_air_slot = ship_anti_air_1
                    fixed_ship_radar_slot = empty
                    fixed_ship_engine_slot = carrier_ship_engine_2
                    fixed_ship_secondaries_slot = ship_secondaries_2
                    front_1_custom_slot = ship_deck_space
                }
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_carrier_1
                    creator = "STG" 
                    version_name = "联合级"
                }
                name = "SGN 联合"
                requested_factories = 1
                progress = 0.65
                amount = 1
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #巡洋
    STG_CL_1 = {
        cost = 20
        fire_only_once = yes
        complete_effect = {
            navy_experience = -10
            if = {
                limit = {
                    has_government = communism
                }
                
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "焰火级"
                    }
                    name = "SGN 焰火"
                    requested_factories = 1
                    progress = 0.8
                    amount = 1
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "焰火级"
                    }
                    name = "SGN 烛火"
                    requested_factories = 1
                    progress = 0.8
                    amount = 1
                }
            }
            else = {
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "剑鞘级"
                    }
                    name = "SGN 焰火"
                    requested_factories = 1
                    progress = 0.8
                    amount = 1
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "剑鞘级"
                    }
                    name = "SGN 烛火"
                    requested_factories = 1
                    progress = 0.8
                    amount = 1
                }
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #巡洋
    STG_CL_2 = {
        cost = 20
        fire_only_once = yes
        complete_effect = {
            navy_experience = -10
            if = {
                limit = {
                    has_government = communism
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "焰火级"
                    }
                    name = "SGN 逆火"
                    requested_factories = 1
                    progress = 0.7
                    amount = 1
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "焰火级"
                    }
                    name = "SGN 灯火"
                    requested_factories = 1
                    progress = 0.7
                    amount = 1
                }
            }
            else = {
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "剑鞘级"
                    }
                    name = "SGN 焰火"
                    requested_factories = 1
                    progress = 0.7
                    amount = 1
                }
                add_equipment_production = {
                    equipment = {
                        type = ship_hull_cruiser_2
                        creator = "STG" 
                        version_name = "剑鞘级"
                    }
                    name = "SGN 烛火"
                    requested_factories = 1
                    progress = 0.7
                    amount = 1
                }
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #驱逐
    STG_DD_1 = {
        cost = 20
        fire_only_once = yes
        complete_effect = {
            navy_experience = -10
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.7
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.7
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.7
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.7
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.7
                amount = 1
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #驱逐
    STG_DD_2 = {
        cost = 20
        fire_only_once = yes
        complete_effect = {
            navy_experience = -10
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.5
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.5
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.5
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.5
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.5
                amount = 1
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    #驱逐
    STG_DD_3 = {
        cost = 20
        fire_only_once = yes
        complete_effect = {
            navy_experience = -10
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.4
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.4
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.4
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.4
                amount = 1
            }
            add_equipment_production = {
                equipment = {
                    type = ship_hull_light_2
                    creator = "STG" 
                    version_name = "机动级"
                }
                requested_factories = 1
                progress = 0.4
                amount = 1
            }
            add_to_variable = {STG.STG_shipbuilding_var = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_complete_plan = {
        available = {
            hidden_trigger = {
                check_variable = {STG.STG_shipbuilding_var > 6}
            }
        }
        fire_only_once = yes
        complete_effect = {
            navy_experience = 100
        }
        ai_will_do = {
            factor = 1000
        }
    }
}
STG_landing_plan = {
    STG_army_training = {
        cost = 15
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            army_experience = 20
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_naval_training = {
        cost = 15
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            navy_experience = 20
            STG_add_landing_plan_5 = yes
            set_country_flag = STG_naval_training
            custom_effect_tooltip = STG_unlock_strait_drill
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_air_force_training = {
        cost = 15
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            air_experience = 20
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_train_armored_marine = {
        cost = 25
        fire_only_once = yes
        days_remove = 90
        remove_effect = {
            capital_scope = {
                create_unit = {
                    division = "name = \"两栖装甲师\" division_template = \"两栖装甲师\" start_experience_factor = 0.50"
                    owner = STG
                }
            }
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_landing_drill = {
        cost = 20
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            STG_add_landing_plan_10 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_amphibious_tank_production = {
        cost = 30
        fire_only_once = yes
        days_remove = 90
        remove_effect = {
            add_equipment_to_stockpile = {
                type = medium_tank_amphibious_chassis_1
                amount = 100
            }
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_supply_equipment_production = {
        cost = 20
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            add_equipment_to_stockpile = {
                type = support_equipment_1
                amount = 200
            }
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_send_agents = {
        cost = 30
        fire_only_once = yes
        days_remove = 60
        remove_effect = {
            STG_add_landing_plan_5 = yes
            set_country_flag = STG_send_agents
            custom_effect_tooltip = STG_unlock_contact_UNG_cooperator
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_contact_UNG_cooperator = {
        visible = {
            has_country_flag = STG_send_agents
        }
        cost = 45
        fire_only_once = yes
        days_remove = 60
        remove_effect = {
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_secret_act = {
        visible = {
            has_country_flag = STG_send_agents
        }
        cost = 30
        fire_only_once = yes
        days_remove = 60
        remove_effect = {
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_contact_FNG_warrior = {
        visible = {
            has_country_flag = STG_send_agents
        }
        cost = 30
        fire_only_once = yes
        days_remove = 60
        remove_effect = {
            STG_add_landing_plan_5 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_make_a_plan = {
        cost = 30
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            STG_add_landing_plan_10 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_hide_our_intention = {
        cost = 30
        fire_only_once = yes
        days_remove = 10
        remove_effect = {
            STG_add_landing_plan_10 = yes
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_strait_drill = {
        visible = {
            has_country_flag = STG_naval_training
        }
        cost = 50
        fire_only_once = yes
        days_remove = 30
        remove_effect = {
            STG_add_landing_plan_15 = yes
            country_event = {id = STG_general.21 days = 3}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_complete_landing_plan = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_100_plan
                check_variable = {STG.STG_landing_plan > 99}
            }
        }
        complete_effect = {
            set_country_flag = STG_complete_landing_plan_flag
            custom_effect_tooltip = STG_unlock_cross_the_strait_focus
        }
        ai_will_do = {
            factor = 1000
        }
    }
}
STG_cross_the_strait = {
    STG_send_naval_support = {
        available = {
            NOT = {
                controls_state = 238
                controls_state = 166
                controls_state = 182
            }
        }
        cost = 30
        days_remove = 30
        complete_effect = {
            238 = {
                add_dynamic_modifier = {modifier = STG_naval_support_2 scope = UNG}
            }
            166 = {
                add_dynamic_modifier = {modifier = STG_naval_support_2 scope = UNG}
            }
            182 = {
                add_dynamic_modifier = {modifier = STG_naval_support_2 scope = UNG}
            }
        }
        remove_effect = {
            238 = {
                remove_dynamic_modifier = {modifier = STG_naval_support_2 scope = UNG}
            }
            166 = {
                remove_dynamic_modifier = {modifier = STG_naval_support_2 scope = UNG}
            }
            182 = {
                remove_dynamic_modifier = {modifier = STG_naval_support_2 scope = UNG}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_fight_with_FNG_182 = {
        cost = 30
        fire_only_once = yes
        complete_effect = {
            182 = {
                add_dynamic_modifier = {modifier =FNG_attack scope = UNG days = 60}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_fight_with_FNG_166 = {
        cost = 30
        fire_only_once = yes
        complete_effect = {
            166 = {
                add_dynamic_modifier = {modifier =FNG_attack scope = UNG days = 60}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_attack_the_inner_land = {
        cost = 10
        fire_only_once = yes
        complete_effect = {
            UNG = {
                add_timed_idea = {
                    idea = STG_massive_attack
                    days = 90
                }
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_throw_a_smoke_shell = {
        visible = {
            check_variable = {STG.STG_smoke_counter < 3}
        }
        cost = 20
        days_re_enable = 10
        days_re_enable = 90
        remove_effect = {
            country_event = {id = STG_general.25 days = 1}
            add_to_variable = {STG.STG_smoke_counter = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_mobalise_UNG_oppositor = {
        cost = 50
        fire_only_once = yes
        complete_effect = {
            UNG = {
                add_timed_idea = {
                    idea = STG_mobalise_UNG_oppositor_idea
                    days = 180
                }
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
}
#国有化改造
STG_nationalization_decisions = {
    STG_nationalize_armor_org = {
        cost = 30
        fire_only_once = yes
        days_remove = 90
        remove_effect = {
            set_country_flag = STG_armor_organization_nationalized
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.02
                tooltip_side = STG_road_to_socialism_left_side
            }
            add_to_variable = {STG.STG_nationalization_counter = 1}
        }
        ai_will_do = {
            factor = 10
        }
    }
    STG_nationalize_Arsenal_of_New_Alexander = {
        cost = 30
        fire_only_once = yes
        days_remove = 90
        remove_effect = {
            set_country_flag = STG_Arsenal_of_New_Alexander_nationalized
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.02
                tooltip_side = STG_road_to_socialism_left_side
            }
            add_to_variable = {STG.STG_nationalization_counter = 1}
        }
        ai_will_do = {
            factor = 10
        }
    }
    STG_nationalize_Reisenburg_Military_Group = {
        cost = 30
        fire_only_once = yes
        days_remove = 90
        remove_effect = {
            set_country_flag = STG_Reisenburg_Military_Group_nationalized
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.02
                tooltip_side = STG_road_to_socialism_left_side
            }
            add_to_variable = {STG.STG_nationalization_counter = 1}
        }
        ai_will_do = {
            factor = 10
        }
    }
    STG_nationalize_key_companies = {
        cost = 30
        fire_only_once = yes
        days_remove = 90
        remove_effect = {
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.02
                tooltip_side = STG_road_to_socialism_left_side
            }
            add_to_variable = {STG.STG_nationalization_counter = 1}
        }
        ai_will_do = {
            factor = 10
        }
    }
    STG_end_nationalization = {
        available = {
            hidden_trigger = {
                check_variable = {STG.STG_nationalization_counter > 3}
            }
        }
        fire_only_once = yes
        complete_effect = {
            add_political_power = 100
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.03
                tooltip_side = STG_road_to_socialism_left_side
            }
            add_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_1
            }
        }
    }
}
STG_rev_bop_decisions = {
    #党内审查
    STG_rev_party_investigation = {
        visible = {has_completed_focus = STG_com_34}
        cost = 40
        days_remove = 60
        days_re_enable = 100
        complete_effect = {
            add_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_2
            }
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.01
                tooltip_side = STG_road_to_socialism_left_side
            }
            remove_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_2
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #剔除政府内堕落分子
    STG_rev_gov_investigation = {
        visible = {has_completed_focus = STG_com_34}
        cost = 35
        days_remove = 60
        days_re_enable = 200
        complete_effect = {
            add_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_3
            }
        }
        remove_effect = {
            add_political_power = 100
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.01
                tooltip_side = STG_road_to_socialism_left_side
            }
            remove_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_3
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #加强群众对政府的监督
    STG_rev_report_to_our_people = {
        visible = {has_completed_focus = STG_com_34}
        cost = 20
        days_remove = 30
        days_re_enable = 90
        complete_effect = {
            add_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_4
            }
        }
        remove_effect = {
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.005
                tooltip_side = STG_road_to_socialism_left_side
            }
            remove_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_4
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
    #加强社会主义教育
    STG_rev_education = {
        visible = {has_completed_focus = STG_com_34}
        cost = 20
        days_remove = 50
        days_re_enable = 150
        complete_effect = {
            add_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_5
            }
        }
        remove_effect = {
            add_political_power = 50
            add_power_balance_value = {
                id = STG_road_to_socialism
                value = -0.01
                tooltip_side = STG_road_to_socialism_left_side
            }
            remove_power_balance_modifier = {
                id = STG_road_to_socialism
                modifier = STG_rev_weekly_5
            }
        }
        ai_will_do = {
            factor = 10
        }
    }
}
STG_com_corruption = {
    STG_com_corruption_count_down = {
        icon = mission_icon
        is_good = no
        available = {
            always = no
        }
        activation = {
            always = no
        }
        cancel_trigger = {
            has_country_flag = STG_com_corruption_investigation_ended
        }
        days_mission_timeout = 90
        selectable_mission = no
        timeout_effect = {
            country_event = {id = STG_rev.161}
        }
    }
    STG_com_start_investigation = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_picket
                check_variable = {STG_armed_picket_action_point > 0}
            }
        }
        cost = 10
        days_remove = 10
        fire_only_once = yes
        complete_effect = {
            add_to_variable = {STG_armed_picket_action_point = -1}
        }
        remove_effect = {
            add_to_variable = {STG_com_investigation = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_visit_people = {
        visible = {
            check_variable = {STG_com_investigation > 0}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.150}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_check_account = {
        visible = {
            check_variable = {STG_com_investigation > 0}
        }
        cost = 10
        days_remove = 3
        fire_only_once = yes
        remove_effect = {
            add_to_variable = {STG_com_investigation = 1}
            hidden_effect = {
                random_list = {
                    70 = {
                        country_event = {id = STG_rev.152}
                    }
                    30 = {
                        country_event = {id = STG_rev.151}
                    }
                }
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_find_the_target = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_picket
                check_variable = {STG_armed_picket_action_point > 0}
            }
        }
        visible = {
            check_variable = {STG_com_investigation > 0}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            add_to_variable = {STG_com_investigation = 1}
            hidden_effect = {
                country_event = {id = STG_rev.153}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_dig_in = {
        visible = {
            check_variable = {STG_com_investigation > 2}
        }
        days_remove = 3
        fire_only_once = yes
        remove_effect = {
            add_to_variable = {STG_com_investigation = 1}
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_check_the_project = {
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.154}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_listen_to_report = {
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.155}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_find_evidence = {
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.156}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_visit_the_army = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_picket
                check_variable = {STG_armed_picket_action_point > 0}
            }
        }
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            add_to_variable = {STG_armed_picket_action_point = -1}
        }
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.156}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_inspect_life_style = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_picket
                check_variable = {STG_armed_picket_action_point > 0}
            }
        }
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        complete_effect = {
            add_to_variable = {STG_armed_picket_action_point = -1}
        }
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.157}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_listen_to_farmers = {
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.158}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_call_other_comerades_for_help = {
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 7
        fire_only_once = yes
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.159}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_call_the_security_agency = {
        available = {
            custom_trigger_tooltip = {
                tooltip = STG_has_available_action_point_agency
                check_variable = {STG_security_agency_action_point > 0}
            }
        }
        visible = {
            check_variable = {STG_com_investigation > 3}
        }
        cost = 10
        days_remove = 21
        fire_only_once = yes
        complete_effect = {
            add_to_variable = {STG_security_agency_action_point = -1}
        }
        remove_effect = {
            hidden_effect = {
                country_event = {id = STG_rev.160}
            }
        }
        ai_will_do = {
            factor = 1000
        }
    }
    STG_end_the_corruption = {
        visible = {
            check_variable = {STG_com_evidence > 49}
        }
        complete_effect = {
            set_country_flag = STG_com_corruption_investigation_ended
            clr_country_flag = STG_com_corruption_flag
            country_event = {id = STG_rev.162}
        }
    }
}
STG_support_NAC = {
    STG_load_infantry_equipment = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            has_equipment = {
                infantry_equipment > 499
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_capacity_t
                check_variable = {STG_capacity > 0}
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_fleet_departed
            }
        }
        cost = 10
        days_remove = 3
        cancel_trigger = {
            NAC = {
                NOT = {
                    has_war_with = BLA
                }
            }
        }
        complete_effect = {
            add_equipment_to_stockpile = {
                type = infantry_equipment
                amount = -500
                producer = STG
            }
            hidden_effect = {
                add_to_variable = {STG_capacity = -1}
                add_to_variable = {STG_loading_var = 1}
            }
        }
        cancel_effect = {
            add_political_power = 10
            add_equipment_to_stockpile = {
                type = infantry_equipment
                amount = 500
                producer = STG
            }
            add_to_variable = {STG_loading_var = -1}
        }
        remove_effect = {
            hidden_effect = {
                add_to_variable = {STG_infantry_equipment_sent = 500}
                add_to_variable = {STG_loading_var = -1}
            }
        }
        ai_will_do = {
            base = 1
        }
    }
    STG_load_support_equipment = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            has_equipment = {
                support_equipment_1 > 99
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_capacity_t
                check_variable = {STG_capacity > 0}
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_fleet_departed
            }
        }
        cost = 10
        days_remove = 3
        cancel_trigger = {
            NAC = {
                NOT = {
                    has_war_with = BLA
                }
            }
        }
        complete_effect = {
            add_equipment_to_stockpile = {
                type = support_equipment_1
                amount = -100
                producer = STG
            }
            hidden_effect = {
                add_to_variable = {STG_capacity = -1}
                add_to_variable = {STG_loading_var = 1}
            }
        }
        cancel_effect = {
            add_political_power = 10
            add_equipment_to_stockpile = {
                type = support_equipment_1
                amount = 500
                producer = STG
            }
            add_to_variable = {STG_loading_var = -1}
        }
        remove_effect = {
            hidden_effect = {
                add_to_variable = {STG_support_equipment_sent = 500}
                add_to_variable = {STG_loading_var = -1}
            }
        }
        ai_will_do = {
            base = 1
        }
    }
    STG_load_artillery_equipment = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            has_equipment = {
                artillery_equipment > 119
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_capacity_t
                check_variable = {STG_capacity > 1}
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_fleet_departed
            }
        }
        cost = 10
        days_remove = 5
        cancel_trigger = {
            NAC = {
                NOT = {
                    has_war_with = BLA
                }
            }
        }
        complete_effect = {
            add_equipment_to_stockpile = {
                type = artillery_equipment
                amount = -120
                producer = STG
            }
            hidden_effect = {
                add_to_variable = {STG_capacity = -2}
                add_to_variable = {STG_loading_var = 1}
            }
        }
        cancel_effect = {
            add_political_power = 10
            add_equipment_to_stockpile = {
                type = artillery_equipment
                amount = 120
                producer = STG
            }
            add_to_variable = {STG_loading_var = -1}
        }
        remove_effect = {
            hidden_effect = {
                add_to_variable = {STG_artillery_equipment_sent = 120}
                add_to_variable = {STG_loading_var = -1}
            }
        }
        ai_will_do = {
            base = 1
        }
    }
    STG_load_tank = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_capacity_t
                check_variable = {STG_capacity > 1}
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_fleet_departed
            }
        }
        cost = 10
        days_remove = 7
        cancel_trigger = {
            NAC = {
                NOT = {
                    has_war_with = BLA
                }
            }
        }
        complete_effect = {
            hidden_effect = {
                add_to_variable = {STG_capacity = -2}
                add_to_variable = {STG_loading_var = 1}
            }
        }
        cancel_effect = {
            add_political_power = 10
            add_to_variable = {STG_loading_var = -1}
        }
        remove_effect = {
            hidden_effect = {
                add_to_variable = {STG_tank_sent = 50}
                add_to_variable = {STG_loading_var = -1}
            }
        }
        ai_will_do = {
            base = 1
        }
    }
    STG_take_volunteers = {
        available = {
            has_manpower > 1499
            NAC = {
                has_war_with = BLA
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_capacity_t
                check_variable = {STG_capacity > 0}
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_take_volunteers
            }
            NOT = {
                has_country_flag = STG_fleet_departed
            }
        }
        cost = 10
        days_remove = 7
        cancel_trigger = {
            NAC = {
                NOT = {
                    has_war_with = BLA
                }
            }
        }
        complete_effect = {
            add_manpower = -1500
            hidden_effect = {
                add_to_variable = {STG_capacity = -1}
                set_country_flag = STG_take_volunteers
                add_to_variable = {STG_loading_var = 1}
            }
        }
        cancel_effect = {
            add_political_power = 10
            add_manpower = 1500
            add_to_variable = {STG_loading_var = -1}
        }
        remove_effect = {
            hidden_effect = {
                add_to_variable = {STG_volunteers_sent = 1500}
                add_to_variable = {STG_loading_var = -1}
            }
        }
        ai_will_do = {
            base = 1
        }
    }
    STG_load_medicial_equipment = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_capacity_t
                check_variable = {STG_capacity > 0}
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_take_volunteers
            }
            NOT = {
                has_country_flag = STG_fleet_departed
            }
        }
        cost = 20
        days_remove = 7
        cancel_trigger = {
            NAC = {
                NOT = {
                    has_war_with = BLA
                }
            }
        }
        complete_effect = {
            hidden_effect = {
                add_to_variable = {STG_capacity = -1}
                set_country_flag = STG_load_medicial_equipment
                add_to_variable = {STG_loading_var = 1}
            }
        }
        cancel_effect = {
            add_political_power = 20
            add_to_variable = {STG_loading_var = -1}
        }
        remove_effect = {
            hidden_effect = {
                add_to_variable = {STG_loading_var = -1}
            }
        }
        ai_will_do = {
            base = 1
        }
    }
    STG_load_normal_goods = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            custom_trigger_tooltip = {
                tooltip = STG_has_enough_capacity_t
                check_variable = {STG_capacity > 0}
            }
        }
        visible = {
            NOT = {
                has_country_flag = STG_load_normal_goods
            }
            NOT = {
                has_country_flag = STG_fleet_departed
            }
        }
        cost = 20
        days_remove = 7
        cancel_trigger = {
            NAC = {
                NOT = {
                    has_war_with = BLA
                }
            }
        }
        complete_effect = {
            hidden_effect = {
                add_to_variable = {STG_capacity = -1}
                set_country_flag = STG_load_normal_goods
                add_to_variable = {STG_loading_var = 1}
            }
        }
        cancel_effect = {
            add_political_power = 20
            add_to_variable = {STG_loading_var = -1}
        }
        remove_effect = {
            hidden_effect = {
                add_to_variable = {STG_loading_var = -1}
            }
        }
        ai_will_do = {
            base = 1
        }
    }
    STG_send_the_Nord_Star_fleet = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            check_variable = {STG_capacity < 5}
            custom_trigger_tooltip = {
                tooltip = STG_is_loading_t
                check_variable = {STG_loading_var < 1}
            }
        }
        fire_only_once = yes
        cost = 30
        days_remove = 50
        remove_effect = {
            country_event = {id = STG_rev.203}
            set_country_flag = STG_fleet_departed
        }
        ai_will_do = {
            base = 1000
            modifier = {
                factor = 0
                check_variable = {STG_capacity > 3}
            }
        }
    }
    STG_send_the_fleet = {
        available = {
            NAC = {
                has_war_with = BLA
            }
            check_variable = {STG_capacity < 5}
            custom_trigger_tooltip = {
                tooltip = STG_is_loading_t
                check_variable = {STG_loading_var < 1}
            }
        }
        visible = {
            has_country_flag = STG_send_the_fleet
        }
        fire_only_once = yes
        cost = 20
        days_remove = 40
        remove_effect = {
            set_country_flag = STG_fleet_departed
            random_list = {
				50 = {
					country_event = {id = STG_rev.208}
					NAC = {country_event = {id = STG_rev.209}}
				}
				30 = {
					country_event = {id = STG_rev.210}
					NAC = {country_event = {id = STG_rev.211}}
				}
				15 = {
					country_event = {id = STG_rev.212}
					NAC = {country_event = {id = STG_rev.213}}
				}
				5 = {
					country_event = {id = STG_rev.214}
					NAC = {country_event = {id = STG_rev.215}}
				}
			}
        }
        ai_will_do = {
            base = 1
            modifier = {
                factor = 0
                check_variable = {STG_capacity > 3}
            }
        }
    }
}
###debug
STG_debug_decisions = {
    STG_com_corruption_debug = {
        complete_effect = {
            set_country_flag = STG_com_corruption_debug
        }
    }
    STG_support_NAC_debug = {
        complete_effect = {
            set_country_flag = STG_support_NAC_debug
        }
    }
    STG_rev_national_security_debug = {
        complete_effect = {
            set_country_flag = STG_rev_national_security_debug
            STG_rev_national_security_setup = yes
        }
    }
    STG_set_to_sub_One_Party_Dominant_System_dem = {
        visible = {
            is_debug = yes
            is_ai = no
        }
        complete_effect = {
            set_country_leader_ideology = sub_One_Party_Dominant_System_dem
        }
    }
    STG_add_skill = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            random_unit_leader = {
                limit = {
                    OR = {
                        has_trait = STG_Reformists_Trait
                        has_trait = STG_Academic_Trait
                        has_trait = STG_Shimada_Trait
                    }
                }
                add_skill_level = 1
            }
        }
    }
    STG_add_trait_1 = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            random_unit_leader = {
                limit = {
                    OR = {
                        has_trait = STG_Reformists_Trait
                        has_trait = STG_Academic_Trait
                        has_trait = STG_Shimada_Trait
                    }
                    NOT = {has_trait = armor_officer}
                }
                add_unit_leader_trait = armor_officer
            }
            STG_ways_of_st_gloriana_bonus_update = yes
        }
    }
    STG_add_trait_2 = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            random_unit_leader = {
                limit = {
                    OR = {
                        has_trait = STG_Reformists_Trait
                        has_trait = STG_Academic_Trait
                        has_trait = STG_Shimada_Trait
                    }
                    NOT = {has_trait = infantry_officer}
                }
                add_unit_leader_trait = infantry_officer
            }
            STG_ways_of_st_gloriana_bonus_update = yes
        }
    }
    STG_alert_test = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            set_temp_variable = { alert_id = token:alert_STG_army_discontent }
            add_IRIS_alert_unless_exists = yes
        }
    }
    STG_print_variable_com = {
        visible = {
			is_debug = yes
			is_ai = no
		}
    }
    STG_super_mio = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            mio:STG_armor_organization = {
                add_mio_funds = 10000
                add_mio_size = 10
            }
        }
    }
    STG_add_claim = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            UNG = {
                set_major = yes
            }
            every_state = {
                limit = {
                    OR = {
                        is_core_of = UNG
                        is_core_of = FNG
                        is_core_of = MSA
                    }
                }
                add_claim_by = STG
            }
        }
    }
    jet_striker_units = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            set_technology = {
                jet_striker_units_tech = 1
            }
        }
    }
    STG_ilya_tech = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            set_technology = {
                STG_Clone_infantry_tech =  1
                STG_Mana_armor_tech = 1
                STG_Mana_shield_tech = 1
                STG_Mana_shell_tech = 1
            }
        }
    }
    add_breakthrough = {
        visible = {
			is_debug = yes
			is_ai = no
		}
        complete_effect = {
            add_breakthrough_progress = {
				specialization = specialization_land
				value = 1.0
			}
        }
    }
    #加载oob
    STG_debug_load_oob = {
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			load_oob = "STG"
		}
    }
    #测试战争结语
    STG_test_cg = {
        visible = {
            tag = STG
            is_debug = yes
            is_ai = no
        }
        complete_effect = {
            UNG = {
                white_peace  = {
                    tag = STG
                    message = UNG_Defeated_STG
                }
            }
            FNG = {
                white_peace  = {
                    tag = STG
                    message = FNG_Defeated_STG
                }
            }
            MSA = {
                white_peace  = {
                    tag = STG
                    message = MSA_Defeated_STG
                }
            }
        }
    }
    #加载君主制国策
    STG_debug_load_monarchy_focus = {
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_monarchy_kept
                clr_country_flag = STG_monarchy_abolished
                clr_country_flag = STG_darjeeling_route
                clr_country_flag = STG_army_takeover
                load_focus_tree = {
                    tree = STG
                    keep_completed = yes
                }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载废除君主制国策
    STG_debug_load_monarchy_abolished_focus = {
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_monarchy_abolished
                clr_country_flag = STG_monarchy_kept
                clr_country_flag = STG_darjeeling_route
                clr_country_flag = STG_army_takeover
                load_focus_tree = {
                    tree = STG
                    keep_completed = yes
                }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载政变国策
    STG_debug_load_coup_focus = {
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_army_takeover
                clr_country_flag = STG_monarchy_abolished
                clr_country_flag = STG_monarchy_kept
                clr_country_flag = STG_darjeeling_route
                load_focus_tree = {
                    tree = STG
                    keep_completed = yes
                }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载真·大吉岭国策
    STG_debug_load_true_darjeeling_focus = {
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_darjeeling_route
                clr_country_flag = STG_army_takeover
                clr_country_flag = STG_monarchy_abolished
                clr_country_flag = STG_monarchy_kept
                load_focus_tree = {
                    tree = STG
                    keep_completed = yes
                }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载伊莉雅二阶段国策
    STG_debug_load_ilya_phase_2_focus = {
        available = {
            has_country_leader = {
                character = STG_ilya
                ruling_only  = yes
            }
        }
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_ilya_phase2_enabled
                load_focus_tree = {
                        tree = STG
                        keep_completed = yes
                    }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载魔法少女伊莉雅国策
    STG_debug_load_ilya_mahoushoujo_focus = {
        available = {
            has_country_leader = {
                character = STG_ilya
                ruling_only  = yes
            }
        }
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_ilya_is_mahoushoujyo
                set_country_flag = STG_ilya_easter_enabled
                load_focus_tree = {
                    tree = STG
                    keep_completed = yes
                }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载格雷二阶段国策
    STG_debug_load_grey_phase_2_focus = {
        available = {
            has_country_leader = {
                character = STG_grey
                ruling_only  = yes
            }
        }
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_grey_phase2_enabled
                    load_focus_tree = {
                        tree = STG
                        keep_completed = yes
                    }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载格雷二阶段国策
    STG_debug_load_grey_phase_2_communism_focus = {
        available = {
            has_country_leader = {
                character = STG_grey
                ruling_only  = yes
            }
        }
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			hidden_effect = {
                set_country_flag = STG_grey_com_phase2_enabled                    
                promote_character = {
                    character = STG_grey
                    ideology = sub_Social_monarchism
                }
                load_focus_tree = {
                    tree = STG
                    keep_completed = yes
                }
                mark_focus_tree_layout_dirty = yes
            }
		}
    }
    #加载里森堡特别行政区国策
    STG_debug_load_usr_puppet_focus = {
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
            USR = {
                set_autonomy = {
                    target = STG
                    autonomy_state = autonomy_collaboration_government
                }
            }
            206 = {
                add_core_of = USR
                transfer_state_to = USR
            }
            213 = {
                add_core_of = USR
                transfer_state_to = USR
            }
            718 = {
                add_core_of = USR
                transfer_state_to = USR
            }
            682 = {
                add_core_of = USR
                transfer_state_to = USR
            }
            STG_became_USR_puppet = yes
			hidden_effect = {
                load_focus_tree = {
                    tree = STG_USR_puppet_focus
                    keep_completed = yes
                }
            }
		}
    }
    #启动里森堡崩溃
    STG_debug_start_civ_war = {
        available = {
            is_puppet_of = USR
        }
        visible = {
			is_debug = yes
			is_ai = no
            tag = STG
		}
		ai_will_do = {
			factor = 0
		}
        complete_effect = {
			country_event = {id = STG_civ_war.1}
		}
    }
}