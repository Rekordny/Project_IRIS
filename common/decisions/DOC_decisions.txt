#诗旎决议
IRIS_debug_decisions_DOC = {
	debug_DOC_Eternal_Night = {
		icon = GFX_decision_eng_trade_unions_support
		available = {
			always = yes
		}
		visible = {
			always = yes
		}
		fire_only_once = no
		complete_effect = {
			DOC = {
				load_focus_tree = DOC_Her_Majesty
				add_ideas = DOC_Bluewater_Navy
				add_ideas = DOC_Kitt_Harbour_Naval_School
				add_ideas = DOC_modern_military_5
				add_ideas = DOC_Lasnia_Naval_Design_Bureau
			}
		}
	}
	DOC_add_opposition = {
		complete_effect = {
			#clear_array = global.DOC_opposition_bg_window_list_change_record_array
			#clear_array = global.DOC_opposition_bg_window_list_change_2_record_array
			#clear_array = global.DOC_emblem_icon_window_list_change_1_array
			#clear_array = global.DOC_emblem_icon_window_list_change_2_array
			#clear_array = global.DOC_emblem_icon_window_list_change_3_array
			#clear_array = global.DOC_emblem_icon_window_list_change_4_array
			set_country_flag = DOC_opposition_bg_window_flag
			DOC_random_opposition_name = yes
			add_to_variable = {
				global.CNI_summoned_times = 1
			}
		}
	}
	DOC_take_a_look_at_ethnicity = {
		available = {
			always = no
			has_idea = national_character_tough
			86 = { has_dynamic_modifier = { modifier = national_character_mountain_hunter } }
		}
	}
}

#战争状态
DOC_Emergency_decision_category = {
	#抽调地方城防队
	DOC_Requisitioning_city_defense_D_C = {
		icon = GFX_decision_eng_trade_unions_support
		activation = {
			AND = {
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
				}
			}
		}
		cost = 50
		fire_only_once = no
		days_re_enable = 180
		visible = {
			OR = {
				NOT = {
					85 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					45 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					59 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					60 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					69 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					74 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					86 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					89 = {
						is_controlled_by = DOC
					}
				}
				NOT = {
					114 = {
						is_controlled_by = DOC
					}
				}
			}
		}
		ai_will_do = {
			factor = 9999
			modifier = {
			}
		}
		available = {
			has_political_power > 50
		}
		days_remove = 1
		modifier = {
		}
		complete_effect = {
			add_stability = -0.03
		}
		remove_effect = {
			85 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			45 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			59 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			60 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			69 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			74 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			86 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			89 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			114 = {
				if = {
					limit = {
						is_owned_and_controlled_by = DOC
					}
					create_unit = {
						division = "name = \"Schnee_City_Defense_Corps\" division_template = \"Schnee_City_Defense_Corps\" start_experience_factor = 0.2 start_equipment_factor = 1 "
						owner = DOC
					}
				}
			}
			set_country_flag = DOC_Flag_Requisitioning_city_defense
		}
	}
	DOC_The_undefeated_rose_of_permafrost_D_C = {
		cost = 300
		fire_only_once = no
		days_re_enable = 90
		visible = {
		}
		activation = {
			AND = {
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
					has_country_flag = DOC_Flag_The_undefeated_rose_of_permafrost
				}
			}
		}
		available = {
			has_character = DOC_Aisalia_Schnee
		}
		days_remove = 7
		modifier = {
			army_core_attack_factor = 1.5
			army_core_defence_factor = 5
			army_attack_factor = 1.25
			army_defence_factor = 3
			army_speed_factor = 0.25
			org_loss_when_moving = -0.95
			breakthrough_factor = 0.25
			supply_consumption_factor = -0.8
			experience_loss_factor = -1
			ai_focus_aggressive_factor = 100
		}
		complete_effect = {
			set_country_flag = DOC_Flag_The_undefeated_rose_of_permafrost
			news_event = {
				id = docnews.01
				days = 5
			}
		}
		remove_effect = {
		}
	}
	#加强部队战斗意志
	DOC_TO_OCE_morale = {
		cost = 30
		fire_only_once = no
		days_re_enable = 20
		activation = {
			AND = {
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
				}
			}
		}
		ai_will_do = {
			factor = 50
			modifier = {
			}
		}
		available = {
			check_variable = {
				DOC_morale < 40
			}
		}
		remove_trigger = {
			NOT = {
				has_war_with = OCE
			}
		}
		remove_effect = {
			##计算诗旎公国
			custom_effect_tooltip = DOC_TO_OCE_morale.TXT
			add_to_variable = {
				DOC_morale = 20
			}
		}
		force_opdate_dynamic_modifier = YES
	}
	#是否控制洛姆
	DOC_TO_Lom = {
		available = {
			hidden_trigger = {
				always = no
			}
		}
		activation = {
			AND = {
				tag = DOC
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
				}
			}
		}
		remove_trigger = {
			NOT = {
				has_war_with = OCE
			}
		}
		is_good = yes
		cancel_if_not_visible = yes
		days_mission_timeout = 12
		timeout_effect = {
			if = {
				limit = {
					OCE = {
						controls_state = 69
					}
				}
				custom_effect_tooltip = DOC_TO_East_Slavic.TXT
				##计算诗旎公国
				add_to_variable = {
					DOC_morale = -7
				}
			}
			else_if = {
				limit = {
					NOT = {
						OCE = {
							controls_state = 69
						}
					}
				}
				custom_effect_tooltip = DOC_TO_East_Slavic.TXT2
				add_to_variable = {
					DOC_morale = 2
				}
			}
			hidden_effect = {
				activate_mission = DOC_TO_Lom
			}
		}
	}
	#是否控制南斯拉
	DOC_TO_yugoslavia = {
		available = {
			hidden_trigger = {
				always = no
			}
		}
		activation = {
			AND = {
				tag = DOC
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
				}
			}
		}
		remove_trigger = {
			NOT = {
				has_war_with = OCE
			}
		}
		is_good = yes
		cancel_if_not_visible = yes
		days_mission_timeout = 12
		timeout_effect = {
			if = {
				limit = {
					OCE = {
						controls_state = 114
					}
				}
				custom_effect_tooltip = DOC_TO_East_Slavic.TXT
				##计算诗旎公国
				add_to_variable = {
					DOC_morale = -7
				}
			}
			else_if = {
				limit = {
					NOT = {
						OCE = {
							controls_state = 114
						}
					}
				}
				custom_effect_tooltip = DOC_TO_East_Slavic.TXT2
				add_to_variable = {
					DOC_morale = 2
				}
			}
			hidden_effect = {
				activate_mission = DOC_TO_yugoslavia
			}
		}
	}
	#是否控制北斯拉
	DOC_TO_North_Slavic = {
		available = {
			hidden_trigger = {
				always = no
			}
		}
		activation = {
			AND = {
				tag = DOC
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
				}
			}
		}
		remove_trigger = {
			NOT = {
				has_war_with = OCE
			}
		}
		is_good = yes
		cancel_if_not_visible = yes
		days_mission_timeout = 12
		timeout_effect = {
			if = {
				limit = {
					OCE = {
						controls_state = 86
					}
				}
				custom_effect_tooltip = DOC_TO_North_Slavic.TXT
				##计算诗旎公国
				add_to_variable = {
					DOC_morale = -15
				}
			}
			else_if = {
				limit = {
					NOT = {
						OCE = {
							controls_state = 86
						}
					}
				}
				custom_effect_tooltip = DOC_TO_North_Slavic.TXT2
				add_to_variable = {
					DOC_morale = 2
				}
			}
			hidden_effect = {
				activate_mission = DOC_TO_North_Slavic
			}
		}
	}
	#是否控制东斯拉
	DOC_TO_East_Slavic = {
		available = {
			hidden_trigger = {
				always = no
			}
		}
		activation = {
			AND = {
				tag = DOC
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
				}
			}
		}
		remove_trigger = {
			NOT = {
				has_war_with = OCE
			}
		}
		is_good = yes
		cancel_if_not_visible = yes
		days_mission_timeout = 12
		timeout_effect = {
			if = {
				limit = {
					OCE = {
						controls_state = 85
					}
				}
				custom_effect_tooltip = DOC_TO_East_Slavic.TXT
				##计算诗旎公国
				add_to_variable = {
					DOC_morale = -7
				}
			}
			else_if = {
				limit = {
					NOT = {
						OCE = {
							controls_state = 85
						}
					}
				}
				custom_effect_tooltip = DOC_TO_East_Slavic.TXT2
				add_to_variable = {
					DOC_morale = 2
				}
			}
			hidden_effect = {
				activate_mission = DOC_TO_East_Slavic
			}
		}
	}
	#我们将会胜利
	DOC_We_will_win = {
		fire_only_once = no
		days_mission_timeout = 12
		available = {
			NOT = {
				has_war_with = OCE
			}
		}
		activation = {
			tag = DOC
			has_completed_focus = DOC_NF_A04_Before_the_counteroffensive
			has_war_with = OCE
			NOT = {
				has_global_flag = OCE_DOC_WAR_OVER
			}
		}
		is_good = yes
		days_mission_timeout = 10
		timeout_effect = {
			##计算诗旎公国
			custom_effect_tooltip = DOC_We_will_win.TXT
			add_to_variable = {
				DOC_morale = 5
			}
			##刷新奥西娅意志
			#set_variable = { OCE_morale_DOC = 0 }
			#add_to_variable = { OCE_morale_DOC = OCE_morale }
			hidden_effect = {
				activate_mission = DOC_We_will_win
			}
		}
	}
	#刷新部队战斗意志（新）
	DOC_Will_to_War = {
		fire_only_once = no
		days_mission_timeout = 12
		remove_trigger = {
			NOT = {
				has_war_with = OCE
			}
		}
		activation = {
			AND = {
				tag = DOC
				has_war_with = OCE
				NOT = {
					has_global_flag = OCE_DOC_WAR_OVER
				}
			}
		}
		available = {
			NOT = {
				has_war_with = OCE
			}
		}
		is_good = NO
		days_mission_timeout = 12
		timeout_effect = {
			if = {
				limit = {
					AND = {
						check_variable = {
							DOC_morale<-20
						}
					}
				}
				if = {
					limit = {
						has_idea = DOC_Will_to_War_2
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_2
						add_idea = DOC_Will_to_War_1
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_3
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_3
						add_idea = DOC_Will_to_War_1
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_4
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_4
						add_idea = DOC_Will_to_War_1
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_5
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_5
						add_idea = DOC_Will_to_War_1
					}
				}
			}
			else_if = {
				limit = {
					AND = {
						check_variable = {
							var = DOC_morale
							value = -20
							compare = greater_than_or_equals
						}
						check_variable = {
							DOC_morale<0
						}
					}
				}
				if = {
					limit = {
						has_idea = DOC_Will_to_War_1
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_1
						add_idea = DOC_Will_to_War_2
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_3
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_3
						add_idea = DOC_Will_to_War_2
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_4
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_4
						add_idea = DOC_Will_to_War_2
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_5
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_5
						add_idea = DOC_Will_to_War_2
					}
				}
			}
			else_if = {
				limit = {
					AND = {
						check_variable = {
							var = DOC_morale
							value = 0
							compare = greater_than_or_equals
						}
						check_variable = {
							DOC_morale<35
						}
					}
				}
				if = {
					limit = {
						has_idea = DOC_Will_to_War_1
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_1
						add_idea = DOC_Will_to_War_3
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_2
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_2
						add_idea = DOC_Will_to_War_3
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_4
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_4
						add_idea = DOC_Will_to_War_3
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_5
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_5
						add_idea = DOC_Will_to_War_3
					}
				}
			}
			else_if = {
				limit = {
					AND = {
						check_variable = {
							var = DOC_morale
							value = 35
							compare = greater_than_or_equals
						}
						check_variable = {
							DOC_morale<60
						}
					}
				}
				if = {
					limit = {
						has_idea = DOC_Will_to_War_1
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_1
						add_idea = DOC_Will_to_War_4
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_2
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_2
						add_idea = DOC_Will_to_War_4
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_3
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_3
						add_idea = DOC_Will_to_War_4
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_5
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_5
						add_idea = DOC_Will_to_War_4
					}
				}
			}
			else_if = {
				limit = {
					AND = {
						check_variable = {
							var = DOC_morale
							value = 60
							compare = greater_than_or_equals
						}
					}
				}
				if = {
					limit = {
						has_idea = DOC_Will_to_War_1
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_1
						add_idea = DOC_Will_to_War_5
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_2
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_2
						add_idea = DOC_Will_to_War_5
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_3
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_3
						add_idea = DOC_Will_to_War_5
					}
				}
				else_if = {
					limit = {
						has_idea = DOC_Will_to_War_4
					}
					swap_ideas = {
						remove_idea = DOC_Will_to_War_4
						add_idea = DOC_Will_to_War_5
					}
				}
			}
			else = {
				custom_effect_tooltip = DOC_Will_to_War.TXT
			}
			hidden_effect = {
				activate_mission = DOC_Will_to_War
			}
		}
	}
	#刷新部队战斗意志（数据）
	#DOC_TO_OCE_morale_new = {
	#	cost = 0
	#	fire_only_once = no
	#	days_re_enable = 0
	#	ai_will_do = {
	#		factor = 1
	#		modifier = {
	#		}
	#	}
	#	remove_trigger = { NOT = { has_war_with = OCE } }
	#	remove_effect = {
	#		##计算诗旎公国
	#		add_to_variable = { DOC_morale = 0 }
	#		##刷新奥西娅意志
	#		#set_variable = { OCE_morale_DOC = 0 }
	#		#add_to_variable = { OCE_morale_DOC = OCE_morale }
	#	}
	#	force_opdate_dynamic_modifier = YES
	#}
	#DOC_TO_OCE_morale2 = {
	#	cost = 0
	#	remove_effect = {
	#		add_to_variable = { DOC_morale = -1000 }
	#        set_variable = { DOC_stability_factorN = DOC_stability_factor }
	#       set_variable = { DOC_war_support_factorN = DOC_war_support_factor }
	#        set_variable = { DOC_land_reinforce_rateN = DOC_land_reinforce_rate }
	#        set_variable = { DOC_army_attack_factorN = DOC_army_attack_factor }
	#        set_variable = { DOC_army_defence_factorN = DOC_army_defence_factor }
	#        set_variable = { DOC_army_morale_factorN = DOC_army_morale_factor }
	#        set_variable = { DOC_army_org_factorN = DOC_army_org_factor }
	#
	#       multiply_variable = { DOC_stability_factorN = DOC_morale }
	#       multiply_variable = { DOC_war_support_factorN = DOC_morale }
	#       multiply_variable = { DOC_land_reinforce_rateN = DOC_morale }
	#       multiply_variable = { DOC_army_attack_factorN = DOC_morale }
	#       multiply_variable = { DOC_army_defence_factorN = DOC_morale }
	#       multiply_variable = { DOC_army_morale_factorN = DOC_morale }
	#       multiply_variable = { DOC_army_org_factorN = DOC_morale }
	#	}
	#	force_opdate_dynamic_modifier = YES
	#}
}

#经济治理
DOC_Economy_decision_category = {
	DOC_Remake_the_Tax_Act_D_C = {
		cost = 0
		fire_only_once = yes
		#days_re_enable =
		visible = {
		}
		available = {
			has_completed_focus = DOC_NF_A13_Remake_the_Tax_Act
		}
		days_remove = 7
		modifier = {
			stability_weekly = 0.1
		}
		complete_effect = {
		}
		remove_effect = {
			add_political_power = 30
			add_ideas = shuishoudengji_2
		}
	}
	DOC_Promote_social_welfare_D_C = {
		cost = 0
		fire_only_once = yes
		#days_re_enable =
		visible = {
		}
		available = {
			has_completed_focus = DOC_NF_A13_1_Promote_social_welfare
		}
		days_remove = 14
		modifier = {
			political_power_cost = 3
		}
		complete_effect = {
		}
		remove_effect = {
			add_ideas = xiaoshi8
			add_ideas = DOC_Welfare_System
			set_country_flag = DOC_Promote_social_welfare
		}
	}
	DOC_Industrial_restructuring_D_C = {
		cost = 10
		fire_only_once = yes
		#days_re_enable =
		visible = {
		}
		available = {
			has_completed_focus = DOC_NF_A13_3_Industrial_restructuring
		}
		ai_will_do = {
			base = 100
		}
		days_remove = 100
		modifier = {
			political_power_cost = 1
			production_speed_infrastructure_factor = 0.66
			production_speed_arms_factory_factor = 0.66
			production_speed_industrial_complex_factor = 0.66
		}
		complete_effect = {
			hidden_effect = {
				country_event = {
					id = DOC.7
					days = 30
				}
			}
			set_country_flag = DOC_Industrial_restructuring_D_C_F
		}
		remove_effect = {
			random_controlled_state = {
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				add_building_construction = {
					type = infrastructure
					level = 1
				}
				set_country_flag = DOC_Promote_social_welfare
			}
		}
	}
}

DOC_Portal_Summoning = {
	DOC_call_troops_1 = {
		fire_only_once = yes
		cost = 100
		target_array = controlled_states
		ai_will_do = {
			factor = 35
			modifier = {
			}
		}
		visible = {
			FROM = {
				is_core_of = ROOT
			}
			NOT = {
				has_country_flag = DOC_transfer_blood_clan_army_through_portal_flag
			}
		}
		allowed = {
			original_tag = DOC
		}
		available = {
			FROM = {
				is_core_of = ROOT
				is_controlled_by = ROOT
			}
		}
		state_target = yes
		on_map_mode = map_only
		available = {
			#has_political_power > 99
			#check_variable = { army_experience > 10}
			has_completed_focus = DOC_IRIS_World_Distribution_of_Qinglan_Knights_Academy
		}
		remove_effect = {
			#army_experience = -10
			FROM = {
				limit = {
					is_owned_and_controlled_by = DOC
				}
				transfer_state_to = DOC
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -1
			}
		}
	}
	DOC_call_troops_2 = {
		fire_only_once = yes
		custom_cost_text = DOC_essence_blood_1
		custom_cost_trigger = {
			check_variable = {
				DOC.essence_blood > 0
			}
		}
		target_array = controlled_states
		ai_will_do = {
			factor = 35
			modifier = {
			}
		}
		visible = {
			FROM = {
				is_core_of = ROOT
			}
			has_country_flag = DOC_transfer_blood_clan_army_through_portal_flag
		}
		allowed = {
			original_tag = DOC
		}
		available = {
			FROM = {
				is_core_of = ROOT
				is_controlled_by = ROOT
			}
		}
		state_target = yes
		on_map_mode = map_only
		available = {
			#has_political_power > 99
			#check_variable = { army_experience > 10}
			has_completed_focus = DOC_IRIS_World_Distribution_of_Qinglan_Knights_Academy
		}
		remove_effect = {
			#army_experience = -10
			FROM = {
				limit = {
					is_owned_and_controlled_by = DOC
				}
				transfer_state_to = DOC
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"血族采邑骑士\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"血族采邑骑士\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"血族采邑骑士\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
				create_unit = {
					division = "name = \"血族部队\" division_template = \"血族采邑骑士\" start_experience_factor = 1 start_equipment_factor = 1 "
					owner = DOC
				}
			}
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -1
			}
		}
	}
	#军队转移中
	#DOC_In_the_process_of_military_transfer = {
	#    fire_only_once = no
	#	days_mission_timeout = 15
	#	available = { has_completed_focus = DOC_IRIS_World_Distribution_of_Qinglan_Knights_Academy }
	#    activation = {
	#		tag = DOC
	#    }
	#    is_good = yes
	#	timeout_effect = {
	#		create_unit = {
	#			division = "name = \"血族部队\" division_template = \"bloodline\" start_experience_factor = 1 start_equipment_factor = 1 "
	#			owner = DOC
	#		}
	#		hidden_effect = {
	#			activate_mission = DOC_In_the_process_of_military_transfer
	#		}
	#	}
	#}
}

#制造核心
DOC_Manufacturing_Core = {
	DOC_Core = {
		fire_only_once = yes
		cost = 35
		ai_will_do = {
			factor = 100
			modifier = {
			}
		}
		allowed = {
			original_tag = DOC
		}
		visible = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
			}
		}
		available = {
			FROM = {
				compliance > 20
				NOT = {
					is_core_of = ROOT
				}
				is_controlled_by = ROOT
			}
		}
		days_remove = 60
		state_target = yes
		on_map_mode = map_only
		target_array = controlled_states
		remove_effect = {
			FROM = {
				add_manpower = -209181
				add_core_of = ROOT
			}
			transfer_state = FROM
		}
	}
}

#基特港海军兵学校
DOC_Kitt_Harbour_Naval_School_decision_category = {
	#练习航海
	DOC_Practice_Sailing_D_C = {
		cost = 30
		fire_only_once = no
		days_re_enable = 30
		visible = {
		}
		available = {
			has_political_power > 30
		}
		days_remove = 7
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			navy_experience = 10
		}
	}
	#长距离练习航海
	DOC_Long_Distances_Practice_Sailing_D_C = {
		cost = 100
		fire_only_once = no
		days_re_enable = 90
		visible = {
		}
		available = {
			has_political_power > 100
		}
		days_remove = 21
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			navy_experience = 50
		}
	}
	#舰队联合演习
	DOC_Joint_exercises_D_C = {
		cost = 150
		fire_only_once = no
		days_re_enable = 180
		visible = {
		}
		available = {
			has_political_power > 150
			has_navy_size = {
				type = screen_ship
				size > 0
			}
		}
		days_remove = 30
		modifier = {
			experience_gain_army_factor = 0.25
		}
		complete_effect = {
		}
		remove_effect = {
			navy_experience = 80
		}
	}
	#水雷舰队作战思路
	DOC_Torpedo_fleet_D_C = {
		cost = 150
		fire_only_once = yes
		visible = {
		}
		available = {
			has_political_power > 150
			has_navy_size = {
				type = screen_ship
				size > 0
			}
		}
		days_remove = 30
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			add_ideas = {
				DOC_Torpedo_fleet
			}
		}
	}
	#水雷舰队夜间作战思路
	DOC_Torpedo_fleet_Night_Combat_D_C = {
		cost = 200
		fire_only_once = yes
		visible = {
		}
		available = {
			has_political_power > 200
			has_idea = DOC_Torpedo_fleet
			has_navy_size = {
				type = screen_ship
				size > 0
			}
		}
		days_remove = 30
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			remove_ideas = {
				DOC_Torpedo_fleet
			}
			add_ideas = {
				DOC_Torpedo_fleet_Night_Combat
			}
		}
	}
	#大口径主炮射击训练
	DOC_Large_Caliber_Main_Gun_Training_D_C = {
		cost = 150
		fire_only_once = yes
		visible = {
		}
		available = {
			has_political_power > 150
			has_idea = DOC_Torpedo_fleet
			has_navy_size = {
				type = capital_ship
				size > 0
			}
		}
		days_remove = 30
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			add_ideas = {
				DOC_Large_Caliber_Main_Gun_Training
			}
		}
	}
	#大型船只整备训练
	DOC_Large_Ship_Preparation_Training_D_C = {
		cost = 150
		fire_only_once = yes
		visible = {
		}
		available = {
			has_political_power > 150
			has_idea = DOC_Torpedo_fleet
			has_navy_size = {
				type = capital_ship
				size > 0
			}
		}
		days_remove = 30
		modifier = {
		}
		complete_effect = {
		}
		remove_effect = {
			add_ideas = {
				DOC_Large_Ship_Preparation_Training
			}
		}
	}
}

#反制§P“法典”§!组织的措施(BOP)
DOC_Scripture_Organization_Penetration_decision_cat = {
	#彻查§P“法典”§!组织
	DOC_Investigate_the_Scripture_organization = {
		visible = {
			has_completed_focus = DOC_NF_A21_1_Thorough_Investigate_the_Scripture_organization
		}
		available = {
			has_completed_focus = DOC_NF_A21_1_Thorough_Investigate_the_Scripture_organization
		}
		fire_only_once = yes
		complete_effect = {
			add_power_balance_value = {
				id = DOC_Scripture_Organization_Penetration
				value = 0.2
			}
		}
	}
	#放缓调查脚步
	DOC_Slow_Down_the_Investigation = {
		visible = {
			has_completed_focus = DOC_NF_A21_1_Thorough_Investigate_the_Scripture_organization
		}
		available = {
			has_completed_focus = DOC_NF_A21_1_Thorough_Investigate_the_Scripture_organization
		}
		fire_only_once = no
		cost = 100
		days_remove = 7
		complete_effect = {
			add_power_balance_value = {
				id = DOC_Scripture_Organization_Penetration
				value = -0.05
			}
		}
	}
	DOC_Investigating_Code_Organizations = {
		visible = {
		}
		available = {
			has_global_flag = OCE_DOC_WAR_OVER
		}
		ai_will_do = {
			factor = 100
			modifier = {
			}
		}
		cost = 100
		days_remove = 15
		fire_only_once = no
		complete_effect = {
			add_power_balance_value = {
				id = DOC_Scripture_Organization_Penetration
				value = 0.05
			}
			add_popularity = {
				ideology = reactionism
				popularity = -0.017
			}
		}
	}
	DOC_Investigating_Code_Organizations_2 = {
		visible = {
		}
		available = {
			has_global_flag = OCE_DOC_WAR_OVER
		}
		cost = 65
		ai_will_do = {
			factor = 75
			modifier = {
			}
		}
		days_remove = 30
		fire_only_once = no
		complete_effect = {
			add_power_balance_value = {
				id = DOC_Scripture_Organization_Penetration
				value = 0.15
			}
			add_stability = -0.05
			DOC = {
				add_manpower = -3
			}
			add_popularity = {
				ideology = reactionism
				popularity = 0.03
			}
		}
	}
	DOC_test_0 = {
		visible = {
			is_debug = yes
		}
		available = {
			is_debug = yes
		}
		fire_only_once = no
		complete_effect = {
			add_power_balance_value = {
				id = DOC_Scripture_Organization_Penetration
				value = -1
			}
		}
	}
	DOC_test_1 = {
		visible = {
			is_debug = yes
		}
		available = {
			is_debug = yes
		}
		fire_only_once = no
		complete_effect = {
			add_power_balance_value = {
				id = DOC_Scripture_Organization_Penetration
				value = 1
			}
		}
	}
}

DOC_Economy_decision_category = {
	DOC_Introduce_currency = {
		ai_will_do = {
			factor = 100
			modifier = {
			}
		}
		cost = 50
		available = {
			NOT = {
				has_country_flag = DOC_Introduce_currency_finish_flag
				has_country_flag = DOC_Introduce_currency_flag
			}
		}
		visible = {
			has_completed_focus = DOC_Docking_with_the_Moxsa_World_Monetary_System
		}
		is_good = yes
		days_remove = 30
		complete_effect = {
			activate_mission = DOC_Stabilize_prices
			set_country_flag = DOC_Evaluate_existing_assets_flag
			clr_country_flag = DOC_Establish_a_monetary_policy_framework_flag
			clr_country_flag = DOC_Excessive_existing_contracts_flag
			clr_country_flag = DOC_Excessive_existing_contracts_finish_flag
		}
	}
	DOC_Stabilize_prices = {
		allowed = {
			tag = DOC
		}
		available = {
			has_stability > 0.6
			has_country_flag = DOC_Excessive_existing_contracts_finish_flag
		}
		activation = {
			always = no
		}
		is_good = no
		days_mission_timeout = 30
		complete_effect = {
			set_country_flag = DOC_Introduce_currency_finish_flag
		}
		timeout_effect = {
			clr_country_flag = DOC_Evaluate_existing_assets_flag
			clr_country_flag = DOC_Establish_a_monetary_policy_framework_flag
			clr_country_flag = DOC_Excessive_existing_contracts_flag
			clr_country_flag = DOC_Excessive_existing_contracts_finish_flag
		}
	}
	DOC_Evaluate_existing_assets = {
		ai_will_do = {
			factor = 1
			modifier = {
			}
		}
		cost = 10
		allowed = {
			tag = DOC
		}
		available = {
			NOT = {
				has_country_flag = DOC_Introduce_currency_finish_flag
			}
		}
		visible = {
			has_country_flag = DOC_Evaluate_existing_assets_flag
		}
		days_remove = 7
		fire_only_once = no
		complete_effect = {
			set_country_flag = DOC_Introduce_currency_flag
		}
		remove_effect = {
			set_country_flag = DOC_Establish_a_monetary_policy_framework_flag
			clr_country_flag = DOC_Evaluate_existing_assets_flag
			clr_country_flag = DOC_Introduce_currency_flag
		}
	}
	DOC_Establish_a_monetary_policy_framework = {
		ai_will_do = {
			factor = 1
			modifier = {
			}
		}
		cost = 10
		allowed = {
			tag = DOC
		}
		available = {
			NOT = {
				has_country_flag = DOC_Introduce_currency_finish_flag
			}
		}
		visible = {
			has_country_flag = DOC_Establish_a_monetary_policy_framework_flag
		}
		complete_effect = {
			set_country_flag = DOC_Introduce_currency_flag
		}
		days_remove = 7
		fire_only_once = no
		remove_effect = {
			set_country_flag = DOC_Excessive_existing_contracts_flag
			clr_country_flag = DOC_Establish_a_monetary_policy_framework_flag
			clr_country_flag = DOC_Introduce_currency_flag
		}
	}
	DOC_Excessive_existing_contracts = {
		ai_will_do = {
			factor = 1
			modifier = {
			}
		}
		allowed = {
			tag = DOC
		}
		cost = 10
		available = {
			NOT = {
				has_country_flag = DOC_Introduce_currency_finish_flag
			}
		}
		visible = {
			has_country_flag = DOC_Excessive_existing_contracts_flag
		}
		complete_effect = {
			set_country_flag = DOC_Introduce_currency_flag
		}
		days_remove = 14
		fire_only_once = no
		remove_effect = {
			set_country_flag = DOC_Excessive_existing_contracts_finish_flag
			clr_country_flag = DOC_Excessive_existing_contracts_flag
			clr_country_flag = DOC_Introduce_currency_flag
		}
	}
}

DOC_process_of_democratization = {
	#给予地方贵族适当的补偿
	DOC_provide_appropriate_compensation_local_nobles = {
		cost = 25
		days_remove = 5
		days_re_enable = 10
		visible = {
			is_ai = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
			}
		}
		remove_effect = {
			custom_effect_tooltip = DOC_provide_appropriate_compensation_local_nobles_tt
			hidden_effect = {
				DOC_local_aristocratic_dissatisfaction_calculate_del = yes
			}
		}
	}
	#给予地方贵族宽限期
	DOC_granting_grace_periods_local_nobles = {
		cost = 15
		days_remove = 5
		days_re_enable = 10
		visible = {
			is_ai = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
			}
		}
		remove_effect = {
			custom_effect_tooltip = DOC_granting_grace_periods_local_nobles_tt
			hidden_effect = {
				DOC_local_aristocratic_dissatisfaction_calculate_del_2 = yes
			}
		}
	}
	#放宽部分条款
	DOC_relax_some_clauses = {
		cost = 50
		days_remove = 15
		days_re_enable = 15
		visible = {
			is_ai = no
		}
		ai_will_do = {
			factor = 15
			modifier = {
			}
		}
		remove_effect = {
			custom_effect_tooltip = DOC_relax_some_clauses_tt
			hidden_effect = {
				DOC_local_aristocratic_dissatisfaction_calculate_del_3 = yes
			}
		}
	}
	#让我们打开天窗说亮话吧
	DOC_frankly_speaking = {
		cost = 80
		visible = {
			check_variable = {
				DOC_province_classification_b < 15.1
			}
			NOT = {
				has_country_flag = DOC_noble_explosion_flag
			}
		}
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = DOC_frankly_speaking_tt
			DOC_local_aristocratic_dissatisfaction_calculate_work_out = yes
			CNI = {
				add_timed_idea = {
					idea = CNI_hasty_rise
					days = 30
				}
			}
			CNI = {
				declare_war_on = {
					target = DOC
					type = annex_everything
				}
				inherit_technology = DOC
			}
			set_global_flag = CNI_Uprising_flag
			hidden_effect = {
				clear_array = global.DOC_opposition_bg_window_list_change_record_array
				clear_array = global.DOC_opposition_bg_window_list_change_2_record_array
				clear_array = global.DOC_emblem_icon_window_list_change_1_array
				clear_array = global.DOC_emblem_icon_window_list_change_2_array
				clear_array = global.DOC_emblem_icon_window_list_change_3_array
				clear_array = global.DOC_emblem_icon_window_list_change_4_array
			}
		}
	}
	#随机使0~2个白色省份变为绿色。
	DOC_Revised_feudal_contract_entries = {
		ai_will_do = {
			factor = 5
			modifier = {
			}
		}
		cost = 35
		days_remove = 7
		days_re_enable = 13
		visible = {
			check_variable = {
				DOC_province_classification_w > 0
			}
		}
		modifier = {
			stability_factor = -0.05
		}
		remove_effect = {
			custom_effect_tooltip = DOC_Revised_feudal_contract_entries_tt
			hidden_effect = {
				DOC_local_aristocratic_dissatisfaction_calculate_add = yes
				random_list = {
					33 = {
						DOC_Revised_feudal_contract_entries_change = yes
						DOC_Revised_feudal_contract_entries_change = yes
					}
					33 = {
						DOC_Revised_feudal_contract_entries_change = yes
					}
					33 = {
					}
				}
				if = {
					limit = {
						is_ai = yes
					}
					DOC_Revised_feudal_contract_entries_change = yes
					DOC_Revised_feudal_contract_entries_change = yes
				}
			}
		}
	}
	#随机使1~2个白色省份变为绿色，或者1个绿色省份变为蓝色。
	DOC_promote_regional_land_reform = {
		ai_will_do = {
			factor = 15
			modifier = {
			}
		}
		visible = {
			check_variable = {
				DOC_province_classification_b < 15.1
			}
			OR = {
				check_variable = {
					DOC_province_classification_g > 0
				}
				check_variable = {
					DOC_province_classification_w > 0
				}
			}
		}
		cost = 75
		days_remove = 14
		days_re_enable = 15
		modifier = {
			stability_factor = -0.1
		}
		remove_effect = {
			custom_effect_tooltip = DOC_promote_regional_land_reform_tt
			hidden_effect = {
				DOC_local_aristocratic_dissatisfaction_calculate_add = yes
				if = {
					limit = {
						check_variable = {
							DOC_province_classification_w < 1
						}
					}
					DOC_promote_regional_land_reform_change = yes
				}
				else = {
					random_list = {
						33 = {
							DOC_Revised_feudal_contract_entries_change = yes
							DOC_Revised_feudal_contract_entries_change = yes
						}
						33 = {
							DOC_Revised_feudal_contract_entries_change = yes
						}
						33 = {
							DOC_promote_regional_land_reform_change = yes
						}
					}
				}
				if = {
					limit = {
						is_ai = yes
					}
					DOC_Revised_feudal_contract_entries_change = yes
					DOC_promote_regional_land_reform_change = yes
				}
			}
		}
	}
	#随机使一个蓝色省份获得1~2建筑位，1~2民工
	DOC_Subsidies_for_regional_private_industries = {
		ai_will_do = {
			factor = 10
			modifier = {
			}
		}
		visible = {
			has_government = democratic
			check_variable = {
				DOC_province_classification_b > 0
			}
		}
		cost = 50
		days_remove = 14
		days_re_enable = 30
		remove_effect = {
			custom_effect_tooltip = DOC_Subsidies_for_regional_private_industries_tt
			DOC_local_aristocratic_dissatisfaction_calculate_add = yes
			hidden_effect = {
				random_list = {
					70 = {
						DOC_Subsidies_for_regional_private_industries_change = yes
					}
					30 = {
						DOC_Subsidies_for_regional_private_industries_change = yes
						DOC_Subsidies_for_regional_private_industries_change = yes
					}
				}
			}
		}
	}
	#随机使一个绿色或者蓝色省份获得某一种资源+3~5
	DOC_transfer_of_regional_strategic_resource_exploitation_rights = {
		ai_will_do = {
			factor = 10
			modifier = {
			}
		}
		cost = 50
		days_remove = 14
		days_re_enable = 50
		visible = {
			has_government = democratic
			OR = {
				check_variable = {
					DOC_province_classification_b > 0
				}
				check_variable = {
					DOC_province_classification_g > 0
				}
			}
		}
		remove_effect = {
			custom_effect_tooltip = DOC_transfer_of_regional_strategic_resource_exploitation_rights_tt
			hidden_effect = {
				DOC_transfer_of_regional_strategic_resource_exploitation_rights_change = yes
			}
		}
	}
	#随机使一个蓝色省份获得2~3个军工，但会损失0~1个民工
	DOC_military_integration_production_of_civilian_enterprises = {
		ai_will_do = {
			factor = 10
			modifier = {
			}
		}
		cost = 50
		days_remove = 14
		days_re_enable = 30
		visible = {
			has_government = democratic
			OR = {
				check_variable = {
					DOC_province_classification_b > 0
				}
			}
		}
		remove_effect = {
			DOC_local_aristocratic_dissatisfaction_calculate_add = yes
			custom_effect_tooltip = DOC_military_integration_production_of_civilian_enterprises_rights_tt
			hidden_effect = {
				DOC_Subsidies_for_regional_private_industries_change = yes
			}
		}
	}
	DOC_promotion_of_All_Wimminger_Regional_Joint_Political_Conference = {
		ai_will_do = {
			factor = 10000
			modifier = {
			}
		}
		cost = 10
		fire_only_once = yes
		days_remove = 21
		visible = {
			NOT = {
				has_country_flag = DOC_promotion_of_All_Wimminger_Regional_Joint_Political_Conference_flag
			}
			check_variable = {
				DOC_province_classification_b > 7
			}
			check_variable = {
				DOC_province_classification_w < 1
			}
		}
		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = 0.3
			}
			set_country_flag = DOC_promotion_of_All_Wimminger_Regional_Joint_Political_Conference_flag
		}
	}
	DOC_promote_process_of_democratization_throughout_country = {
		ai_will_do = {
			factor = 10000
			modifier = {
			}
		}
		cost = 20
		fire_only_once = yes
		days_remove = 14
		visible = {
			NOT = {
				has_country_flag = DOC_promote_process_of_democratization_throughout_country_flag
			}
			has_country_flag = DOC_promotion_of_All_Wimminger_Regional_Joint_Political_Conference_flag
			check_variable = {
				DOC_province_classification_b > 7
			}
			check_variable = {
				DOC_province_classification_w < 1
			}
		}
		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = 0.3
			}
			set_country_flag = DOC_promote_process_of_democratization_throughout_country_flag
		}
	}
	DOC_democratic_republic = {
		ai_will_do = {
			factor = 10000
			modifier = {
			}
		}
		fire_only_once = yes
		visible = {
			NOT = {
				has_country_flag = DOC_democratic_republic_flag
			}
			has_country_flag = DOC_promote_process_of_democratization_throughout_country_flag
			check_variable = {
				DOC_province_classification_b > 7
			}
			check_variable = {
				DOC_province_classification_w < 1
			}
		}
		complete_effect = {
			custom_effect_tooltip = DOC_democratic_republic_tt
			set_politics = {
				ruling_party = democratic
			}
			set_country_flag = DOC_democratic_republic_flag
			set_variable = {
				another_country_leader_group = 9
			}
			hidden_effect = {
				add_ideas = DOC_Teiira_Schnee_idea
				country_event = {
					id = docnews.101
				}
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = DOC_12_c_flag
						has_global_flag = CNI_Uprising_flag
					}
				}
				set_variable = {
					DOC_Relic_Treasure_Collection_pages_2 = 1
				}
				add_to_variable = {
					DOC_Relic_Treasure_Collection_var = 1
				}
				set_variable = {
					DOC_Relic_Treasure_Collection_stability_factor = 0.01
				}
			}
			#计算选举率
			set_variable = {
				DOC_democratic_republic_temp = DOC_province_classification_b
			}
			divide_variable = {
				DOC_democratic_republic_temp = 16
			}
			multiply_variable = {
				DOC_democratic_republic_temp = 60
			}
			mark_focus_tree_layout_dirty = yes
			add_to_array = {
				IRIS_Historical_leaders_Array = token:DOC_Ningfu_Pelogar
			}
			#宁芙·佩洛加尔
			add_to_array = {
				IRIS_Historical_leaders_2_Array = token:DOC_Teiira_Schnee
			}
			#忒伊菈·诗旎
			add_to_array = {
				IRIS_Historical_leaders_voting_rate_Array = DOC_democratic_republic_temp
			}
			add_to_array = {
				GetNameIRISHistoricalDate = global.year
			}
		}
	}
}

#战略防御委员会
DOC_DE_Strategic_Defense_Committee_decision_categories = {
	#作战联合会议
	DOC_joint_operations_meeting = {
		icon = GFX_decision_generic_police_action
		available = {
			command_power < 101
			has_war = yes
		}
		cost = 50
		visible = {}
		days_remove = 10
		ai_will_do = {
			base = 50
		}
		modifier = {
			planning_speed = 0.15
			army_speed_factor = 0.1
		}
		remove_effect = {
			add_command_power = 50
		}
	}

	#战时动员
	DOC_mobilization_war = {
		icon = GFX_decision_eng_blackshirt_march
		fire_only_once = yes
		available = {
			OCF_in_a_major_battle = yes
			has_war_support > 0.5
			surrender_progress < 0.5
		}
		custom_cost_trigger = {
			command_power > 30
		}
		custom_cost_text = OCF_cost_cp_30
		# state_target = yes
		visible = {

		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -30
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 97
				state = 105
				state = 75
				state = 89
				state = 58
				state = 70
				state = 61
				state = 51
				state = 39
				state = 114
				state = 86
				state = 85
				state = 74
				state = 69
				state = 60
				state = 59
				state = 45
			}
		}
		days_remove = 10
		ai_will_do = {
			base = 50
		}
		remove_effect = {
			ROOT = {
				enable_ocf_improved_logistics = yes
				division_template = {
					name = "动员部队"
					priority = 0
					is_locked = yes
					force_allow_recruiting = yes
					regiments = {
						anti_tank_brigade = {x = 0 y = 0}
						artillery_brigade = {x = 0 y = 1}
						artillery_brigade = {x = 0 y = 2}
						infantry = {x = 1 y = 0}
						infantry = {x = 1 y = 1}
						infantry = {x = 1 y = 2}
						infantry = {x = 1 y = 3}
						infantry = {x = 2 y = 0}
						infantry = {x = 2 y = 1}
						infantry = {x = 2 y = 2}
						infantry = {x = 2 y = 3}
					}
					support = {
						engineer = {x = 0 y = 0}
						anti_air = {x = 0 y = 1}
						logistics_company = {x = 0 y = 2}
						recon = {x = 0 y = 3}
					}
				}
				capital_scope = {
					create_unit = {
						division = "division_template = \"动员部队\" start_experience_factor = 0.1 start_equipment_factor = 1.0"
						owner = FROM
						count = 20
					}
				}
				if = {
					limit = {
						has_idea = disarmed_nation
					}
					swap_ideas = {
						remove_idea = disarmed_nation
						add_idea = service_by_requirement
					}
				}
				else_if = {
					limit = {
						has_idea = volunteer_only
					}
					swap_ideas = {
						remove_idea = volunteer_only
						add_idea = service_by_requirement
					}
				}
				else_if = {
					limit = {
						has_idea = limited_conscription
					}
					swap_ideas = {
						remove_idea = limited_conscription
						add_idea = service_by_requirement
					}
				}
				else_if = {
					limit = {
						has_idea = extensive_conscription
					}
					swap_ideas = {
						remove_idea = extensive_conscription
						add_idea = service_by_requirement
					}
				}
				if = {
					limit = {
						has_idea = civilian_economy
					}
					swap_ideas = {
						remove_idea = civilian_economy
						add_idea = war_economy
					}
				}
				else_if = {
					limit = {
						has_idea = low_economic_mobilisation
					}
					swap_ideas = {
						remove_idea = low_economic_mobilisation
						add_idea = war_economy
					}
				}
				else_if = {
					limit = {
						has_idea = partial_economic_mobilisation
					}
					swap_ideas = {
						remove_idea = partial_economic_mobilisation
						add_idea = war_economy
					}
				}
				add_war_support = 0.1
			}
		}
	}

	#守卫边境
	DOC_guarding_border = {
		icon = eng_trade_unions_support
		fire_only_once = yes
		available = {
			OCF_in_a_major_battle = yes
			has_war_support > 0.5
			surrender_progress < 0.2
			count_triggers = {
				amount = 3
				97 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				105 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				140 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				141 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				75 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				89 = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}
		custom_cost_trigger = {
			command_power > 30
		}
		custom_cost_text = OCF_cost_cp_30
		visible = {

		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -30
			}
			97 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			105 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			140 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			141 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			75 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			89 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 97
				state = 105
				state = 140
				state = 141
				state = 75
				state = 89
			}
		}
		days_remove = 120
		ai_will_do = {
			base = 10
		}
		modifier = {
			attrition = -0.03
			army_org_factor = 0.1
			army_morale_factor = 0.15
			supply_consumption_factor = -0.05
		}
	}

	#防卫瓦拉几亚地区
	DOC_guarding_mountain_range_region = {
		icon = eng_trade_unions_support
		fire_only_once = yes
		available = {
			OCF_in_a_major_battle = yes
			has_war_support > 0.5
			surrender_progress > 0.2
			count_triggers = {
				amount = 2
				75 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				58 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				61 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				70 = {
					is_controlled_by_ROOT_or_ally = yes
				}
				89 = {
					is_controlled_by_ROOT_or_ally = yes
				}
			}
		}
		custom_cost_trigger = {
			command_power > 30
		}
		custom_cost_text = OCF_cost_cp_30
		visible = {

		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -30
			}
			75 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			58 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			61 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			70 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
			89 = {
				add_dynamic_modifier = {
					modifier = DOC_guarding_border_dynamic_modifiers
					scope = ROOT
					days = 120
				}
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 75
				state = 58
				state = 61
				state = 70
				state = 89
			}
		}
		days_remove = 120
		ai_will_do = {
			base = 10
		}
		modifier = {
			attrition = -0.03
			army_org_factor = 0.1
			army_morale_factor = 0.15
			supply_consumption_factor = -0.05
		}
	}

	#殊死防御
	DOC_deadly_defense = {
		icon = eng_trade_unions_support
		# fire_only_once = yes
		available = {
			OCF_in_a_major_battle = yes
			has_war_support > 0.5
			surrender_progress > 0.5
		}
		custom_cost_trigger = {
			command_power > 50
		}
		custom_cost_text = OCF_cost_cp_50
		visible = {

		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -50
			}
		}
		# highlight_states = {
		# 	highlight_state_targets = {
		# 		state = 75
		# 		state = 58
		# 		state = 61
		# 		state = 70
		# 		state = 89
		# 	}
		# }
		days_remove = 60
		ai_will_do = {
			base = 10
		}
		modifier = {
			attrition = 0.05
			army_org_factor = 0.15
			army_morale_factor = -0.1
			mobilization_speed = 0.2
			army_core_defence_factor = 0.15
			army_core_attack_factor = -0.1
		}
	}
}

#东欧危机
DOC_eastern_european_crisis = {
	#耐心 诗旎
	DOC_patient_countdown = {
		icon = GFX_decision_generic_speech
		war_with_target_on_complete = yes
		# war_with_on_timeout = URU
		# war_with_on_timeout = var:39.DOC_patient_countdown
		# war_with_on_timeout = var:97.DOC_patient_countdown
		# war_with_on_timeout = var:105.DOC_patient_countdown
		activation = {
			always = no
		}
		available = {
			OR = {
				NOT = {
					has_country_flag = in_DOC_eastern_european_crisis_flag
				}
				NOT = {
					has_global_flag = enable_DOC_eastern_european_crisis_flag
				}
			}
		}
		is_good = no
		days_mission_timeout = 30
		timeout_effect = {
			every_country = {
				limit = {
					NOT = {
						original_tag = DOC
					}
					has_country_flag = in_DOC_eastern_european_crisis_flag
				}
				DOC = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
			hidden_effect = {
				every_state = {
					limit = {
						has_state_flag = state_DOC_eastern_european_crisis_flag
					}
					clr_state_flag = state_DOC_eastern_european_crisis_flag
				}
				set_temp_variable = {
					tag_temp = DOC
				}
				IRIS_closing_world_conflicts = yes
			}
		}
	}
	#其他国家看到的倒计时
	DOC_patient_countdown_2 = {
		icon = GFX_decision_generic_speech
		activation = {
			always = no
		}
		available = {
			OR = {
				NOT = {
					has_country_flag = in_DOC_eastern_european_crisis_flag
				}
				NOT = {
					has_global_flag = enable_DOC_eastern_european_crisis_flag
				}
			}
		}
		is_good = no
		days_mission_timeout = 30
		timeout_effect = {
			effect_tooltip = {
				DOC = {
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
				}
			}
		}
	}
}

DOC_repair_portal = {
	DOC_repair_mana_formation = {
		ai_will_do = {
			factor = 100
		}
		cost = 100
		available = {
			has_war = no
			DOC = {
				owns_state = 105
				owns_state = 97
				owns_state = 39
				owns_state = 51
				owns_state = 75
				owns_state = 70
				owns_state = 61
				owns_state = 58
			}
			OR = {
				AND = {
					has_completed_focus = DOC_Expand_training_scale
					has_completed_focus = DOC_Ground_vein_cultivation_plan
					has_completed_focus = DOC_Innovate_Mana_Guide
				}
				has_completed_focus = DOC_NF_Modern_military
			}
			has_completed_focus = DOC_NF_NA2_Vulture_in_Blue_Sky
			OR = {
				has_completed_focus = DOC_NF_Naval_08_1_PLAN_SCH_Urgent
				has_completed_focus = DOC_NF_Naval_EX01_Codename_Pheromerinue
				has_completed_focus = DOC_NF_Naval_08_PLAN_SCH_III
			}
		}
		fire_only_once = yes
		days_remove = 20
		remove_effect = {
			if = {
				limit = {
					DOC = {
						is_puppet = yes
					}
				}
				every_other_country = {
					limit = {
						has_subject = ROOT
					}
					end_puppet = ROOT
				}
			}
			custom_effect_tooltip = DOC_NF_F_P01_The_Mana_Circle_in_Garniwinburg.TXT
			DOC = {
				country_event = DOC.9
			}
		}
	}
	# DOC_Relic_Treasure_Collection = {
	# 	complete_effect = {
	# 		if = {
	# 			limit = {
	# 				has_country_flag = DOC_Relic_Treasure_Collection_flag
	# 			}
	# 			clr_country_flag = DOC_Relic_Treasure_Collection_flag
	# 		}
	# 		else = {
	# 			set_country_flag = DOC_Relic_Treasure_Collection_flag
	# 		}
	# 	}
	# }
}

#血池
DOC_blood_pool = {
	#牧区提炼血之精华
	DOC_essence_blood_refining_pastoral_area = {
		ai_will_do = {
			factor = 10
		}
		available = {
			has_manpower > 25000
		}
		days_remove = 30
		remove_effect = {
			DOC_essence_blood_add = yes
		}
		complete_effect = {
			add_manpower = -25000
			add_to_variable = {
				DOC.extraction_frequency = 1
			}
		}
	}
	#现有资材转化血之精华
	DOC_essence_existing_materials_transforming_into_blood = {
		ai_will_do = {
			factor = 10
		}
		cost = 80
		complete_effect = {
			DOC_essence_blood_add = yes
			add_to_variable = {
				DOC.extraction_frequency = 1
			}
		}
	}
	#传送门转移血族军队
	DOC_transfer_blood_clan_army_through_portal = {
		ai_will_do = {
			factor = 10
		}
		fire_only_once = yes
		cost = 100
		complete_effect = {
			set_country_flag = DOC_transfer_blood_clan_army_through_portal_flag
		}
	}
	#血之咒辅助科技研究
	DOC_research_blood_curse_assisted_technology = {
		ai_will_do = {
			factor = 10
		}
		custom_cost_text = DOC_essence_blood_1
		custom_cost_trigger = {
			check_variable = {
				DOC.essence_blood > 0
			}
		}
		days_remove = 30
		modifier = {
			research_speed_factor = 0.5
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -1
			}
		}
	}
	#血之咒辅助生产
	DOC_blood_curse_assisted_production = {
		ai_will_do = {
			factor = 10
		}
		custom_cost_text = DOC_essence_blood_1
		custom_cost_trigger = {
			check_variable = {
				DOC.essence_blood > 0
			}
		}
		days_remove = 30
		modifier = {
			production_factory_efficiency_gain_factor = 0.25
			production_factory_max_efficiency_factor = 0.15
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -1
			}
		}
	}
	#领域玛纳术：没落的荆棘花园
	DOC_domain_mana_technique_declining_thorny_garden = {
		ai_will_do = {
			factor = 10
		}
		custom_cost_text = DOC_essence_blood_1
		custom_cost_trigger = {
			check_variable = {
				DOC.essence_blood > 0
			}
		}
		visible = {
			TAG = DOC
			DOC_Ammyfuia_Lyhaylad = {
				is_country_leader = yes
			}
		}
		days_remove = 7
		days_re_enable = 90
		modifier = {
			army_defence_factor = 0.5
			army_speed_factor = -0.5
			experience_loss_factor = -0.5
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -1
			}
		}
	}
	#领域玛纳术：血月升起
	DOC_domain_mana_technique_blood_moon_rises = {
		ai_will_do = {
			factor = 10
		}
		custom_cost_text = DOC_essence_blood_3
		custom_cost_trigger = {
			check_variable = {
				DOC.essence_blood > 2
			}
		}
		visible = {
			TAG = DOC
			DOC_Ammyfuia_Lyhaylad = {
				is_country_leader = yes
			}
		}
		days_remove = 7
		days_re_enable = 180
		modifier = {
			army_attack_factor = 0.25
			army_defence_factor = 0.25
			army_core_attack_factor = 0.5
			army_core_defence_factor = 0.5
			army_speed_factor = 0.25
			org_loss_when_moving = -0.25
			breakthrough_factor = 0.3
			experience_loss_factor = 0.1
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -3
			}
		}
	}
	#领域玛纳术：血月升起·三月凌空
	DOC_domain_mana_technique_blood_moon_rises_march_soars_in_sky = {
		ai_will_do = {
			factor = 10
		}
		custom_cost_text = DOC_essence_blood_10
		custom_cost_trigger = {
			check_variable = {
				DOC.essence_blood > 9
			}
		}
		visible = {
			TAG = DOC
			DOC_Ammyfuia_Lyhaylad = {
				is_country_leader = yes
			}
		}
		days_remove = 7
		days_re_enable = 360
		modifier = {
			army_attack_factor = 1
			army_defence_factor = 1
			army_core_attack_factor = 2
			army_core_defence_factor = 2
			army_speed_factor = 0.8
			org_loss_when_moving = -0.95
			breakthrough_factor = 0.8
			experience_loss_factor = 0.25
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -10
			}
		}
	}
	#领域玛纳术：永极昼的金色玫瑰
	DOC_domain_mana_technique_golden_rose_eternal_day = {
		ai_will_do = {
			factor = 10
		}
		custom_cost_text = DOC_essence_blood_3
		custom_cost_trigger = {
			check_variable = {
				DOC.essence_blood > 2
			}
		}
		visible = {
			TAG = DOC
			DOC_Shiller_Orson = {
				is_country_leader = yes
			}
		}
		days_remove = 7
		days_re_enable = 90
		modifier = {
			army_attack_factor = 0.8
			army_defence_factor = 0.8
			army_speed_factor = 0.3
			org_loss_when_moving = -0.5
			breakthrough_factor = 0.5
			experience_loss_factor = -0.25
		}
		complete_effect = {
			add_to_variable = {
				DOC.essence_blood = -3
			}
		}
	}
	#工厂提炼血之精华
	DOC_factory_distills_essence_blood = {
		ai_will_do = {
			factor = 10
		}
		available = {
			has_manpower > 5000
		}
		visible = {
			has_country_flag = DOC_factory_distills_essence_blood_flag
		}
		days_remove = 30
		days_re_enable = 60
		modifier = {
			civilian_factory_use = 50
		}
		remove_effect = {
			DOC_essence_blood_add = yes
		}
		complete_effect = {
			add_manpower = -5000
		}
	}
}
