#还清债务
YMI_pay_up_debt = {
	#偿还债务
	YMI_pay_up_debt_01 = {

		visible = {
			has_idea = YMI_assistance_of_USF_01
		}

		available = {
			tag = YMI
		}
		ai_will_do = {
			factor = 10
		}

		days_remove = 0

		cost = 200

		fire_only_once = yes

		remove_effect = {
			remove_ideas = YMI_assistance_of_USF_01
			add_ideas = YMI_assistance_of_USF_02
		}
	}
	YMI_pay_up_debt_02 = {

		visible = {
			has_idea = YMI_assistance_of_USF_02
		}

		available = {
			tag = YMI
		}
		ai_will_do = {
			factor = 10
		}

		days_remove = 0

		cost = 200

		fire_only_once = yes

		remove_effect = {
			remove_ideas = YMI_assistance_of_USF_02
			add_ideas = YMI_assistance_of_USF_03
		}
	}
	YMI_pay_up_debt_03 = {

		visible = {
			has_idea = YMI_assistance_of_USF_03
		}

		available = {
			tag = YMI
		}
		ai_will_do = {
			factor = 10
		}

		days_remove = 0

		cost = 200

		fire_only_once = yes

		remove_effect = {
			remove_ideas = YMI_assistance_of_USF_03
			add_ideas = YMI_assistance_of_USF_04
		}
	}
	YMI_pay_up_debt_04 = {

		visible = {
			has_idea = YMI_assistance_of_USF_04
		}

		available = {
			tag = YMI
		}
		ai_will_do = {
			factor = 10
		}

		days_remove = 0

		cost = 200

		fire_only_once = yes

		remove_effect = {
			remove_ideas = YMI_assistance_of_USF_04
			add_ideas = YMI_assistance_of_USF_05
		}
	}
}

#艾尔涅斯帝的创意工坊
YMI_the_workshop_of_Ernesti = {

	#艾尔涅斯帝行动中
	YMI_Ernesti_is_taking_action = {

		allowed = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Gold_lion_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silver_tiger_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Toy_chest_jigssaw > 0
				}
			}
		}

		fire_only_once = no
		days_re_enable = 12

		cost = 0

		days_remove = 12

		ai_will_do = {
			factor = 20
		}

		remove_effect = {
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_first_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_second_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_third_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_fourth_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_centaur_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT = YMI_Gold_lion_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT = YMI_Silver_tiger_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT = YMI_Toy_chest_jigssaw 
			}

			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT = -1
			}

			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT
			}

			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT = 8
			}

			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw = WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw = WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw = WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					var:Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_first_update_jigssaw = 1
						}
					}
					var:Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					var:Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					var:Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					var:Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					var:Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_second_update_jigssaw = 1
						}
					}
					var:Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					var:Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					var:Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					var:Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					var:Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_third_update_jigssaw = 1
						}
					}
					var:Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					var:Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					var:Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					var:Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_fourth_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					var:Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_fourth_update_jigssaw = 1
						}
					}
					var:Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					var:Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					var:Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					var:Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}
		}
	}

	#集体讨论
	YMI_group_discussion = {
		visible = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
		}
		available = {
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Gold_lion_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silver_tiger_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Toy_chest_jigssaw > 0
				}
			}
		}
		fire_only_once = no
		days_re_enable = 28

		cost = 20

		days_remove = 14

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_first_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_second_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_third_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_fourth_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_centaur_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT = YMI_Gold_lion_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT = YMI_Silver_tiger_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT = YMI_Toy_chest_jigssaw 
			}

			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT = -1
			}

			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT
			}

			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT = 8
			}

			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw = WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw = WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw = WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_first_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_second_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_third_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_fourth_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_fourth_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_fourth_update_jigssaw = 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_fourth_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}
		}
	}

	#性能测试
	YMI_performance_test = {
		visible = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
		}
		available = {
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Gold_lion_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silver_tiger_jigssaw > 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Toy_chest_jigssaw > 0
				}
			}
		}
		fire_only_once = no
		days_re_enable = 56

		cost = 50

		days_remove = 28

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_first_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_second_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_third_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_fourth_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT = YMI_Silhouette_Knights_centaur_update_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT = YMI_Gold_lion_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT = YMI_Silver_tiger_jigssaw 
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT = YMI_Toy_chest_jigssaw 
			}

			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT = -1
			}
			multiply_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT = -1
			}

			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Gold_lion_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Silver_tiger_jigssaw_FIRST_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT = WE_NEED_YMI_Toy_chest_jigssaw_FIRST_COUNT
			}

			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT = 8
			}
			add_to_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT = 8
			}

			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Gold_lion_jigssaw = WE_NEED_YMI_Gold_lion_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Silver_tiger_jigssaw = WE_NEED_YMI_Silver_tiger_jigssaw_FINALLY_COUNT
			}
			set_variable = {
				WE_NEED_YMI_Toy_chest_jigssaw = WE_NEED_YMI_Toy_chest_jigssaw_FINALLY_COUNT
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_first_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_second_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_third_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_fourth_update_jigssaw < 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_fourth_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}

			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_fourth_update_jigssaw = 8
					}
				}
				set_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Gold_lion_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				add_to_variable = {
					Probability_denominator = WE_NEED_YMI_Toy_chest_jigssaw
				}

				set_variable = {
					Probability_of_Silhouette_Knights = WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights = 100
				}
				set_variable = {
					Probability_of_Silhouette_Knights_centaur = WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw
				}
				divide_variable = {
					Probability_of_Silhouette_Knights_centaur = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silhouette_Knights_centaur = 100
				}
				set_variable = {
					Probability_of_Gold_lion = WE_NEED_YMI_Gold_lion_jigssaw
				}
				divide_variable = {
					Probability_of_Gold_lion = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Gold_lion = 100
				}
				set_variable = {
					Probability_of_Silver_tiger = WE_NEED_YMI_Silver_tiger_jigssaw
				}
				divide_variable = {
					Probability_of_Silver_tiger = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Silver_tiger = 100
				}
				set_variable = {
					Probability_of_Toy_chest = WE_NEED_YMI_Toy_chest_jigssaw
				}
				divide_variable = {
					Probability_of_Toy_chest = Probability_denominator
				}
				multiply_variable = {
					Probability_of_Toy_chest = 100
				}

				random_list = {
					Probability_of_Silhouette_Knights = {
						add_to_variable = {
							YMI_Silhouette_Knights_fourth_update_jigssaw = 1
						}
					}
					Probability_of_Silhouette_Knights_centaur = {
						add_to_variable = {
							YMI_Silhouette_Knights_centaur_update_jigssaw = 1
						}
					}
					Probability_of_Gold_lion = {
						add_to_variable = {
							YMI_Gold_lion_jigssaw = 1
						}
					}
					Probability_of_Silver_tiger = {
						add_to_variable = {
							YMI_Silver_tiger_jigssaw = 1
						}
					}
					Probability_of_Toy_chest = {
						add_to_variable = {
							YMI_Toy_chest_jigssaw = 1
						}
					}
				}
			}
		}
	}

	#移交国机研
	YMI_transfer_the_drawings = {
		visible = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
		}
		available = {
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_first_update_jigssaw = 0
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_second_update_jigssaw = 0
				}
				has_tech = the_Silhouette_Knights_2
				not = {
					has_tech = the_Silhouette_Knights_3
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_third_update_jigssaw = 0
				}
				has_tech = the_Silhouette_Knights_3
				not = {
					has_tech = the_Silhouette_Knights_4
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_fourth_update_jigssaw = 0
				}
				has_tech = the_Silhouette_Knights_4
				not = {
					has_tech = the_Silhouette_Knights_5
				}
			}
			or = {
				check_variable = {
					WE_NEED_YMI_Silhouette_Knights_centaur_update_jigssaw = 0
				}
				NOT = {
					has_tech = the_Silhouette_Knights_centaur_0
				}
			}
			NOT = {
				has_tech = the_Silhouette_Knights_centaur_0
				has_tech = the_Silhouette_Knights_2
				has_tech = the_Silhouette_Knights_3
				has_tech = the_Silhouette_Knights_4
				has_tech = the_Silhouette_Knights_5
			}
		}
		fire_only_once = no
		days_re_enable = 28

		cost = 40

		days_remove = 28

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					has_tech = the_Silhouette_Knights_1
					NOT = {
						has_tech = the_Silhouette_Knights_2
					}
				}
				set_technology = {
					the_Silhouette_Knights_2 = 1
				}
			}
			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					has_tech = the_Silhouette_Knights_1
					has_tech = the_Silhouette_Knights_2
					NOT = {
						has_tech = the_Silhouette_Knights_3
					}
				}
				set_technology = {
					the_Silhouette_Knights_3 = 1
				}
			}
			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw = 8
					}
					has_tech = the_Silhouette_Knights_1
					has_tech = the_Silhouette_Knights_2
					has_tech = the_Silhouette_Knights_3
					NOT = {
						has_tech = the_Silhouette_Knights_4
					}
				}
				set_technology = {
					the_Silhouette_Knights_4 = 1
				}
			}
			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_first_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_second_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_third_update_jigssaw = 8
					}
					check_variable = {
						YMI_Silhouette_Knights_fourth_update_jigssaw = 8
					}
					has_tech = the_Silhouette_Knights_1
					has_tech = the_Silhouette_Knights_2
					has_tech = the_Silhouette_Knights_3
					has_tech = the_Silhouette_Knights_4
					NOT = {
						has_tech = the_Silhouette_Knights_5
					}
				}
				set_technology = {
					the_Silhouette_Knights_5 = 1
				}
			}
			if = {
				limit = {
					check_variable = {
						YMI_Silhouette_Knights_centaur_update_jigssaw = 8
					}
					NOT = {
						has_tech = the_Silhouette_Knights_centaur_0
					}
				}
			}
			set_technology = {
				the_Silhouette_Knights_centaur_0 = 1
			}
		}
	}

	#为王室制造座机
	YMI_make_mechs_for_the_royal_family = {
		visible = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
		}
		available = {
			check_variable = {
				YMI_Gold_lion_jigssaw = 8
			}
			check_variable = {
				YMI_Silver_tiger_jigssaw = 8
			}
		}
		fire_only_once = yes

		cost = 0

		days_remove = 63

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			create_field_marshal = {
				name = "安布罗斯·塔哈沃·弗雷梅维拉"
				picture = "gfx/leaders/YMI/YMI_Ambrosius_Fremmevilla.dds"
				skill = 2
				attack_skill = 3
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 4
				traits = { YMI_Mecha_operator }
			}
			recruit_character = YMI_Geijer_Fremmevilla

			YMI_Geijer_Fremmevilla = {
				add_trait = {
					trait = YMI_Mecha_operator
				}
			}
		}
	}

	#艾尔涅斯帝的玩具箱研究
	YMI_Ernesti_research_on_toy_chest = {
		visible = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
		}
		available = {
			check_variable = {
				YMI_Gold_lion_jigssaw = 8
			}
			check_variable = {
				YMI_Silver_tiger_jigssaw = 8
			}
		}
		fire_only_once = yes

		cost = 80

		days_remove = 45

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			YMI_Ernesti_Echevallia = {
				add_trait = {
					trait = YMI_Mecha_operator
				}
			}
		}
	}

	#幻晶甲胄研究
	YMI_reseaarch_on_silhouette_armour = {
		visible = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
		}
		available = {
			tag = YMI
			has_country_flag = di_yi_jie_duan_di_qi_ge_guo_ce_flag
			has_idea = YMI_the_knight_victory_song
		}
		fire_only_once = yes

		cost = 80

		days_remove = 30

		ai_will_do = {
			factor = 5
		}

		remove_effect = {
			remove_ideas = YMI_the_knight_victory_song
			add_ideas = YMI_the_knight_victory_song_1
			add_ideas = YMI_the_knight_spy
		}
	}
}