scripted_gui = {
	IRIS_alerts = {
		context_type = player_context
		window_name = "IRIS_alerts_window"
		dirty = global.IRIS_alerts_dirty

		ai_enabled = {
			always = no
		}

		dynamic_lists = {
			IRIS_prompt_alerts_grid = {
				array = IRIS_prompt_alerts
				entry_container = [Get_IRIS_prompt_alert]
				value = IRIS_prompt_v
                index = IRIS_prompt_i
			}
		}

		effects = {
			faction_joining_bg_click = {
                set_temp_variable = { temp_i = IRIS_prompt_i }
                set_temp_variable = { temp_v = IRIS_prompt_v }
                set_temp_variable = { temp_p = IRIS_prompt_alerts_progressbars^temp_i }
                set_temp_variable = { temp_flags = IRIS_prompt_alert_flags^temp_i }
                set_temp_variable = { temp_flags2 = IRIS_prompt_alert_flags2^temp_i }
                # set_temp_variable = { temp_type = IRIS_prompt_alert_type^temp_i }
                set_temp_variable = { temp_other_var1 = IRIS_prompt_alert_other_var1^temp_i }
                set_temp_variable = { temp_other_var2 = IRIS_prompt_alert_other_var2^temp_i }
                set_temp_variable = { temp_other_var3 = IRIS_prompt_alert_other_var3^temp_i }
                set_temp_variable = { temp_other_var4 = IRIS_prompt_alert_other_var4^temp_i }
                set_temp_variable = { temp_other_var5 = IRIS_prompt_alert_other_var5^temp_i }
                set_temp_variable = { temp_num = IRIS_prompt_alerts^num }
                add_to_temp_variable = { temp_num = -1 }

				set_variable = { IRIS_prompt_alerts^temp_i = IRIS_prompt_alerts^temp_num }
                set_variable = { IRIS_prompt_alerts_progressbars^temp_i = IRIS_prompt_alerts_progressbars^temp_num }
                set_variable = { IRIS_prompt_alert_flags^temp_i = IRIS_prompt_alert_flags^temp_num }
                set_variable = { IRIS_prompt_alert_flags2^temp_i = IRIS_prompt_alert_flags2^temp_num }
                # set_variable = { IRIS_prompt_alert_type^temp_i = IRIS_prompt_alert_type^temp_num }
                set_variable = { IRIS_prompt_alert_other_var1^temp_i = IRIS_prompt_alert_other_var1^temp_num }
                set_variable = { IRIS_prompt_alert_other_var2^temp_i = IRIS_prompt_alert_other_var2^temp_num }
                set_variable = { IRIS_prompt_alert_other_var3^temp_i = IRIS_prompt_alert_other_var3^temp_num }
                set_variable = { IRIS_prompt_alert_other_var4^temp_i = IRIS_prompt_alert_other_var4^temp_num }
                set_variable = { IRIS_prompt_alert_other_var5^temp_i = IRIS_prompt_alert_other_var5^temp_num }

                set_variable = { IRIS_prompt_alerts^temp_num = temp_v }
                set_variable = { IRIS_prompt_alerts_progressbars^temp_num = temp_p }
                set_variable = { IRIS_prompt_alert_flags^temp_num = temp_flags }
                set_variable = { IRIS_prompt_alert_flags2^temp_num = temp_flags2 }
                # set_variable = { IRIS_prompt_alert_type^temp_num = temp_type }
                set_variable = { IRIS_prompt_alert_other_var1^temp_num = temp_other_var1 }
                set_variable = { IRIS_prompt_alert_other_var2^temp_num = temp_other_var2 }
                set_variable = { IRIS_prompt_alert_other_var3^temp_num = temp_other_var3 }
                set_variable = { IRIS_prompt_alert_other_var4^temp_num = temp_other_var4 }
                set_variable = { IRIS_prompt_alert_other_var5^temp_num = temp_other_var5 }

                set_variable_to_random = global.IRIS_alerts_dirty
			}
            faction_joining_bg_right_click = {
				remove_from_array = { IRIS_prompt_alerts = IRIS_prompt_v }
                remove_from_array = { IRIS_prompt_alerts_progressbars = IRIS_prompt_alerts_progressbars^IRIS_prompt_i }
                remove_from_array = { IRIS_prompt_alert_flags = IRIS_prompt_alert_flags^IRIS_prompt_i }
                remove_from_array = { IRIS_prompt_alert_flags2 = IRIS_prompt_alert_flags2^IRIS_prompt_i }
                # remove_from_array = { IRIS_prompt_alert_type = IRIS_prompt_alert_type^IRIS_prompt_i }
                remove_from_array = { IRIS_prompt_alert_other_var1 = IRIS_prompt_alert_other_var1^IRIS_prompt_i }
                remove_from_array = { IRIS_prompt_alert_other_var2 = IRIS_prompt_alert_other_var2^IRIS_prompt_i }
                remove_from_array = { IRIS_prompt_alert_other_var3 = IRIS_prompt_alert_other_var3^IRIS_prompt_i }
                remove_from_array = { IRIS_prompt_alert_other_var4 = IRIS_prompt_alert_other_var4^IRIS_prompt_i }
                remove_from_array = { IRIS_prompt_alert_other_var5 = IRIS_prompt_alert_other_var5^IRIS_prompt_i }
				set_variable_to_random = global.IRIS_alerts_dirty
                scoped_sound_effect = "menu_close_window"
			}
		}

		properties = {
			IRIS_prompt_alert_progressbar = {
				x = IRIS_prompt_alerts_progressbars^IRIS_prompt_i
			}
            IRIS_prompt_alert_flag = {
				image = "[?IRIS_prompt_alert_flags^IRIS_prompt_i.GetFlag]"
			}
			IRIS_prompt_alert_flag2 = {
				image = "[?IRIS_prompt_alert_flags2^IRIS_prompt_i.GetFlag]"
			}
		}
	}
}
